name: "Basic Engine Monitoring with Realistic Variation"
description: "Single engine monitoring with RPM, coolant temperature, oil pressure, and alternator voltage - all with realistic sine wave variations using Story 7.2 parameter interpolation"
duration: 300
version: "1.0"
category: "basic"
bridge_mode: "nmea0183"
messageRate: 1.0
scenario_type: "engine"
vessel_type: "Motor Yacht Single Engine"
test_coverage: ["engine", "rpm", "temperature", "pressure", "electrical"]

conditions:
  engine_load: "60% cruise"
  sea_state: "calm"
  temperature: "normal operating"

equipment:
  engines: 1
  batteries: 1

tags: ["engine", "monitoring", "development", "realistic", "variation"]
related_stories: ["story-2.5", "story-7.2", "epic-2"]

# NMEA sentence definitions with parameter interpolation (Story 7.2)
nmea_sentences:
  # Engine RPM with sine wave variation (Â±15 RPM from load changes)
  - sentence: "$IIRPM,E,0,{rpm},A,*XX"
    sentence_type: "RPM"
    description: "Engine RPM with realistic load cycle variations"
    source: "ENGINE_1"
    interval: 1.0
    type: "RPM"
    parameters:
      rpm:
        type: "sine"
        start: 1800
        amplitude: 15
        frequency: 0.03
        format: "0000"

  # Multi-measurement XDR sentence with multiple varying parameters
  - sentence: "$IIXDR,C,{coolant_temp},F,ENGINE#1,P,{oil_pressure},P,ENGINE#1,U,{alternator_voltage},V,ALTERNATOR*XX"
    sentence_type: "XDR"
    description: "Combined engine sensors with realistic variations - temperature, pressure, voltage"
    source: "ENGINE_SENSORS"
    interval: 1.0
    type: "XDR"
    parameters:
      coolant_temp:
        type: "sine"
        start: 180.0
        amplitude: 2.0
        frequency: 0.01
        format: "000.0"
      oil_pressure:
        type: "sine"
        start: 45.0
        amplitude: 1.5
        frequency: 0.02
        format: "00.0"
      alternator_voltage:
        type: "sine"
        start: 13.8
        amplitude: 0.15
        frequency: 0.015
        format: "00.00"

  # Engine Fuel Flow with realistic consumption variation
  - sentence: "$IIXDR,V,{fuel_flow},L,ENGINE#1_FUEL*XX"
    sentence_type: "XDR"
    description: "Engine fuel flow rate with realistic variations based on RPM and load"
    source: "ENGINE_FUEL_FLOW"
    interval: 2.0
    type: "XDR"
    parameters:
      fuel_flow:
        type: "sine"
        start: 22.5
        amplitude: 3.5
        frequency: 0.025
        format: "00.0"

  # Engine Hours (slowly incrementing)
  - sentence: "$IIXDR,G,{engine_hours},H,ENGINE#1_HOURS*XX"
    sentence_type: "XDR"
    description: "Engine operating hours counter"
    source: "ENGINE_HOURS"
    interval: 60.0
    type: "XDR"
    parameters:
      engine_hours:
        type: "linear"
        start: 1247.5
        rate: 0.0167
        format: "0000.0"
