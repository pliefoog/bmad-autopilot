name: "Comprehensive Engine Monitoring Test"
description: "Complete engine monitoring with RPM, temperature, pressure, fuel consumption and alarm conditions"
duration: 180
bridge_mode: "nmea0183"
messageRate: 1.5
scenario_type: "engine"
vessel_type: "Motor Yacht Twin Engine"
test_coverage: ["engine", "rpm", "temperature", "pressure", "fuel"]

conditions:
  engine_load: "75% cruise"
  sea_state: "moderate"
  temperature: "normal operating"

equipment:
  engines: 2
  batteries: 3
  tanks: 4

tags: ["engine", "monitoring", "dual", "alarms"]
related_stories: ["story-7.4", "story-2.5"]

nmea_sentences:
  - sentence: "$IIRPM,E,1,{rpm1},A,*XX"
    sentence_type: "RPM"
    description: "Engine 1 RPM with load variations"
    source: "ENGINE_1"
    parameters:
      rpm1:
        type: "sine"
        start: 2200
        amplitude: 200
        frequency: 0.02
        format: "0000"

  - sentence: "$IIRPM,E,2,{rpm2},A,*XX"
    sentence_type: "RPM"
    description: "Engine 2 RPM with slight offset"
    source: "ENGINE_2"
    parameters:
      rpm2:
        type: "sine"
        start: 2180
        amplitude: 180
        frequency: 0.025
        format: "0000"

  - sentence: "$IIXDR,C,{temp1},C,TMPE_1*XX"
    sentence_type: "XDR"
    description: "Engine 1 Temperature (Celsius)"
    source: "TEMP_1"
    parameters:
      temp1:
        type: "linear"
        start: 85.5
        rate: 0.02
        format: "00.0"

  - sentence: "$IIXDR,C,{temp2},C,TMPE_2*XX"
    sentence_type: "XDR"
    description: "Engine 2 Temperature (Celsius)"
    source: "TEMP_2"
    parameters:
      temp2:
        type: "linear"
        start: 87.2
        rate: 0.018
        format: "00.0"

  - sentence: "$IIXDR,P,{pressure1},B,PRES_1*XX"
    sentence_type: "XDR"
    description: "Engine 1 Oil Pressure (Bar)"
    source: "PRESSURE_1"
    parameters:
      pressure1:
        type: "random"
        min: 3.8
        max: 4.2
        format: "0.00"

  - sentence: "$IIXDR,P,{pressure2},B,PRES_2*XX"
    sentence_type: "XDR"
    description: "Engine 2 Oil Pressure (Bar)"
    source: "PRESSURE_2"
    parameters:
      pressure2:
        type: "random"
        min: 3.7
        max: 4.1
        format: "0.00"

  - sentence: "$IIXDR,V,{fuel_rate1},L,FUEL_1*XX"
    sentence_type: "XDR"
    description: "Engine 1 Fuel Flow Rate (L/hr)"
    source: "FUEL_1"
    parameters:
      fuel_rate1:
        type: "sine"
        start: 28.5
        amplitude: 3.0
        frequency: 0.01
        format: "00.0"

  - sentence: "$IIXDR,V,{fuel_rate2},L,FUEL_2*XX"
    sentence_type: "XDR"
    description: "Engine 2 Fuel Flow Rate (L/hr)"
    source: "FUEL_2"
    parameters:
      fuel_rate2:
        type: "sine"
        start: 29.2
        amplitude: 2.8
        frequency: 0.012
        format: "00.0"
