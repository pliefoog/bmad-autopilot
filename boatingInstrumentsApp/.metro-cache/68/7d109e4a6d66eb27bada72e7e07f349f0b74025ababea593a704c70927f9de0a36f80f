{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/PixelRatio","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5rdRioKC4qvLVlVTyxLOiQm3IeU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/NativeModules","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MRft9soElPgDBIQyAww27iefYeU=","exportNames":["*"],"imports":1}},{"name":"./AssetSourceResolver","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":56,"index":160}}],"key":"1XREZLfiB40YsGJEOFyn6rrYKeQ=","exportNames":["*"],"imports":1}},{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":45,"index":45}},{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":45,"index":45}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":2}},{"name":"./PlatformUtils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":161},"end":{"line":4,"column":64,"index":225}},{"start":{"line":4,"column":0,"index":161},"end":{"line":4,"column":64,"index":225}},{"start":{"line":4,"column":0,"index":161},"end":{"line":4,"column":64,"index":225}}],"key":"vk5TSZJTws6vRpll7frKCvmMWgw=","exportNames":["*"],"imports":3}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.resolveUri = resolveUri;\n  exports.selectAssetSource = selectAssetSource;\n  var _PixelRatio = _interopRequireDefault(require(_dependencyMap[1], \"react-native-web/dist/exports/PixelRatio\"));\n  var _NativeModules = _interopRequireDefault(require(_dependencyMap[2], \"react-native-web/dist/exports/NativeModules\"));\n  var _AssetSourceResolver = _interopRequireDefault(require(_dependencyMap[3], \"./AssetSourceResolver\"));\n  /**\n   * Selects the best file for the given asset (ex: choosing the best scale for images) and returns\n   * a { uri, hash } pair for the specific asset file.\n   *\n   * If the asset isn't an image with multiple scales, the first file is selected.\n   */\n  function selectAssetSource(meta) {\n    // This logic is based on that of AssetSourceResolver, with additional support for file hashes and\n    // explicitly provided URIs\n    const scale = _AssetSourceResolver.default.pickScale(meta.scales, _PixelRatio.default.get());\n    const index = meta.scales.findIndex(s => s === scale);\n    const hash = meta.fileHashes ? meta.fileHashes[index] ?? meta.fileHashes[0] : meta.hash;\n    // Allow asset processors to directly provide the URL to load\n    const uri = meta.fileUris ? meta.fileUris[index] ?? meta.fileUris[0] : meta.uri;\n    if (uri) {\n      return {\n        uri: resolveUri(uri),\n        hash\n      };\n    }\n    const fileScale = scale === 1 ? '' : `@${scale}x`;\n    const fileExtension = meta.type ? `.${encodeURIComponent(meta.type)}` : '';\n    const suffix = `/${encodeURIComponent(meta.name)}${fileScale}${fileExtension}`;\n    const params = new URLSearchParams({\n      platform: require(_dependencyMap[4], \"expo-modules-core\").Platform.OS,\n      hash: meta.hash\n    });\n    // For assets with a specified absolute URL, we use the existing origin instead of prepending the\n    // development server or production CDN URL origin\n    if (/^https?:\\/\\//.test(meta.httpServerLocation)) {\n      const uri = meta.httpServerLocation + suffix + '?' + params;\n      return {\n        uri,\n        hash\n      };\n    }\n    // For assets during development using manifest2, we use the development server's URL origin\n    const manifest2 = (0, require(_dependencyMap[5], \"./PlatformUtils\").getManifest2)();\n    const devServerUrl = manifest2?.extra?.expoGo?.developer ? 'http://' + manifest2.extra.expoGo.debuggerHost : null;\n    if (devServerUrl) {\n      const baseUrl = new URL(meta.httpServerLocation + suffix, devServerUrl);\n      baseUrl.searchParams.set('platform', require(_dependencyMap[4], \"expo-modules-core\").Platform.OS);\n      baseUrl.searchParams.set('hash', meta.hash);\n      return {\n        uri: baseUrl.href,\n        hash\n      };\n    }\n    // Temporary fallback for loading assets in Expo Go home\n    if (_NativeModules.default['ExponentKernel']) {\n      return {\n        uri: `https://classic-assets.eascdn.net/~assets/${encodeURIComponent(hash)}`,\n        hash\n      };\n    }\n    // In correctly configured apps, we arrive here if the asset is locally available on disk due to\n    // being managed by expo-updates, and `getLocalAssetUri(hash)` must return a local URI for this\n    // hash. Since the asset is local, we don't have a remote URL and specify an invalid URL (an empty\n    // string) as a placeholder.\n    return {\n      uri: '',\n      hash\n    };\n  }\n  /**\n   * Resolves the given URI to an absolute URI. If the given URI is already an absolute URI, it is\n   * simply returned. Otherwise, if it is a relative URI, it is resolved relative to the manifest's\n   * base URI.\n   */\n  function resolveUri(uri) {\n    // `manifestBaseUrl` is always an absolute URL or `null`.\n    return require(_dependencyMap[5], \"./PlatformUtils\").manifestBaseUrl ? new URL(uri, require(_dependencyMap[5], \"./PlatformUtils\").manifestBaseUrl).href : uri;\n  }\n});","lineCount":84,"map":[[10,2,3,0],[10,6,3,0,"_AssetSourceResolver"],[10,26,3,0],[10,29,3,0,"_interopRequireDefault"],[10,51,3,0],[10,52,3,0,"require"],[10,59,3,0],[10,60,3,0,"_dependencyMap"],[10,74,3,0],[11,2,5,0],[12,0,6,0],[13,0,7,0],[14,0,8,0],[15,0,9,0],[16,0,10,0],[17,2,11,7],[17,11,11,16,"selectAssetSource"],[17,28,11,33,"selectAssetSource"],[17,29,11,34,"meta"],[17,33,11,38],[17,35,11,40],[18,4,12,4],[19,4,13,4],[20,4,14,4],[20,10,14,10,"scale"],[20,15,14,15],[20,18,14,18,"AssetSourceResolver"],[20,46,14,37],[20,47,14,38,"pickScale"],[20,56,14,47],[20,57,14,48,"meta"],[20,61,14,52],[20,62,14,53,"scales"],[20,68,14,59],[20,70,14,61,"PixelRatio"],[20,89,14,71],[20,90,14,72,"get"],[20,93,14,75],[20,94,14,76],[20,95,14,77],[20,96,14,78],[21,4,15,4],[21,10,15,10,"index"],[21,15,15,15],[21,18,15,18,"meta"],[21,22,15,22],[21,23,15,23,"scales"],[21,29,15,29],[21,30,15,30,"findIndex"],[21,39,15,39],[21,40,15,41,"s"],[21,41,15,42],[21,45,15,47,"s"],[21,46,15,48],[21,51,15,53,"scale"],[21,56,15,58],[21,57,15,59],[22,4,16,4],[22,10,16,10,"hash"],[22,14,16,14],[22,17,16,17,"meta"],[22,21,16,21],[22,22,16,22,"fileHashes"],[22,32,16,32],[22,35,16,36,"meta"],[22,39,16,40],[22,40,16,41,"fileHashes"],[22,50,16,51],[22,51,16,52,"index"],[22,56,16,57],[22,57,16,58],[22,61,16,62,"meta"],[22,65,16,66],[22,66,16,67,"fileHashes"],[22,76,16,77],[22,77,16,78],[22,78,16,79],[22,79,16,80],[22,82,16,84,"meta"],[22,86,16,88],[22,87,16,89,"hash"],[22,91,16,93],[23,4,17,4],[24,4,18,4],[24,10,18,10,"uri"],[24,13,18,13],[24,16,18,16,"meta"],[24,20,18,20],[24,21,18,21,"fileUris"],[24,29,18,29],[24,32,18,33,"meta"],[24,36,18,37],[24,37,18,38,"fileUris"],[24,45,18,46],[24,46,18,47,"index"],[24,51,18,52],[24,52,18,53],[24,56,18,57,"meta"],[24,60,18,61],[24,61,18,62,"fileUris"],[24,69,18,70],[24,70,18,71],[24,71,18,72],[24,72,18,73],[24,75,18,77,"meta"],[24,79,18,81],[24,80,18,82,"uri"],[24,83,18,85],[25,4,19,4],[25,8,19,8,"uri"],[25,11,19,11],[25,13,19,13],[26,6,20,8],[26,13,20,15],[27,8,20,17,"uri"],[27,11,20,20],[27,13,20,22,"resolveUri"],[27,23,20,32],[27,24,20,33,"uri"],[27,27,20,36],[27,28,20,37],[28,8,20,39,"hash"],[29,6,20,44],[29,7,20,45],[30,4,21,4],[31,4,22,4],[31,10,22,10,"fileScale"],[31,19,22,19],[31,22,22,22,"scale"],[31,27,22,27],[31,32,22,32],[31,33,22,33],[31,36,22,36],[31,38,22,38],[31,41,22,41],[31,45,22,45,"scale"],[31,50,22,50],[31,53,22,53],[32,4,23,4],[32,10,23,10,"fileExtension"],[32,23,23,23],[32,26,23,26,"meta"],[32,30,23,30],[32,31,23,31,"type"],[32,35,23,35],[32,38,23,38],[32,42,23,42,"encodeURIComponent"],[32,60,23,60],[32,61,23,61,"meta"],[32,65,23,65],[32,66,23,66,"type"],[32,70,23,70],[32,71,23,71],[32,73,23,73],[32,76,23,76],[32,78,23,78],[33,4,24,4],[33,10,24,10,"suffix"],[33,16,24,16],[33,19,24,19],[33,23,24,23,"encodeURIComponent"],[33,41,24,41],[33,42,24,42,"meta"],[33,46,24,46],[33,47,24,47,"name"],[33,51,24,51],[33,52,24,52],[33,55,24,55,"fileScale"],[33,64,24,64],[33,67,24,67,"fileExtension"],[33,80,24,80],[33,82,24,82],[34,4,25,4],[34,10,25,10,"params"],[34,16,25,16],[34,19,25,19],[34,23,25,23,"URLSearchParams"],[34,38,25,38],[34,39,25,39],[35,6,26,8,"platform"],[35,14,26,16],[35,16,26,18,"Platform"],[35,42,26,18],[35,43,26,18,"Platform"],[35,72,26,26],[35,73,26,27,"OS"],[35,75,26,29],[36,6,27,8,"hash"],[36,10,27,12],[36,12,27,14,"meta"],[36,16,27,18],[36,17,27,19,"hash"],[37,4,28,4],[37,5,28,5],[37,6,28,6],[38,4,29,4],[39,4,30,4],[40,4,31,4],[40,8,31,8],[40,22,31,22],[40,23,31,23,"test"],[40,27,31,27],[40,28,31,28,"meta"],[40,32,31,32],[40,33,31,33,"httpServerLocation"],[40,51,31,51],[40,52,31,52],[40,54,31,54],[41,6,32,8],[41,12,32,14,"uri"],[41,15,32,17],[41,18,32,20,"meta"],[41,22,32,24],[41,23,32,25,"httpServerLocation"],[41,41,32,43],[41,44,32,46,"suffix"],[41,50,32,52],[41,53,32,55],[41,56,32,58],[41,59,32,61,"params"],[41,65,32,67],[42,6,33,8],[42,13,33,15],[43,8,33,17,"uri"],[43,11,33,20],[44,8,33,22,"hash"],[45,6,33,27],[45,7,33,28],[46,4,34,4],[47,4,35,4],[48,4,36,4],[48,10,36,10,"manifest2"],[48,19,36,19],[48,22,36,22],[48,26,36,22,"getManifest2"],[48,52,36,22],[48,53,36,22,"getManifest2"],[48,84,36,34],[48,86,36,35],[48,87,36,36],[49,4,37,4],[49,10,37,10,"devServerUrl"],[49,22,37,22],[49,25,37,25,"manifest2"],[49,34,37,34],[49,36,37,36,"extra"],[49,41,37,41],[49,43,37,43,"expoGo"],[49,49,37,49],[49,51,37,51,"developer"],[49,60,37,60],[49,63,38,10],[49,72,38,19],[49,75,38,22,"manifest2"],[49,84,38,31],[49,85,38,32,"extra"],[49,90,38,37],[49,91,38,38,"expoGo"],[49,97,38,44],[49,98,38,45,"debuggerHost"],[49,110,38,57],[49,113,39,10],[49,117,39,14],[50,4,40,4],[50,8,40,8,"devServerUrl"],[50,20,40,20],[50,22,40,22],[51,6,41,8],[51,12,41,14,"baseUrl"],[51,19,41,21],[51,22,41,24],[51,26,41,28,"URL"],[51,29,41,31],[51,30,41,32,"meta"],[51,34,41,36],[51,35,41,37,"httpServerLocation"],[51,53,41,55],[51,56,41,58,"suffix"],[51,62,41,64],[51,64,41,66,"devServerUrl"],[51,76,41,78],[51,77,41,79],[52,6,42,8,"baseUrl"],[52,13,42,15],[52,14,42,16,"searchParams"],[52,26,42,28],[52,27,42,29,"set"],[52,30,42,32],[52,31,42,33],[52,41,42,43],[52,43,42,45,"Platform"],[52,69,42,45],[52,70,42,45,"Platform"],[52,99,42,53],[52,100,42,54,"OS"],[52,102,42,56],[52,103,42,57],[53,6,43,8,"baseUrl"],[53,13,43,15],[53,14,43,16,"searchParams"],[53,26,43,28],[53,27,43,29,"set"],[53,30,43,32],[53,31,43,33],[53,37,43,39],[53,39,43,41,"meta"],[53,43,43,45],[53,44,43,46,"hash"],[53,48,43,50],[53,49,43,51],[54,6,44,8],[54,13,44,15],[55,8,45,12,"uri"],[55,11,45,15],[55,13,45,17,"baseUrl"],[55,20,45,24],[55,21,45,25,"href"],[55,25,45,29],[56,8,46,12,"hash"],[57,6,47,8],[57,7,47,9],[58,4,48,4],[59,4,49,4],[60,4,50,4],[60,8,50,8,"NativeModules"],[60,30,50,21],[60,31,50,22],[60,47,50,38],[60,48,50,39],[60,50,50,41],[61,6,51,8],[61,13,51,15],[62,8,51,17,"uri"],[62,11,51,20],[62,13,51,22],[62,58,51,67,"encodeURIComponent"],[62,76,51,85],[62,77,51,86,"hash"],[62,81,51,90],[62,82,51,91],[62,84,51,93],[63,8,51,95,"hash"],[64,6,51,100],[64,7,51,101],[65,4,52,4],[66,4,53,4],[67,4,54,4],[68,4,55,4],[69,4,56,4],[70,4,57,4],[70,11,57,11],[71,6,57,13,"uri"],[71,9,57,16],[71,11,57,18],[71,13,57,20],[72,6,57,22,"hash"],[73,4,57,27],[73,5,57,28],[74,2,58,0],[75,2,59,0],[76,0,60,0],[77,0,61,0],[78,0,62,0],[79,0,63,0],[80,2,64,7],[80,11,64,16,"resolveUri"],[80,21,64,26,"resolveUri"],[80,22,64,27,"uri"],[80,25,64,30],[80,27,64,32],[81,4,65,4],[82,4,66,4],[82,11,66,11,"manifestBaseUrl"],[82,37,66,11],[82,38,66,11,"manifestBaseUrl"],[82,72,66,26],[82,75,66,29],[82,79,66,33,"URL"],[82,82,66,36],[82,83,66,37,"uri"],[82,86,66,40],[82,88,66,42,"manifestBaseUrl"],[82,114,66,42],[82,115,66,42,"manifestBaseUrl"],[82,149,66,57],[82,150,66,58],[82,151,66,59,"href"],[82,155,66,63],[82,158,66,66,"uri"],[82,161,66,69],[83,2,67,0],[84,0,67,1],[84,3]],"functionMap":{"names":["<global>","selectAssetSource","meta.scales.findIndex$argument_0","resolveUri"],"mappings":"AAA;OCU;wCCI,kBD;CD2C;OGM;CHG"}},"type":"js/module"}]}