{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./isRecordEqual.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":47},"end":{"line":4,"column":51,"index":98}}],"key":"E5lU3h554k94C0V5puhR219BWnU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.CHILD_STATE = void 0;\n  exports.useRouteCache = useRouteCache;\n  var React = _interopRequireWildcard(require(_dependencyMap[0], \"react\"));\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  /**\n   * Utilities such as `getFocusedRouteNameFromRoute` need to access state.\n   * So we need a way to suppress the warning for those use cases.\n   * This is fine since they are internal utilities and this is not public API.\n   */\n  const CHILD_STATE = exports.CHILD_STATE = Symbol('CHILD_STATE');\n\n  /**\n   * Hook to cache route props for each screen in the navigator.\n   * This lets add warnings and modifications to the route object but keep references between renders.\n   */\n  function useRouteCache(routes) {\n    // Cache object which holds route objects for each screen\n    const cache = React.useMemo(() => ({\n      current: new Map()\n    }), []);\n    cache.current = routes.reduce((acc, route) => {\n      const previous = cache.current.get(route.key);\n      const {\n        state,\n        ...routeWithoutState\n      } = route;\n      let proxy;\n      if (previous && (0, require(_dependencyMap[1], \"./isRecordEqual.js\").isRecordEqual)(previous, routeWithoutState)) {\n        // If a cached route object already exists, reuse it\n        proxy = previous;\n      } else {\n        proxy = routeWithoutState;\n      }\n      if (process.env.NODE_ENV !== 'production') {\n        // FIXME: since the state is updated with mutation, the route object cannot be frozen\n        // As a workaround, loop through the object and make the properties readonly\n        for (const key in proxy) {\n          // @ts-expect-error: this is fine since we are looping through the object\n          const value = proxy[key];\n          Object.defineProperty(proxy, key, {\n            enumerable: true,\n            configurable: true,\n            writable: false,\n            value\n          });\n        }\n      }\n      Object.defineProperty(proxy, CHILD_STATE, {\n        enumerable: false,\n        configurable: true,\n        value: state\n      });\n      acc.set(route.key, proxy);\n      return acc;\n    }, new Map());\n    return Array.from(cache.current.values());\n  }\n});","lineCount":64,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"CHILD_STATE"],[7,21,1,13],[8,2,1,13,"exports"],[8,9,1,13],[8,10,1,13,"useRouteCache"],[8,23,1,13],[8,26,1,13,"useRouteCache"],[8,39,1,13],[9,2,3,0],[9,6,3,0,"React"],[9,11,3,0],[9,14,3,0,"_interopRequireWildcard"],[9,37,3,0],[9,38,3,0,"require"],[9,45,3,0],[9,46,3,0,"_dependencyMap"],[9,60,3,0],[10,2,3,31],[10,11,3,31,"_interopRequireWildcard"],[10,35,3,31,"e"],[10,36,3,31],[10,38,3,31,"t"],[10,39,3,31],[10,68,3,31,"WeakMap"],[10,75,3,31],[10,81,3,31,"r"],[10,82,3,31],[10,89,3,31,"WeakMap"],[10,96,3,31],[10,100,3,31,"n"],[10,101,3,31],[10,108,3,31,"WeakMap"],[10,115,3,31],[10,127,3,31,"_interopRequireWildcard"],[10,150,3,31],[10,162,3,31,"_interopRequireWildcard"],[10,163,3,31,"e"],[10,164,3,31],[10,166,3,31,"t"],[10,167,3,31],[10,176,3,31,"t"],[10,177,3,31],[10,181,3,31,"e"],[10,182,3,31],[10,186,3,31,"e"],[10,187,3,31],[10,188,3,31,"__esModule"],[10,198,3,31],[10,207,3,31,"e"],[10,208,3,31],[10,214,3,31,"o"],[10,215,3,31],[10,217,3,31,"i"],[10,218,3,31],[10,220,3,31,"f"],[10,221,3,31],[10,226,3,31,"__proto__"],[10,235,3,31],[10,243,3,31,"default"],[10,250,3,31],[10,252,3,31,"e"],[10,253,3,31],[10,270,3,31,"e"],[10,271,3,31],[10,294,3,31,"e"],[10,295,3,31],[10,320,3,31,"e"],[10,321,3,31],[10,330,3,31,"f"],[10,331,3,31],[10,337,3,31,"o"],[10,338,3,31],[10,341,3,31,"t"],[10,342,3,31],[10,345,3,31,"n"],[10,346,3,31],[10,349,3,31,"r"],[10,350,3,31],[10,358,3,31,"o"],[10,359,3,31],[10,360,3,31,"has"],[10,363,3,31],[10,364,3,31,"e"],[10,365,3,31],[10,375,3,31,"o"],[10,376,3,31],[10,377,3,31,"get"],[10,380,3,31],[10,381,3,31,"e"],[10,382,3,31],[10,385,3,31,"o"],[10,386,3,31],[10,387,3,31,"set"],[10,390,3,31],[10,391,3,31,"e"],[10,392,3,31],[10,394,3,31,"f"],[10,395,3,31],[10,411,3,31,"t"],[10,412,3,31],[10,416,3,31,"e"],[10,417,3,31],[10,433,3,31,"t"],[10,434,3,31],[10,441,3,31,"hasOwnProperty"],[10,455,3,31],[10,456,3,31,"call"],[10,460,3,31],[10,461,3,31,"e"],[10,462,3,31],[10,464,3,31,"t"],[10,465,3,31],[10,472,3,31,"i"],[10,473,3,31],[10,477,3,31,"o"],[10,478,3,31],[10,481,3,31,"Object"],[10,487,3,31],[10,488,3,31,"defineProperty"],[10,502,3,31],[10,507,3,31,"Object"],[10,513,3,31],[10,514,3,31,"getOwnPropertyDescriptor"],[10,538,3,31],[10,539,3,31,"e"],[10,540,3,31],[10,542,3,31,"t"],[10,543,3,31],[10,550,3,31,"i"],[10,551,3,31],[10,552,3,31,"get"],[10,555,3,31],[10,559,3,31,"i"],[10,560,3,31],[10,561,3,31,"set"],[10,564,3,31],[10,568,3,31,"o"],[10,569,3,31],[10,570,3,31,"f"],[10,571,3,31],[10,573,3,31,"t"],[10,574,3,31],[10,576,3,31,"i"],[10,577,3,31],[10,581,3,31,"f"],[10,582,3,31],[10,583,3,31,"t"],[10,584,3,31],[10,588,3,31,"e"],[10,589,3,31],[10,590,3,31,"t"],[10,591,3,31],[10,602,3,31,"f"],[10,603,3,31],[10,608,3,31,"e"],[10,609,3,31],[10,611,3,31,"t"],[10,612,3,31],[11,2,5,0],[12,0,6,0],[13,0,7,0],[14,0,8,0],[15,0,9,0],[16,2,10,7],[16,8,10,13,"CHILD_STATE"],[16,19,10,24],[16,22,10,24,"exports"],[16,29,10,24],[16,30,10,24,"CHILD_STATE"],[16,41,10,24],[16,44,10,27,"Symbol"],[16,50,10,33],[16,51,10,34],[16,64,10,47],[16,65,10,48],[18,2,12,0],[19,0,13,0],[20,0,14,0],[21,0,15,0],[22,2,16,7],[22,11,16,16,"useRouteCache"],[22,24,16,29,"useRouteCache"],[22,25,16,30,"routes"],[22,31,16,36],[22,33,16,38],[23,4,17,2],[24,4,18,2],[24,10,18,8,"cache"],[24,15,18,13],[24,18,18,16,"React"],[24,23,18,21],[24,24,18,22,"useMemo"],[24,31,18,29],[24,32,18,30],[24,39,18,37],[25,6,19,4,"current"],[25,13,19,11],[25,15,19,13],[25,19,19,17,"Map"],[25,22,19,20],[25,23,19,21],[26,4,20,2],[26,5,20,3],[26,6,20,4],[26,8,20,6],[26,10,20,8],[26,11,20,9],[27,4,21,2,"cache"],[27,9,21,7],[27,10,21,8,"current"],[27,17,21,15],[27,20,21,18,"routes"],[27,26,21,24],[27,27,21,25,"reduce"],[27,33,21,31],[27,34,21,32],[27,35,21,33,"acc"],[27,38,21,36],[27,40,21,38,"route"],[27,45,21,43],[27,50,21,48],[28,6,22,4],[28,12,22,10,"previous"],[28,20,22,18],[28,23,22,21,"cache"],[28,28,22,26],[28,29,22,27,"current"],[28,36,22,34],[28,37,22,35,"get"],[28,40,22,38],[28,41,22,39,"route"],[28,46,22,44],[28,47,22,45,"key"],[28,50,22,48],[28,51,22,49],[29,6,23,4],[29,12,23,10],[30,8,24,6,"state"],[30,13,24,11],[31,8,25,6],[31,11,25,9,"routeWithoutState"],[32,6,26,4],[32,7,26,5],[32,10,26,8,"route"],[32,15,26,13],[33,6,27,4],[33,10,27,8,"proxy"],[33,15,27,13],[34,6,28,4],[34,10,28,8,"previous"],[34,18,28,16],[34,22,28,20],[34,26,28,20,"isRecordEqual"],[34,52,28,20],[34,53,28,20,"isRecordEqual"],[34,88,28,33],[34,90,28,34,"previous"],[34,98,28,42],[34,100,28,44,"routeWithoutState"],[34,117,28,61],[34,118,28,62],[34,120,28,64],[35,8,29,6],[36,8,30,6,"proxy"],[36,13,30,11],[36,16,30,14,"previous"],[36,24,30,22],[37,6,31,4],[37,7,31,5],[37,13,31,11],[38,8,32,6,"proxy"],[38,13,32,11],[38,16,32,14,"routeWithoutState"],[38,33,32,31],[39,6,33,4],[40,6,34,4],[40,10,34,8,"process"],[40,17,34,15],[40,18,34,16,"env"],[40,21,34,19],[40,22,34,20,"NODE_ENV"],[40,30,34,28],[40,35,34,33],[40,47,34,45],[40,49,34,47],[41,8,35,6],[42,8,36,6],[43,8,37,6],[43,13,37,11],[43,19,37,17,"key"],[43,22,37,20],[43,26,37,24,"proxy"],[43,31,37,29],[43,33,37,31],[44,10,38,8],[45,10,39,8],[45,16,39,14,"value"],[45,21,39,19],[45,24,39,22,"proxy"],[45,29,39,27],[45,30,39,28,"key"],[45,33,39,31],[45,34,39,32],[46,10,40,8,"Object"],[46,16,40,14],[46,17,40,15,"defineProperty"],[46,31,40,29],[46,32,40,30,"proxy"],[46,37,40,35],[46,39,40,37,"key"],[46,42,40,40],[46,44,40,42],[47,12,41,10,"enumerable"],[47,22,41,20],[47,24,41,22],[47,28,41,26],[48,12,42,10,"configurable"],[48,24,42,22],[48,26,42,24],[48,30,42,28],[49,12,43,10,"writable"],[49,20,43,18],[49,22,43,20],[49,27,43,25],[50,12,44,10,"value"],[51,10,45,8],[51,11,45,9],[51,12,45,10],[52,8,46,6],[53,6,47,4],[54,6,48,4,"Object"],[54,12,48,10],[54,13,48,11,"defineProperty"],[54,27,48,25],[54,28,48,26,"proxy"],[54,33,48,31],[54,35,48,33,"CHILD_STATE"],[54,46,48,44],[54,48,48,46],[55,8,49,6,"enumerable"],[55,18,49,16],[55,20,49,18],[55,25,49,23],[56,8,50,6,"configurable"],[56,20,50,18],[56,22,50,20],[56,26,50,24],[57,8,51,6,"value"],[57,13,51,11],[57,15,51,13,"state"],[58,6,52,4],[58,7,52,5],[58,8,52,6],[59,6,53,4,"acc"],[59,9,53,7],[59,10,53,8,"set"],[59,13,53,11],[59,14,53,12,"route"],[59,19,53,17],[59,20,53,18,"key"],[59,23,53,21],[59,25,53,23,"proxy"],[59,30,53,28],[59,31,53,29],[60,6,54,4],[60,13,54,11,"acc"],[60,16,54,14],[61,4,55,2],[61,5,55,3],[61,7,55,5],[61,11,55,9,"Map"],[61,14,55,12],[61,15,55,13],[61,16,55,14],[61,17,55,15],[62,4,56,2],[62,11,56,9,"Array"],[62,16,56,14],[62,17,56,15,"from"],[62,21,56,19],[62,22,56,20,"cache"],[62,27,56,25],[62,28,56,26,"current"],[62,35,56,33],[62,36,56,34,"values"],[62,42,56,40],[62,43,56,41],[62,44,56,42],[62,45,56,43],[63,2,57,0],[64,0,57,1],[64,3]],"functionMap":{"names":["<global>","useRouteCache","React.useMemo$argument_0","routes.reduce$argument_0"],"mappings":"AAA;OCe;8BCE;IDE;gCEC;GFkC;CDE"}},"type":"js/module"}]}