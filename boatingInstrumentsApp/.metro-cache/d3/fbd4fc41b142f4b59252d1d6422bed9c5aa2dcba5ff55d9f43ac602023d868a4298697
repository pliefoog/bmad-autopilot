{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":140},"end":{"line":5,"column":36,"index":176}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../../../findNodeHandle","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":177},"end":{"line":6,"column":53,"index":230}}],"key":"k+xfarWxri7fB3IShKFMK0oi5UQ=","exportNames":["*"],"imports":1}},{"name":"../../../utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":54,"index":69}},{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":54,"index":69}}],"key":"4wo4OYT4MSo2InL8kiWmZxvepwE=","exportNames":["*"],"imports":2}},{"name":"../../../getShadowNodeFromRef","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":70},"end":{"line":4,"column":69,"index":139}}],"key":"84Qu5UH2d/L4S1+Pr1wW2nxbCNI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useViewRefHandler = useViewRefHandler;\n  var _react = require(_dependencyMap[1], \"react\");\n  var _findNodeHandle = _interopRequireDefault(require(_dependencyMap[2], \"../../../findNodeHandle\"));\n  // Ref handler for the Wrap component attached under the GestureDetector.\n  // It's responsible for setting the viewRef on the state and triggering the reattaching of handlers\n  // if the view has changed.\n  function useViewRefHandler(state, updateAttachedGestures) {\n    const refHandler = (0, _react.useCallback)(ref => {\n      if (ref === null) {\n        return;\n      }\n      state.viewRef = ref;\n\n      // if it's the first render, also set the previousViewTag to prevent reattaching gestures when not needed\n      if (state.previousViewTag === -1) {\n        state.previousViewTag = (0, _findNodeHandle.default)(state.viewRef);\n      }\n\n      // Pass true as `skipConfigUpdate`. Here we only want to trigger the eventual reattaching of handlers\n      // in case the view has changed. If the view doesn't change, the update will be handled by detector.\n      if (!state.firstRender) {\n        updateAttachedGestures(true);\n      }\n      if (__DEV__ && (0, require(_dependencyMap[3], \"../../../utils\").isFabric)() && global.isViewFlatteningDisabled) {\n        const node = (0, require(_dependencyMap[4], \"../../../getShadowNodeFromRef\").getShadowNodeFromRef)(ref);\n        if (global.isViewFlatteningDisabled(node) === false) {\n          console.error((0, require(_dependencyMap[3], \"../../../utils\").tagMessage)('GestureDetector has received a child that may get view-flattened. ' + '\\nTo prevent it from misbehaving you need to wrap the child with a `<View collapsable={false}>`.'));\n        }\n      }\n    }, [state, updateAttachedGestures]);\n    return refHandler;\n  }\n});","lineCount":40,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_interopRequireDefault"],[4,28,1,13],[4,31,1,13,"require"],[4,38,1,13],[4,39,1,13,"_dependencyMap"],[4,53,1,13],[5,2,1,13,"Object"],[5,8,1,13],[5,9,1,13,"defineProperty"],[5,23,1,13],[5,24,1,13,"exports"],[5,31,1,13],[6,4,1,13,"value"],[6,9,1,13],[7,2,1,13],[8,2,1,13,"exports"],[8,9,1,13],[8,10,1,13,"useViewRefHandler"],[8,27,1,13],[8,30,1,13,"useViewRefHandler"],[8,47,1,13],[9,2,5,0],[9,6,5,0,"_react"],[9,12,5,0],[9,15,5,0,"require"],[9,22,5,0],[9,23,5,0,"_dependencyMap"],[9,37,5,0],[10,2,6,0],[10,6,6,0,"_findNodeHandle"],[10,21,6,0],[10,24,6,0,"_interopRequireDefault"],[10,46,6,0],[10,47,6,0,"require"],[10,54,6,0],[10,55,6,0,"_dependencyMap"],[10,69,6,0],[11,2,7,0],[12,2,8,0],[13,2,9,0],[14,2,10,7],[14,11,10,16,"useViewRefHandler"],[14,28,10,33,"useViewRefHandler"],[14,29,10,34,"state"],[14,34,10,39],[14,36,10,41,"updateAttachedGestures"],[14,58,10,63],[14,60,10,65],[15,4,11,2],[15,10,11,8,"refHandler"],[15,20,11,18],[15,23,11,21],[15,27,11,21,"useCallback"],[15,45,11,32],[15,47,11,33,"ref"],[15,50,11,36],[15,54,11,40],[16,6,12,4],[16,10,12,8,"ref"],[16,13,12,11],[16,18,12,16],[16,22,12,20],[16,24,12,22],[17,8,13,6],[18,6,14,4],[19,6,15,4,"state"],[19,11,15,9],[19,12,15,10,"viewRef"],[19,19,15,17],[19,22,15,20,"ref"],[19,25,15,23],[21,6,17,4],[22,6,18,4],[22,10,18,8,"state"],[22,15,18,13],[22,16,18,14,"previousViewTag"],[22,31,18,29],[22,36,18,34],[22,37,18,35],[22,38,18,36],[22,40,18,38],[23,8,19,6,"state"],[23,13,19,11],[23,14,19,12,"previousViewTag"],[23,29,19,27],[23,32,19,30],[23,36,19,30,"findNodeHandle"],[23,59,19,44],[23,61,19,45,"state"],[23,66,19,50],[23,67,19,51,"viewRef"],[23,74,19,58],[23,75,19,59],[24,6,20,4],[26,6,22,4],[27,6,23,4],[28,6,24,4],[28,10,24,8],[28,11,24,9,"state"],[28,16,24,14],[28,17,24,15,"firstRender"],[28,28,24,26],[28,30,24,28],[29,8,25,6,"updateAttachedGestures"],[29,30,25,28],[29,31,25,29],[29,35,25,33],[29,36,25,34],[30,6,26,4],[31,6,27,4],[31,10,27,8,"__DEV__"],[31,17,27,15],[31,21,27,19],[31,25,27,19,"isFabric"],[31,51,27,19],[31,52,27,19,"isFabric"],[31,78,27,27],[31,80,27,28],[31,81,27,29],[31,85,27,33,"global"],[31,91,27,39],[31,92,27,40,"isViewFlatteningDisabled"],[31,116,27,64],[31,118,27,66],[32,8,28,6],[32,14,28,12,"node"],[32,18,28,16],[32,21,28,19],[32,25,28,19,"getShadowNodeFromRef"],[32,51,28,19],[32,52,28,19,"getShadowNodeFromRef"],[32,105,28,39],[32,107,28,40,"ref"],[32,110,28,43],[32,111,28,44],[33,8,29,6],[33,12,29,10,"global"],[33,18,29,16],[33,19,29,17,"isViewFlatteningDisabled"],[33,43,29,41],[33,44,29,42,"node"],[33,48,29,46],[33,49,29,47],[33,54,29,52],[33,59,29,57],[33,61,29,59],[34,10,30,8,"console"],[34,17,30,15],[34,18,30,16,"error"],[34,23,30,21],[34,24,30,22],[34,28,30,22,"tagMessage"],[34,54,30,22],[34,55,30,22,"tagMessage"],[34,83,30,32],[34,85,30,33],[34,153,30,101],[34,156,30,104],[34,254,30,202],[34,255,30,203],[34,256,30,204],[35,8,31,6],[36,6,32,4],[37,4,33,2],[37,5,33,3],[37,7,33,5],[37,8,33,6,"state"],[37,13,33,11],[37,15,33,13,"updateAttachedGestures"],[37,37,33,35],[37,38,33,36],[37,39,33,37],[38,4,34,2],[38,11,34,9,"refHandler"],[38,21,34,19],[39,2,35,0],[40,0,35,1],[40,3]],"functionMap":{"names":["<global>","useViewRefHandler","refHandler"],"mappings":"AAA;OCS;iCCC;GDsB;CDE"}},"type":"js/module"}]}