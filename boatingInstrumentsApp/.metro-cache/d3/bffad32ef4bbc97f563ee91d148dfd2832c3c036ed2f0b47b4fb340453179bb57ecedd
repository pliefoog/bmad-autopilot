{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":16,"index":136},"end":{"line":4,"column":32,"index":152}}],"key":"XN65eZP/QkNMzaBAXbG/zPyidpY=","exportNames":["*"],"imports":1}},{"name":"../../hooks","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":16,"index":335},"end":{"line":8,"column":38,"index":357}}],"key":"4axDW+gHYZE8GuC1vLdCjsfAmVo=","exportNames":["*"],"imports":1}},{"name":"./LinkPreviewContext","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":29,"index":183},"end":{"line":5,"column":60,"index":214}}],"key":"aLYFQm4EDGJfSD6i9vRNTM/WlNM=","exportNames":["*"],"imports":1}},{"name":"../../global-state/router-store","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":23,"index":275},"end":{"line":7,"column":65,"index":317}}],"key":"34G8cf9eMVuL1UIt4w1T43KGPlk=","exportNames":["*"],"imports":1}},{"name":"./utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":16,"index":232},"end":{"line":6,"column":34,"index":250}},{"start":{"line":6,"column":16,"index":232},"end":{"line":6,"column":34,"index":250}}],"key":"Arg6QRuIuy5D/jfcnxX1qJiHjX8=","exportNames":["*"],"imports":2}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useNextScreenId = useNextScreenId;\n  const react_1 = require(_dependencyMap[0], \"react\");\n  function useNextScreenId() {\n    const router = (0, require(_dependencyMap[1], \"../../hooks\").useRouter)();\n    const {\n      setOpenPreviewKey\n    } = (0, require(_dependencyMap[2], \"./LinkPreviewContext\").useLinkPreviewContext)();\n    const [internalNextScreenId, internalSetNextScreenId] = (0, react_1.useState)();\n    const currentHref = (0, react_1.useRef)(undefined);\n    const [tabPath, setTabPath] = (0, react_1.useState)([]);\n    (0, react_1.useEffect)(() => {\n      // When screen is prefetched, then the root state is updated with the preloaded route.\n      return require(_dependencyMap[3], \"../../global-state/router-store\").store.navigationRef.addListener('state', ({\n        data: {\n          state\n        }\n      }) => {\n        // If we have the current href, it means that we prefetched the route\n        if (currentHref.current && state) {\n          const preloadedRoute = (0, require(_dependencyMap[4], \"./utils\").getPreloadedRouteFromRootStateByHref)(currentHref.current, state);\n          const routeKey = preloadedRoute?.key;\n          const tabPathFromRootState = (0, require(_dependencyMap[4], \"./utils\").getTabPathFromRootStateByHref)(currentHref.current, state);\n          // Without this timeout react-native does not have enough time to mount the new screen\n          // and thus it will not be found on the native side\n          if (routeKey || tabPathFromRootState.length) {\n            setTimeout(() => {\n              internalSetNextScreenId(routeKey);\n              setOpenPreviewKey(routeKey);\n              setTabPath(tabPathFromRootState);\n            });\n          }\n          // We got the preloaded state, so we can reset the currentHref\n          // to prevent unnecessary processing\n          currentHref.current = undefined;\n        }\n      });\n    }, []);\n    const prefetch = (0, react_1.useCallback)(href => {\n      // Resetting the nextScreenId to undefined\n      internalSetNextScreenId(undefined);\n      router.prefetch(href);\n      currentHref.current = href;\n    }, [router.prefetch]);\n    return [{\n      nextScreenId: internalNextScreenId,\n      tabPath\n    }, prefetch];\n  }\n});","lineCount":55,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"useNextScreenId"],[7,25,3,23],[7,28,3,26,"useNextScreenId"],[7,43,3,41],[8,2,4,0],[8,8,4,6,"react_1"],[8,15,4,13],[8,18,4,16,"require"],[8,25,4,23],[8,26,4,23,"_dependencyMap"],[8,40,4,23],[8,52,4,31],[8,53,4,32],[9,2,9,0],[9,11,9,9,"useNextScreenId"],[9,26,9,24,"useNextScreenId"],[9,27,9,24],[9,29,9,27],[10,4,10,4],[10,10,10,10,"router"],[10,16,10,16],[10,19,10,19],[10,20,10,20],[10,21,10,21],[10,23,10,23,"require"],[10,30,10,23],[10,31,10,23,"_dependencyMap"],[10,45,10,23],[10,65,10,31,"useRouter"],[10,74,10,40],[10,76,10,42],[10,77,10,43],[11,4,11,4],[11,10,11,10],[12,6,11,12,"setOpenPreviewKey"],[13,4,11,30],[13,5,11,31],[13,8,11,34],[13,9,11,35],[13,10,11,36],[13,12,11,38,"require"],[13,19,11,38],[13,20,11,38,"_dependencyMap"],[13,34,11,38],[13,63,11,59,"useLinkPreviewContext"],[13,84,11,80],[13,86,11,82],[13,87,11,83],[14,4,12,4],[14,10,12,10],[14,11,12,11,"internalNextScreenId"],[14,31,12,31],[14,33,12,33,"internalSetNextScreenId"],[14,56,12,56],[14,57,12,57],[14,60,12,60],[14,61,12,61],[14,62,12,62],[14,64,12,64,"react_1"],[14,71,12,71],[14,72,12,72,"useState"],[14,80,12,80],[14,82,12,82],[14,83,12,83],[15,4,13,4],[15,10,13,10,"currentHref"],[15,21,13,21],[15,24,13,24],[15,25,13,25],[15,26,13,26],[15,28,13,28,"react_1"],[15,35,13,35],[15,36,13,36,"useRef"],[15,42,13,42],[15,44,13,44,"undefined"],[15,53,13,53],[15,54,13,54],[16,4,14,4],[16,10,14,10],[16,11,14,11,"tabPath"],[16,18,14,18],[16,20,14,20,"setTabPath"],[16,30,14,30],[16,31,14,31],[16,34,14,34],[16,35,14,35],[16,36,14,36],[16,38,14,38,"react_1"],[16,45,14,45],[16,46,14,46,"useState"],[16,54,14,54],[16,56,14,56],[16,58,14,58],[16,59,14,59],[17,4,15,4],[17,5,15,5],[17,6,15,6],[17,8,15,8,"react_1"],[17,15,15,15],[17,16,15,16,"useEffect"],[17,25,15,25],[17,27,15,27],[17,33,15,33],[18,6,16,8],[19,6,17,8],[19,13,17,15,"require"],[19,20,17,15],[19,21,17,15,"_dependencyMap"],[19,35,17,15],[19,75,17,30,"store"],[19,80,17,35],[19,81,17,36,"navigationRef"],[19,94,17,49],[19,95,17,50,"addListener"],[19,106,17,61],[19,107,17,62],[19,114,17,69],[19,116,17,71],[19,117,17,72],[20,8,17,74,"data"],[20,12,17,78],[20,14,17,80],[21,10,17,82,"state"],[22,8,17,88],[23,6,17,90],[23,7,17,91],[23,12,17,96],[24,8,18,12],[25,8,19,12],[25,12,19,16,"currentHref"],[25,23,19,27],[25,24,19,28,"current"],[25,31,19,35],[25,35,19,39,"state"],[25,40,19,44],[25,42,19,46],[26,10,20,16],[26,16,20,22,"preloadedRoute"],[26,30,20,36],[26,33,20,39],[26,34,20,40],[26,35,20,41],[26,37,20,43,"require"],[26,44,20,43],[26,45,20,43,"_dependencyMap"],[26,59,20,43],[26,75,20,51,"getPreloadedRouteFromRootStateByHref"],[26,111,20,87],[26,113,20,89,"currentHref"],[26,124,20,100],[26,125,20,101,"current"],[26,132,20,108],[26,134,20,110,"state"],[26,139,20,115],[26,140,20,116],[27,10,21,16],[27,16,21,22,"routeKey"],[27,24,21,30],[27,27,21,33,"preloadedRoute"],[27,41,21,47],[27,43,21,49,"key"],[27,46,21,52],[28,10,22,16],[28,16,22,22,"tabPathFromRootState"],[28,36,22,42],[28,39,22,45],[28,40,22,46],[28,41,22,47],[28,43,22,49,"require"],[28,50,22,49],[28,51,22,49,"_dependencyMap"],[28,65,22,49],[28,81,22,57,"getTabPathFromRootStateByHref"],[28,110,22,86],[28,112,22,88,"currentHref"],[28,123,22,99],[28,124,22,100,"current"],[28,131,22,107],[28,133,22,109,"state"],[28,138,22,114],[28,139,22,115],[29,10,23,16],[30,10,24,16],[31,10,25,16],[31,14,25,20,"routeKey"],[31,22,25,28],[31,26,25,32,"tabPathFromRootState"],[31,46,25,52],[31,47,25,53,"length"],[31,53,25,59],[31,55,25,61],[32,12,26,20,"setTimeout"],[32,22,26,30],[32,23,26,31],[32,29,26,37],[33,14,27,24,"internalSetNextScreenId"],[33,37,27,47],[33,38,27,48,"routeKey"],[33,46,27,56],[33,47,27,57],[34,14,28,24,"setOpenPreviewKey"],[34,31,28,41],[34,32,28,42,"routeKey"],[34,40,28,50],[34,41,28,51],[35,14,29,24,"setTabPath"],[35,24,29,34],[35,25,29,35,"tabPathFromRootState"],[35,45,29,55],[35,46,29,56],[36,12,30,20],[36,13,30,21],[36,14,30,22],[37,10,31,16],[38,10,32,16],[39,10,33,16],[40,10,34,16,"currentHref"],[40,21,34,27],[40,22,34,28,"current"],[40,29,34,35],[40,32,34,38,"undefined"],[40,41,34,47],[41,8,35,12],[42,6,36,8],[42,7,36,9],[42,8,36,10],[43,4,37,4],[43,5,37,5],[43,7,37,7],[43,9,37,9],[43,10,37,10],[44,4,38,4],[44,10,38,10,"prefetch"],[44,18,38,18],[44,21,38,21],[44,22,38,22],[44,23,38,23],[44,25,38,25,"react_1"],[44,32,38,32],[44,33,38,33,"useCallback"],[44,44,38,44],[44,46,38,47,"href"],[44,50,38,51],[44,54,38,56],[45,6,39,8],[46,6,40,8,"internalSetNextScreenId"],[46,29,40,31],[46,30,40,32,"undefined"],[46,39,40,41],[46,40,40,42],[47,6,41,8,"router"],[47,12,41,14],[47,13,41,15,"prefetch"],[47,21,41,23],[47,22,41,24,"href"],[47,26,41,28],[47,27,41,29],[48,6,42,8,"currentHref"],[48,17,42,19],[48,18,42,20,"current"],[48,25,42,27],[48,28,42,30,"href"],[48,32,42,34],[49,4,43,4],[49,5,43,5],[49,7,43,7],[49,8,43,8,"router"],[49,14,43,14],[49,15,43,15,"prefetch"],[49,23,43,23],[49,24,43,24],[49,25,43,25],[50,4,44,4],[50,11,44,11],[50,12,44,12],[51,6,44,14,"nextScreenId"],[51,18,44,26],[51,20,44,28,"internalNextScreenId"],[51,40,44,48],[52,6,44,50,"tabPath"],[53,4,44,58],[53,5,44,59],[53,7,44,61,"prefetch"],[53,15,44,69],[53,16,44,70],[54,2,45,0],[55,0,45,1],[55,3]],"functionMap":{"names":["<global>","useNextScreenId","<anonymous>","router_store_1.store.navigationRef.addListener$argument_1","setTimeout$argument_0"],"mappings":"AAA;ACQ;2BCM;uECE;+BCS;qBDI;SDM;KDC;8CCC;KDK;CDE"}},"type":"js/module"}]}