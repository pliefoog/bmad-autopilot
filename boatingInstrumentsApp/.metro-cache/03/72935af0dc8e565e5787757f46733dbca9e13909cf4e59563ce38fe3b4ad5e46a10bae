{"dependencies":[{"name":"./matchers","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":19,"index":281},"end":{"line":6,"column":40,"index":302}}],"key":"89ylKT57ef0l7ma8+p1HhPaMj94=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.parseRouteSegments = parseRouteSegments;\n  exports.getReactNavigationScreensConfig = getReactNavigationScreensConfig;\n  exports.getReactNavigationConfig = getReactNavigationConfig;\n  // `[page]` -> `:page`\n  // `page` -> `page`\n  function convertDynamicRouteToReactNavigation(segment) {\n    // NOTE(EvanBacon): To support shared routes we preserve group segments.\n    if (segment === 'index') {\n      return '';\n    }\n    if (segment === '+not-found') {\n      return '*not-found';\n    }\n    var dynamicName = (0, require(_dependencyMap[0], \"./matchers\").matchDynamicName)(segment);\n    if (dynamicName && !dynamicName.deep) {\n      return `:${dynamicName.name}`;\n    } else if (dynamicName?.deep) {\n      return '*' + dynamicName.name;\n    } else {\n      return segment;\n    }\n  }\n  function parseRouteSegments(segments) {\n    return (\n      // NOTE(EvanBacon): When there are nested routes without layouts\n      // the node.route will be something like `app/home/index`\n      // this needs to be split to ensure each segment is parsed correctly.\n      segments.split('/')\n      // Convert each segment to a React Navigation format.\n      .map(convertDynamicRouteToReactNavigation)\n      // Remove any empty paths from groups or index routes.\n      .filter(Boolean)\n      // Join to return as a path.\n      .join('/')\n    );\n  }\n  function convertRouteNodeToScreen(node, metaOnly) {\n    var path = parseRouteSegments(node.route);\n    if (!node.children.length) {\n      if (!metaOnly) {\n        return {\n          path,\n          screens: {},\n          _route: node\n        };\n      }\n      return path;\n    }\n    var screens = getReactNavigationScreensConfig(node.children, metaOnly);\n    var screen = {\n      path,\n      screens\n    };\n    if (node.initialRouteName) {\n      // NOTE(EvanBacon): This is bad because it forces all Layout Routes\n      // to be loaded into memory. We should move towards a system where\n      // the initial route name is either loaded asynchronously in the Layout Route\n      // or defined via a file system convention.\n      screen.initialRouteName = node.initialRouteName;\n    }\n    if (!metaOnly) {\n      screen._route = node;\n    }\n    return screen;\n  }\n  function getReactNavigationScreensConfig(nodes, metaOnly) {\n    return Object.fromEntries(nodes.map(node => [node.route, convertRouteNodeToScreen(node, metaOnly)]));\n  }\n  function getReactNavigationConfig(routes, metaOnly) {\n    var config = {\n      initialRouteName: undefined,\n      screens: getReactNavigationScreensConfig(routes.children, metaOnly)\n    };\n    if (routes.initialRouteName) {\n      // We're using LinkingOptions the generic type is `object` instead of a proper ParamList.\n      // So we need to cast the initialRouteName to `any` to avoid type errors.\n      config.initialRouteName = routes.initialRouteName;\n    }\n    return config;\n  }\n});","lineCount":87,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"parseRouteSegments"],[7,28,3,26],[7,31,3,29,"parseRouteSegments"],[7,49,3,47],[8,2,4,0,"exports"],[8,9,4,7],[8,10,4,8,"getReactNavigationScreensConfig"],[8,41,4,39],[8,44,4,42,"getReactNavigationScreensConfig"],[8,75,4,73],[9,2,5,0,"exports"],[9,9,5,7],[9,10,5,8,"getReactNavigationConfig"],[9,34,5,32],[9,37,5,35,"getReactNavigationConfig"],[9,61,5,59],[10,2,7,0],[11,2,8,0],[12,2,9,0],[12,11,9,9,"convertDynamicRouteToReactNavigation"],[12,47,9,45,"convertDynamicRouteToReactNavigation"],[12,48,9,46,"segment"],[12,55,9,53],[12,57,9,55],[13,4,10,4],[14,4,11,4],[14,8,11,8,"segment"],[14,15,11,15],[14,20,11,20],[14,27,11,27],[14,29,11,29],[15,6,12,8],[15,13,12,15],[15,15,12,17],[16,4,13,4],[17,4,14,4],[17,8,14,8,"segment"],[17,15,14,15],[17,20,14,20],[17,32,14,32],[17,34,14,34],[18,6,15,8],[18,13,15,15],[18,25,15,27],[19,4,16,4],[20,4,17,4],[20,8,17,10,"dynamicName"],[20,19,17,21],[20,22,17,24],[20,23,17,25],[20,24,17,26],[20,26,17,28,"require"],[20,33,17,28],[20,34,17,28,"_dependencyMap"],[20,48,17,28],[20,67,17,39,"matchDynamicName"],[20,83,17,55],[20,85,17,57,"segment"],[20,92,17,64],[20,93,17,65],[21,4,18,4],[21,8,18,8,"dynamicName"],[21,19,18,19],[21,23,18,23],[21,24,18,24,"dynamicName"],[21,35,18,35],[21,36,18,36,"deep"],[21,40,18,40],[21,42,18,42],[22,6,19,8],[22,13,19,15],[22,17,19,19,"dynamicName"],[22,28,19,30],[22,29,19,31,"name"],[22,33,19,35],[22,35,19,37],[23,4,20,4],[23,5,20,5],[23,11,21,9],[23,15,21,13,"dynamicName"],[23,26,21,24],[23,28,21,26,"deep"],[23,32,21,30],[23,34,21,32],[24,6,22,8],[24,13,22,15],[24,16,22,18],[24,19,22,21,"dynamicName"],[24,30,22,32],[24,31,22,33,"name"],[24,35,22,37],[25,4,23,4],[25,5,23,5],[25,11,24,9],[26,6,25,8],[26,13,25,15,"segment"],[26,20,25,22],[27,4,26,4],[28,2,27,0],[29,2,28,0],[29,11,28,9,"parseRouteSegments"],[29,29,28,27,"parseRouteSegments"],[29,30,28,28,"segments"],[29,38,28,36],[29,40,28,38],[30,4,29,4],[31,6,30,4],[32,6,31,4],[33,6,32,4],[34,6,33,4,"segments"],[34,14,33,12],[34,15,34,9,"split"],[34,20,34,14],[34,21,34,15],[34,24,34,18],[35,6,35,8],[36,6,35,8],[36,7,36,9,"map"],[36,10,36,12],[36,11,36,13,"convertDynamicRouteToReactNavigation"],[36,47,36,49],[37,6,37,8],[38,6,37,8],[38,7,38,9,"filter"],[38,13,38,15],[38,14,38,16,"Boolean"],[38,21,38,23],[39,6,39,8],[40,6,39,8],[40,7,40,9,"join"],[40,11,40,13],[40,12,40,14],[40,15,40,17],[41,4,40,18],[42,2,41,0],[43,2,42,0],[43,11,42,9,"convertRouteNodeToScreen"],[43,35,42,33,"convertRouteNodeToScreen"],[43,36,42,34,"node"],[43,40,42,38],[43,42,42,40,"metaOnly"],[43,50,42,48],[43,52,42,50],[44,4,43,4],[44,8,43,10,"path"],[44,12,43,14],[44,15,43,17,"parseRouteSegments"],[44,33,43,35],[44,34,43,36,"node"],[44,38,43,40],[44,39,43,41,"route"],[44,44,43,46],[44,45,43,47],[45,4,44,4],[45,8,44,8],[45,9,44,9,"node"],[45,13,44,13],[45,14,44,14,"children"],[45,22,44,22],[45,23,44,23,"length"],[45,29,44,29],[45,31,44,31],[46,6,45,8],[46,10,45,12],[46,11,45,13,"metaOnly"],[46,19,45,21],[46,21,45,23],[47,8,46,12],[47,15,46,19],[48,10,47,16,"path"],[48,14,47,20],[49,10,48,16,"screens"],[49,17,48,23],[49,19,48,25],[49,20,48,26],[49,21,48,27],[50,10,49,16,"_route"],[50,16,49,22],[50,18,49,24,"node"],[51,8,50,12],[51,9,50,13],[52,6,51,8],[53,6,52,8],[53,13,52,15,"path"],[53,17,52,19],[54,4,53,4],[55,4,54,4],[55,8,54,10,"screens"],[55,15,54,17],[55,18,54,20,"getReactNavigationScreensConfig"],[55,49,54,51],[55,50,54,52,"node"],[55,54,54,56],[55,55,54,57,"children"],[55,63,54,65],[55,65,54,67,"metaOnly"],[55,73,54,75],[55,74,54,76],[56,4,55,4],[56,8,55,10,"screen"],[56,14,55,16],[56,17,55,19],[57,6,56,8,"path"],[57,10,56,12],[58,6,57,8,"screens"],[59,4,58,4],[59,5,58,5],[60,4,59,4],[60,8,59,8,"node"],[60,12,59,12],[60,13,59,13,"initialRouteName"],[60,29,59,29],[60,31,59,31],[61,6,60,8],[62,6,61,8],[63,6,62,8],[64,6,63,8],[65,6,64,8,"screen"],[65,12,64,14],[65,13,64,15,"initialRouteName"],[65,29,64,31],[65,32,64,34,"node"],[65,36,64,38],[65,37,64,39,"initialRouteName"],[65,53,64,55],[66,4,65,4],[67,4,66,4],[67,8,66,8],[67,9,66,9,"metaOnly"],[67,17,66,17],[67,19,66,19],[68,6,67,8,"screen"],[68,12,67,14],[68,13,67,15,"_route"],[68,19,67,21],[68,22,67,24,"node"],[68,26,67,28],[69,4,68,4],[70,4,69,4],[70,11,69,11,"screen"],[70,17,69,17],[71,2,70,0],[72,2,71,0],[72,11,71,9,"getReactNavigationScreensConfig"],[72,42,71,40,"getReactNavigationScreensConfig"],[72,43,71,41,"nodes"],[72,48,71,46],[72,50,71,48,"metaOnly"],[72,58,71,56],[72,60,71,58],[73,4,72,4],[73,11,72,11,"Object"],[73,17,72,17],[73,18,72,18,"fromEntries"],[73,29,72,29],[73,30,72,30,"nodes"],[73,35,72,35],[73,36,72,36,"map"],[73,39,72,39],[73,40,72,41,"node"],[73,44,72,45],[73,48,72,50],[73,49,72,51,"node"],[73,53,72,55],[73,54,72,56,"route"],[73,59,72,61],[73,61,72,63,"convertRouteNodeToScreen"],[73,85,72,87],[73,86,72,88,"node"],[73,90,72,92],[73,92,72,94,"metaOnly"],[73,100,72,102],[73,101,72,103],[73,102,72,104],[73,103,72,105],[73,104,72,106],[74,2,73,0],[75,2,74,0],[75,11,74,9,"getReactNavigationConfig"],[75,35,74,33,"getReactNavigationConfig"],[75,36,74,34,"routes"],[75,42,74,40],[75,44,74,42,"metaOnly"],[75,52,74,50],[75,54,74,52],[76,4,75,4],[76,8,75,10,"config"],[76,14,75,16],[76,17,75,19],[77,6,76,8,"initialRouteName"],[77,22,76,24],[77,24,76,26,"undefined"],[77,33,76,35],[78,6,77,8,"screens"],[78,13,77,15],[78,15,77,17,"getReactNavigationScreensConfig"],[78,46,77,48],[78,47,77,49,"routes"],[78,53,77,55],[78,54,77,56,"children"],[78,62,77,64],[78,64,77,66,"metaOnly"],[78,72,77,74],[79,4,78,4],[79,5,78,5],[80,4,79,4],[80,8,79,8,"routes"],[80,14,79,14],[80,15,79,15,"initialRouteName"],[80,31,79,31],[80,33,79,33],[81,6,80,8],[82,6,81,8],[83,6,82,8,"config"],[83,12,82,14],[83,13,82,15,"initialRouteName"],[83,29,82,31],[83,32,82,34,"routes"],[83,38,82,40],[83,39,82,41,"initialRouteName"],[83,55,82,57],[84,4,83,4],[85,4,84,4],[85,11,84,11,"config"],[85,17,84,17],[86,2,85,0],[87,0,85,1],[87,3]],"functionMap":{"names":["<global>","convertDynamicRouteToReactNavigation","parseRouteSegments","convertRouteNodeToScreen","getReactNavigationScreensConfig","nodes.map$argument_0","getReactNavigationConfig"],"mappings":"AAA;ACQ;CDkB;AEC;CFa;AGC;CH4B;AIC;wCCC,gED;CJC;AMC;CNW"}},"type":"js/module"}]}