{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"../EventEmitter/NativeEventEmitter","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0},"end":{"line":11,"column":68}}],"key":"Jk6GODPsD+OS/XTex7hK2MSfvW0=","exportNames":["*"],"imports":1}},{"name":"../Utilities/logError","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0},"end":{"line":12,"column":45}}],"key":"HeDHWmpyfSBCg3zQ2JX/zcGgw40=","exportNames":["*"],"imports":1}},{"name":"../Utilities/Platform","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":13,"column":0},"end":{"line":13,"column":45}}],"key":"WyqnBhspP5BAR0xvCwqfBv/v4uA=","exportNames":["*"],"imports":1}},{"name":"./NativeAppState","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":15,"column":0},"end":{"line":15,"column":46}}],"key":"i/MOPtd2F2wlopZYHexIIxBeKo0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _classCallCheck2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n  var _NativeEventEmitter = _interopRequireDefault(require(_dependencyMap[3], \"../EventEmitter/NativeEventEmitter\"));\n  var _logError = _interopRequireDefault(require(_dependencyMap[4], \"../Utilities/logError\"));\n  var _Platform = _interopRequireDefault(require(_dependencyMap[5], \"../Utilities/Platform\"));\n  var _NativeAppState = _interopRequireDefault(require(_dependencyMap[6], \"./NativeAppState\"));\n  var AppStateImpl = /*#__PURE__*/function () {\n    function AppStateImpl() {\n      (0, _classCallCheck2.default)(this, AppStateImpl);\n      this.currentState = null;\n      if (_NativeAppState.default == null) {\n        this.isAvailable = false;\n      } else {\n        this.isAvailable = true;\n        var emitter = new _NativeEventEmitter.default(_Platform.default.OS !== 'ios' ? null : _NativeAppState.default);\n        this._emitter = emitter;\n        this.currentState = _NativeAppState.default.getConstants().initialAppState;\n        var eventUpdated = false;\n        emitter.addListener('appStateDidChange', appStateData => {\n          eventUpdated = true;\n          this.currentState = appStateData.app_state;\n        });\n        _NativeAppState.default.getCurrentAppState(appStateData => {\n          if (!eventUpdated && this.currentState !== appStateData.app_state) {\n            this.currentState = appStateData.app_state;\n            emitter.emit('appStateDidChange', appStateData);\n          }\n        }, _logError.default);\n      }\n    }\n    return (0, _createClass2.default)(AppStateImpl, [{\n      key: \"addEventListener\",\n      value: function addEventListener(type, handler) {\n        var emitter = this._emitter;\n        if (emitter == null) {\n          throw new Error('Cannot use AppState when `isAvailable` is false.');\n        }\n        switch (type) {\n          case 'change':\n            var changeHandler = handler;\n            return emitter.addListener('appStateDidChange', appStateData => {\n              changeHandler(appStateData.app_state);\n            });\n          case 'memoryWarning':\n            var memoryWarningHandler = handler;\n            return emitter.addListener('memoryWarning', memoryWarningHandler);\n          case 'blur':\n          case 'focus':\n            var focusOrBlurHandler = handler;\n            return emitter.addListener('appStateFocusChange', hasFocus => {\n              if (type === 'blur' && !hasFocus) {\n                focusOrBlurHandler();\n              }\n              if (type === 'focus' && hasFocus) {\n                focusOrBlurHandler();\n              }\n            });\n        }\n        throw new Error('Trying to subscribe to unknown event: ' + type);\n      }\n    }]);\n  }();\n  var AppState = new AppStateImpl();\n  var _default = exports.default = AppState;\n});","lineCount":71,"map":[[9,2,11,0],[9,6,11,0,"_NativeEventEmitter"],[9,25,11,0],[9,28,11,0,"_interopRequireDefault"],[9,50,11,0],[9,51,11,0,"require"],[9,58,11,0],[9,59,11,0,"_dependencyMap"],[9,73,11,0],[10,2,12,0],[10,6,12,0,"_logError"],[10,15,12,0],[10,18,12,0,"_interopRequireDefault"],[10,40,12,0],[10,41,12,0,"require"],[10,48,12,0],[10,49,12,0,"_dependencyMap"],[10,63,12,0],[11,2,13,0],[11,6,13,0,"_Platform"],[11,15,13,0],[11,18,13,0,"_interopRequireDefault"],[11,40,13,0],[11,41,13,0,"require"],[11,48,13,0],[11,49,13,0,"_dependencyMap"],[11,63,13,0],[12,2,15,0],[12,6,15,0,"_NativeAppState"],[12,21,15,0],[12,24,15,0,"_interopRequireDefault"],[12,46,15,0],[12,47,15,0,"require"],[12,54,15,0],[12,55,15,0,"_dependencyMap"],[12,69,15,0],[13,2,15,46],[13,6,59,6,"AppStateImpl"],[13,18,59,18],[14,4,65,2],[14,13,65,2,"AppStateImpl"],[14,26,65,2],[14,28,65,16],[15,6,65,16],[15,10,65,16,"_classCallCheck2"],[15,26,65,16],[15,27,65,16,"default"],[15,34,65,16],[15,42,65,16,"AppStateImpl"],[15,54,65,16],[16,6,65,16],[16,11,60,2,"currentState"],[16,23,60,14],[16,26,60,26],[16,30,60,30],[17,6,66,4],[17,10,66,8,"NativeAppState"],[17,33,66,22],[17,37,66,26],[17,41,66,30],[17,43,66,32],[18,8,67,6],[18,12,67,10],[18,13,67,11,"isAvailable"],[18,24,67,22],[18,27,67,25],[18,32,67,30],[19,6,68,4],[19,7,68,5],[19,13,68,11],[20,8,69,6],[20,12,69,10],[20,13,69,11,"isAvailable"],[20,24,69,22],[20,27,69,25],[20,31,69,29],[21,8,71,6],[21,12,71,12,"emitter"],[21,19,71,71],[21,22,72,8],[21,26,72,12,"NativeEventEmitter"],[21,53,72,30],[21,54,75,10,"Platform"],[21,71,75,18],[21,72,75,19,"OS"],[21,74,75,21],[21,79,75,26],[21,84,75,31],[21,87,75,34],[21,91,75,38],[21,94,75,41,"NativeAppState"],[21,117,76,8],[21,118,76,9],[22,8,77,6],[22,12,77,10],[22,13,77,11,"_emitter"],[22,21,77,19],[22,24,77,22,"emitter"],[22,31,77,29],[23,8,79,6],[23,12,79,10],[23,13,79,11,"currentState"],[23,25,79,23],[23,28,79,26,"NativeAppState"],[23,51,79,40],[23,52,79,41,"getConstants"],[23,64,79,53],[23,65,79,54],[23,66,79,55],[23,67,79,56,"initialAppState"],[23,82,79,71],[24,8,81,6],[24,12,81,10,"eventUpdated"],[24,24,81,22],[24,27,81,25],[24,32,81,30],[25,8,87,6,"emitter"],[25,15,87,13],[25,16,87,14,"addListener"],[25,27,87,25],[25,28,87,26],[25,47,87,45],[25,49,87,47,"appStateData"],[25,61,87,59],[25,65,87,63],[26,10,88,8,"eventUpdated"],[26,22,88,20],[26,25,88,23],[26,29,88,27],[27,10,89,8],[27,14,89,12],[27,15,89,13,"currentState"],[27,27,89,25],[27,30,89,28,"appStateData"],[27,42,89,40],[27,43,89,41,"app_state"],[27,52,89,50],[28,8,90,6],[28,9,90,7],[28,10,90,8],[29,8,96,6,"NativeAppState"],[29,31,96,20],[29,32,96,21,"getCurrentAppState"],[29,50,96,39],[29,51,96,40,"appStateData"],[29,63,96,52],[29,67,96,56],[30,10,98,8],[30,14,98,12],[30,15,98,13,"eventUpdated"],[30,27,98,25],[30,31,98,29],[30,35,98,33],[30,36,98,34,"currentState"],[30,48,98,46],[30,53,98,51,"appStateData"],[30,65,98,63],[30,66,98,64,"app_state"],[30,75,98,73],[30,77,98,75],[31,12,99,10],[31,16,99,14],[31,17,99,15,"currentState"],[31,29,99,27],[31,32,99,30,"appStateData"],[31,44,99,42],[31,45,99,43,"app_state"],[31,54,99,52],[32,12,101,10,"emitter"],[32,19,101,17],[32,20,101,18,"emit"],[32,24,101,22],[32,25,101,23],[32,44,101,42],[32,46,101,44,"appStateData"],[32,58,101,56],[32,59,101,57],[33,10,102,8],[34,8,103,6],[34,9,103,7],[34,11,103,9,"logError"],[34,28,103,17],[34,29,103,18],[35,6,104,4],[36,4,105,2],[37,4,105,3],[37,15,105,3,"_createClass2"],[37,28,105,3],[37,29,105,3,"default"],[37,36,105,3],[37,38,105,3,"AppStateImpl"],[37,50,105,3],[38,6,105,3,"key"],[38,9,105,3],[39,6,105,3,"value"],[39,11,105,3],[39,13,113,2],[39,22,113,2,"addEventListener"],[39,38,113,18,"addEventListener"],[39,39,114,4,"type"],[39,43,114,11],[39,45,115,4,"handler"],[39,52,115,53],[39,54,116,23],[40,8,117,4],[40,12,117,10,"emitter"],[40,19,117,17],[40,22,117,20],[40,26,117,24],[40,27,117,25,"_emitter"],[40,35,117,33],[41,8,118,4],[41,12,118,8,"emitter"],[41,19,118,15],[41,23,118,19],[41,27,118,23],[41,29,118,25],[42,10,119,6],[42,16,119,12],[42,20,119,16,"Error"],[42,25,119,21],[42,26,119,22],[42,76,119,72],[42,77,119,73],[43,8,120,4],[44,8,121,4],[44,16,121,12,"type"],[44,20,121,16],[45,10,122,6],[45,15,122,11],[45,23,122,19],[46,12,124,8],[46,16,124,14,"changeHandler"],[46,29,124,51],[46,32,124,54,"handler"],[46,39,124,61],[47,12,125,8],[47,19,125,15,"emitter"],[47,26,125,22],[47,27,125,23,"addListener"],[47,38,125,34],[47,39,125,35],[47,58,125,54],[47,60,125,56,"appStateData"],[47,72,125,68],[47,76,125,72],[48,14,126,10,"changeHandler"],[48,27,126,23],[48,28,126,24,"appStateData"],[48,40,126,36],[48,41,126,37,"app_state"],[48,50,126,46],[48,51,126,47],[49,12,127,8],[49,13,127,9],[49,14,127,10],[50,10,128,6],[50,15,128,11],[50,30,128,26],[51,12,130,8],[51,16,130,14,"memoryWarningHandler"],[51,36,130,46],[51,39,130,49,"handler"],[51,46,130,56],[52,12,131,8],[52,19,131,15,"emitter"],[52,26,131,22],[52,27,131,23,"addListener"],[52,38,131,34],[52,39,131,35],[52,54,131,50],[52,56,131,52,"memoryWarningHandler"],[52,76,131,72],[52,77,131,73],[53,10,132,6],[53,15,132,11],[53,21,132,17],[54,10,133,6],[54,15,133,11],[54,22,133,18],[55,12,135,8],[55,16,135,14,"focusOrBlurHandler"],[55,34,135,44],[55,37,135,47,"handler"],[55,44,135,54],[56,12,136,8],[56,19,136,15,"emitter"],[56,26,136,22],[56,27,136,23,"addListener"],[56,38,136,34],[56,39,136,35],[56,60,136,56],[56,62,136,58,"hasFocus"],[56,70,136,66],[56,74,136,70],[57,14,137,10],[57,18,137,14,"type"],[57,22,137,18],[57,27,137,23],[57,33,137,29],[57,37,137,33],[57,38,137,34,"hasFocus"],[57,46,137,42],[57,48,137,44],[58,16,138,12,"focusOrBlurHandler"],[58,34,138,30],[58,35,138,31],[58,36,138,32],[59,14,139,10],[60,14,140,10],[60,18,140,14,"type"],[60,22,140,18],[60,27,140,23],[60,34,140,30],[60,38,140,34,"hasFocus"],[60,46,140,42],[60,48,140,44],[61,16,141,12,"focusOrBlurHandler"],[61,34,141,30],[61,35,141,31],[61,36,141,32],[62,14,142,10],[63,12,143,8],[63,13,143,9],[63,14,143,10],[64,8,144,4],[65,8,145,4],[65,14,145,10],[65,18,145,14,"Error"],[65,23,145,19],[65,24,145,20],[65,64,145,60],[65,67,145,63,"type"],[65,71,145,67],[65,72,145,68],[66,6,146,2],[67,4,146,3],[68,2,146,3],[69,2,149,0],[69,6,149,6,"AppState"],[69,14,149,28],[69,17,149,31],[69,21,149,35,"AppStateImpl"],[69,33,149,47],[69,34,149,48],[69,35,149,49],[70,2,149,50],[70,6,149,50,"_default"],[70,14,149,50],[70,17,149,50,"exports"],[70,24,149,50],[70,25,149,50,"default"],[70,32,149,50],[70,35,150,15,"AppState"],[70,43,150,23],[71,0,150,23],[71,3]],"functionMap":{"names":["<global>","AppStateImpl","AppStateImpl#constructor","emitter.addListener$argument_1","NativeAppState.getCurrentAppState$argument_0","AppStateImpl#addEventListener"],"mappings":"AAA;AC0D;ECM;+CCsB;ODG;wCEM;OFO;GDE;EIQ;wDFY;SEE;0DFS;SEO;GJG;CDC"}},"type":"js/module"}]}