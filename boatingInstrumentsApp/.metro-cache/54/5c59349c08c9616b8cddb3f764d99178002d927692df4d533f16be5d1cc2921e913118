{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"fGo7mEc/tw/OblLqGBCp3J3h+jY=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"use-latest-callback","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":47},"end":{"line":4,"column":52,"index":99}}],"key":"2ER/r3Agt+5SFwaFR8HXg24Rpu4=","exportNames":["*"],"imports":1}},{"name":"./deepFreeze.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":100},"end":{"line":5,"column":45,"index":145}},{"start":{"line":5,"column":0,"index":100},"end":{"line":5,"column":45,"index":145}}],"key":"rNxrvQaXjK4/vUvPksJpbMJ5u+4=","exportNames":["*"],"imports":2}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\").default;\n  var _interopRequireWildcard = require(_dependencyMap[1], \"@babel/runtime/helpers/interopRequireWildcard\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useSyncState = useSyncState;\n  var React = _interopRequireWildcard(require(_dependencyMap[2], \"react\"));\n  var _useLatestCallback = _interopRequireDefault(require(_dependencyMap[3], \"use-latest-callback\"));\n  var createStore = getInitialState => {\n    var listeners = [];\n    var initialized = false;\n    var state;\n    var getState = () => {\n      if (initialized) {\n        return state;\n      }\n      initialized = true;\n      state = (0, require(_dependencyMap[4], \"./deepFreeze.js\").deepFreeze)(getInitialState());\n      return state;\n    };\n    var isBatching = false;\n    var didUpdate = false;\n    var setState = newState => {\n      state = (0, require(_dependencyMap[4], \"./deepFreeze.js\").deepFreeze)(newState);\n      didUpdate = true;\n      if (!isBatching) {\n        listeners.forEach(listener => listener());\n      }\n    };\n    var subscribe = callback => {\n      listeners.push(callback);\n      return () => {\n        var index = listeners.indexOf(callback);\n        if (index > -1) {\n          listeners.splice(index, 1);\n        }\n      };\n    };\n    var batchUpdates = callback => {\n      isBatching = true;\n      callback();\n      isBatching = false;\n      if (didUpdate) {\n        didUpdate = false;\n        listeners.forEach(listener => listener());\n      }\n    };\n    return {\n      getState,\n      setState,\n      batchUpdates,\n      subscribe\n    };\n  };\n  function useSyncState(getInitialState) {\n    var store = React.useRef(createStore(getInitialState)).current;\n    var state = React.useSyncExternalStore(store.subscribe, store.getState, store.getState);\n    React.useDebugValue(state);\n    var pendingUpdatesRef = React.useRef([]);\n    var scheduleUpdate = (0, _useLatestCallback.default)(callback => {\n      pendingUpdatesRef.current.push(callback);\n    });\n    var flushUpdates = (0, _useLatestCallback.default)(() => {\n      var pendingUpdates = pendingUpdatesRef.current;\n      pendingUpdatesRef.current = [];\n      if (pendingUpdates.length !== 0) {\n        store.batchUpdates(() => {\n          // Flush all the pending updates\n          for (var update of pendingUpdates) {\n            update();\n          }\n        });\n      }\n    });\n    return {\n      state,\n      getState: store.getState,\n      setState: store.setState,\n      scheduleUpdate,\n      flushUpdates\n    };\n  }\n});","lineCount":86,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_interopRequireDefault"],[4,28,1,13],[4,31,1,13,"require"],[4,38,1,13],[4,39,1,13,"_dependencyMap"],[4,53,1,13],[4,106,1,13,"default"],[4,113,1,13],[5,2,1,13],[5,6,1,13,"_interopRequireWildcard"],[5,29,1,13],[5,32,1,13,"require"],[5,39,1,13],[5,40,1,13,"_dependencyMap"],[5,54,1,13],[5,108,1,13,"default"],[5,115,1,13],[6,2,1,13,"Object"],[6,8,1,13],[6,9,1,13,"defineProperty"],[6,23,1,13],[6,24,1,13,"exports"],[6,31,1,13],[7,4,1,13,"value"],[7,9,1,13],[8,2,1,13],[9,2,1,13,"exports"],[9,9,1,13],[9,10,1,13,"useSyncState"],[9,22,1,13],[9,25,1,13,"useSyncState"],[9,37,1,13],[10,2,3,0],[10,6,3,0,"React"],[10,11,3,0],[10,14,3,0,"_interopRequireWildcard"],[10,37,3,0],[10,38,3,0,"require"],[10,45,3,0],[10,46,3,0,"_dependencyMap"],[10,60,3,0],[11,2,4,0],[11,6,4,0,"_useLatestCallback"],[11,24,4,0],[11,27,4,0,"_interopRequireDefault"],[11,49,4,0],[11,50,4,0,"require"],[11,57,4,0],[11,58,4,0,"_dependencyMap"],[11,72,4,0],[12,2,6,0],[12,6,6,6,"createStore"],[12,17,6,17],[12,20,6,20,"getInitialState"],[12,35,6,35],[12,39,6,39],[13,4,7,2],[13,8,7,8,"listeners"],[13,17,7,17],[13,20,7,20],[13,22,7,22],[14,4,8,2],[14,8,8,6,"initialized"],[14,19,8,17],[14,22,8,20],[14,27,8,25],[15,4,9,2],[15,8,9,6,"state"],[15,13,9,11],[16,4,10,2],[16,8,10,8,"getState"],[16,16,10,16],[16,19,10,19,"getState"],[16,20,10,19],[16,25,10,25],[17,6,11,4],[17,10,11,8,"initialized"],[17,21,11,19],[17,23,11,21],[18,8,12,6],[18,15,12,13,"state"],[18,20,12,18],[19,6,13,4],[20,6,14,4,"initialized"],[20,17,14,15],[20,20,14,18],[20,24,14,22],[21,6,15,4,"state"],[21,11,15,9],[21,14,15,12],[21,18,15,12,"deepFreeze"],[21,44,15,12],[21,45,15,12,"deepFreeze"],[21,74,15,22],[21,76,15,23,"getInitialState"],[21,91,15,38],[21,92,15,39],[21,93,15,40],[21,94,15,41],[22,6,16,4],[22,13,16,11,"state"],[22,18,16,16],[23,4,17,2],[23,5,17,3],[24,4,18,2],[24,8,18,6,"isBatching"],[24,18,18,16],[24,21,18,19],[24,26,18,24],[25,4,19,2],[25,8,19,6,"didUpdate"],[25,17,19,15],[25,20,19,18],[25,25,19,23],[26,4,20,2],[26,8,20,8,"setState"],[26,16,20,16],[26,19,20,19,"newState"],[26,27,20,27],[26,31,20,31],[27,6,21,4,"state"],[27,11,21,9],[27,14,21,12],[27,18,21,12,"deepFreeze"],[27,44,21,12],[27,45,21,12,"deepFreeze"],[27,74,21,22],[27,76,21,23,"newState"],[27,84,21,31],[27,85,21,32],[28,6,22,4,"didUpdate"],[28,15,22,13],[28,18,22,16],[28,22,22,20],[29,6,23,4],[29,10,23,8],[29,11,23,9,"isBatching"],[29,21,23,19],[29,23,23,21],[30,8,24,6,"listeners"],[30,17,24,15],[30,18,24,16,"forEach"],[30,25,24,23],[30,26,24,24,"listener"],[30,34,24,32],[30,38,24,36,"listener"],[30,46,24,44],[30,47,24,45],[30,48,24,46],[30,49,24,47],[31,6,25,4],[32,4,26,2],[32,5,26,3],[33,4,27,2],[33,8,27,8,"subscribe"],[33,17,27,17],[33,20,27,20,"callback"],[33,28,27,28],[33,32,27,32],[34,6,28,4,"listeners"],[34,15,28,13],[34,16,28,14,"push"],[34,20,28,18],[34,21,28,19,"callback"],[34,29,28,27],[34,30,28,28],[35,6,29,4],[35,13,29,11],[35,19,29,17],[36,8,30,6],[36,12,30,12,"index"],[36,17,30,17],[36,20,30,20,"listeners"],[36,29,30,29],[36,30,30,30,"indexOf"],[36,37,30,37],[36,38,30,38,"callback"],[36,46,30,46],[36,47,30,47],[37,8,31,6],[37,12,31,10,"index"],[37,17,31,15],[37,20,31,18],[37,21,31,19],[37,22,31,20],[37,24,31,22],[38,10,32,8,"listeners"],[38,19,32,17],[38,20,32,18,"splice"],[38,26,32,24],[38,27,32,25,"index"],[38,32,32,30],[38,34,32,32],[38,35,32,33],[38,36,32,34],[39,8,33,6],[40,6,34,4],[40,7,34,5],[41,4,35,2],[41,5,35,3],[42,4,36,2],[42,8,36,8,"batchUpdates"],[42,20,36,20],[42,23,36,23,"callback"],[42,31,36,31],[42,35,36,35],[43,6,37,4,"isBatching"],[43,16,37,14],[43,19,37,17],[43,23,37,21],[44,6,38,4,"callback"],[44,14,38,12],[44,15,38,13],[44,16,38,14],[45,6,39,4,"isBatching"],[45,16,39,14],[45,19,39,17],[45,24,39,22],[46,6,40,4],[46,10,40,8,"didUpdate"],[46,19,40,17],[46,21,40,19],[47,8,41,6,"didUpdate"],[47,17,41,15],[47,20,41,18],[47,25,41,23],[48,8,42,6,"listeners"],[48,17,42,15],[48,18,42,16,"forEach"],[48,25,42,23],[48,26,42,24,"listener"],[48,34,42,32],[48,38,42,36,"listener"],[48,46,42,44],[48,47,42,45],[48,48,42,46],[48,49,42,47],[49,6,43,4],[50,4,44,2],[50,5,44,3],[51,4,45,2],[51,11,45,9],[52,6,46,4,"getState"],[52,14,46,12],[53,6,47,4,"setState"],[53,14,47,12],[54,6,48,4,"batchUpdates"],[54,18,48,16],[55,6,49,4,"subscribe"],[56,4,50,2],[56,5,50,3],[57,2,51,0],[57,3,51,1],[58,2,52,7],[58,11,52,16,"useSyncState"],[58,23,52,28,"useSyncState"],[58,24,52,29,"getInitialState"],[58,39,52,44],[58,41,52,46],[59,4,53,2],[59,8,53,8,"store"],[59,13,53,13],[59,16,53,16,"React"],[59,21,53,21],[59,22,53,22,"useRef"],[59,28,53,28],[59,29,53,29,"createStore"],[59,40,53,40],[59,41,53,41,"getInitialState"],[59,56,53,56],[59,57,53,57],[59,58,53,58],[59,59,53,59,"current"],[59,66,53,66],[60,4,54,2],[60,8,54,8,"state"],[60,13,54,13],[60,16,54,16,"React"],[60,21,54,21],[60,22,54,22,"useSyncExternalStore"],[60,42,54,42],[60,43,54,43,"store"],[60,48,54,48],[60,49,54,49,"subscribe"],[60,58,54,58],[60,60,54,60,"store"],[60,65,54,65],[60,66,54,66,"getState"],[60,74,54,74],[60,76,54,76,"store"],[60,81,54,81],[60,82,54,82,"getState"],[60,90,54,90],[60,91,54,91],[61,4,55,2,"React"],[61,9,55,7],[61,10,55,8,"useDebugValue"],[61,23,55,21],[61,24,55,22,"state"],[61,29,55,27],[61,30,55,28],[62,4,56,2],[62,8,56,8,"pendingUpdatesRef"],[62,25,56,25],[62,28,56,28,"React"],[62,33,56,33],[62,34,56,34,"useRef"],[62,40,56,40],[62,41,56,41],[62,43,56,43],[62,44,56,44],[63,4,57,2],[63,8,57,8,"scheduleUpdate"],[63,22,57,22],[63,25,57,25],[63,29,57,25,"useLatestCallback"],[63,55,57,42],[63,57,57,43,"callback"],[63,65,57,51],[63,69,57,55],[64,6,58,4,"pendingUpdatesRef"],[64,23,58,21],[64,24,58,22,"current"],[64,31,58,29],[64,32,58,30,"push"],[64,36,58,34],[64,37,58,35,"callback"],[64,45,58,43],[64,46,58,44],[65,4,59,2],[65,5,59,3],[65,6,59,4],[66,4,60,2],[66,8,60,8,"flushUpdates"],[66,20,60,20],[66,23,60,23],[66,27,60,23,"useLatestCallback"],[66,53,60,40],[66,55,60,41],[66,61,60,47],[67,6,61,4],[67,10,61,10,"pendingUpdates"],[67,24,61,24],[67,27,61,27,"pendingUpdatesRef"],[67,44,61,44],[67,45,61,45,"current"],[67,52,61,52],[68,6,62,4,"pendingUpdatesRef"],[68,23,62,21],[68,24,62,22,"current"],[68,31,62,29],[68,34,62,32],[68,36,62,34],[69,6,63,4],[69,10,63,8,"pendingUpdates"],[69,24,63,22],[69,25,63,23,"length"],[69,31,63,29],[69,36,63,34],[69,37,63,35],[69,39,63,37],[70,8,64,6,"store"],[70,13,64,11],[70,14,64,12,"batchUpdates"],[70,26,64,24],[70,27,64,25],[70,33,64,31],[71,10,65,8],[72,10,66,8],[72,15,66,13],[72,19,66,19,"update"],[72,25,66,25],[72,29,66,29,"pendingUpdates"],[72,43,66,43],[72,45,66,45],[73,12,67,10,"update"],[73,18,67,16],[73,19,67,17],[73,20,67,18],[74,10,68,8],[75,8,69,6],[75,9,69,7],[75,10,69,8],[76,6,70,4],[77,4,71,2],[77,5,71,3],[77,6,71,4],[78,4,72,2],[78,11,72,9],[79,6,73,4,"state"],[79,11,73,9],[80,6,74,4,"getState"],[80,14,74,12],[80,16,74,14,"store"],[80,21,74,19],[80,22,74,20,"getState"],[80,30,74,28],[81,6,75,4,"setState"],[81,14,75,12],[81,16,75,14,"store"],[81,21,75,19],[81,22,75,20,"setState"],[81,30,75,28],[82,6,76,4,"scheduleUpdate"],[82,20,76,18],[83,6,77,4,"flushUpdates"],[84,4,78,2],[84,5,78,3],[85,2,79,0],[86,0,79,1],[86,3]],"functionMap":{"names":["<global>","createStore","getState","setState","listeners.forEach$argument_0","subscribe","<anonymous>","batchUpdates","useSyncState","useLatestCallback$argument_0","store.batchUpdates$argument_0"],"mappings":"AAA;oBCK;mBCI;GDO;mBEG;wBCI,sBD;GFE;oBIC;WCE;KDK;GJC;uBMC;wBHM,sBG;GNE;CDO;OQC;2CCK;GDE;yCCC;yBCI;ODK;GDE;CRQ"}},"type":"js/module"}]}