{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"fGo7mEc/tw/OblLqGBCp3J3h+jY=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":66,"index":66}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireWildcard = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireWildcard\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useWidgetVisibilityOptional = exports.useWidgetVisibility = exports.WidgetVisibilityProvider = void 0;\n  var _react = _interopRequireWildcard(require(_dependencyMap[1], \"react\"));\n  var _jsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  var _jsxFileName = \"/Volumes/SSD_I/Dev/JSDev/bmad-autopilot/boatingInstrumentsApp/src/contexts/WidgetVisibilityContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n  /**\n   * Widget Visibility Context - Render Optimization\n   *\n   * Provides visibility state to widgets to prevent off-screen updates.\n   * Only visible widgets (on current page) should subscribe to store updates.\n   *\n   * **Problem Solved:**\n   * - Without visibility tracking: All widgets subscribe to nmeaStore updates\n   * - Result: 50 widgets = 50 re-renders per NMEA message\n   * - With visibility: Only 4-6 visible widgets re-render\n   * - Performance: 10-12x reduction in render overhead\n   *\n   * **Usage Pattern:**\n   * ```tsx\n   * // ResponsiveDashboard sets context per page\n   * <WidgetVisibilityProvider pageIndex={0} currentPage={currentPage}>\n   *   <DepthWidget id=\"depth-0\" />\n   * </WidgetVisibilityProvider>\n   *\n   * // Widget checks visibility before subscribing\n   * const { isVisible } = useWidgetVisibility();\n   * const depthData = useNmeaStore(\n   *   (state) => isVisible ? state.nmeaData.sensors.depth?.[0] : null\n   * );\n   * ```\n   *\n   * **Architecture:**\n   * - Provider wraps each page in ResponsiveDashboard\n   * - Hook returns isVisible boolean\n   * - Widgets conditionally subscribe based on visibility\n   * - Off-screen widgets render null or frozen state\n   */\n  var WidgetVisibilityContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  /**\n   * Provider that tracks whether widgets on a specific page are visible\n   *\n   * @param pageIndex - The page this provider manages\n   * @param currentPage - The currently visible page\n   * @param preloadBuffer - Number of adjacent pages to keep active (0 = current only)\n   */\n  var WidgetVisibilityProvider = _ref => {\n    _s();\n    var pageIndex = _ref.pageIndex,\n      currentPage = _ref.currentPage,\n      _ref$preloadBuffer = _ref.preloadBuffer,\n      preloadBuffer = _ref$preloadBuffer === void 0 ? 0 : _ref$preloadBuffer,\n      children = _ref.children;\n    var value = (0, _react.useMemo)(() => {\n      // Page is visible if within buffer range of current page\n      var isVisible = Math.abs(pageIndex - currentPage) <= preloadBuffer;\n      return {\n        isVisible,\n        pageIndex,\n        currentPage\n      };\n    }, [pageIndex, currentPage, preloadBuffer]);\n    return /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(WidgetVisibilityContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }, this);\n  };\n\n  /**\n   * Hook to check if current widget is visible\n   *\n   * Returns visibility state for conditional store subscriptions\n   *\n   * @throws Error if used outside WidgetVisibilityProvider\n   *\n   * @example\n   * ```tsx\n   * const { isVisible } = useWidgetVisibility();\n   *\n   * // Conditional subscription\n   * const depth = useNmeaStore(\n   *   (state) => isVisible ? state.nmeaData.sensors.depth?.[0] : null\n   * );\n   *\n   * // Early return for off-screen widgets\n   * if (!isVisible) return null;\n   * ```\n   */\n  exports.WidgetVisibilityProvider = WidgetVisibilityProvider;\n  _s(WidgetVisibilityProvider, \"tPauEVZ6EeuERV9ttvKTwQ7++Gw=\");\n  _c = WidgetVisibilityProvider;\n  var useWidgetVisibility = () => {\n    _s2();\n    var context = (0, _react.useContext)(WidgetVisibilityContext);\n    if (context === undefined) {\n      throw new Error('useWidgetVisibility must be used within WidgetVisibilityProvider');\n    }\n    return context;\n  };\n\n  /**\n   * Optional: Hook with graceful fallback (always visible if no provider)\n   * Use this for widgets that can exist outside ResponsiveDashboard\n   */\n  exports.useWidgetVisibility = useWidgetVisibility;\n  _s2(useWidgetVisibility, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var useWidgetVisibilityOptional = () => {\n    _s3();\n    var context = (0, _react.useContext)(WidgetVisibilityContext);\n\n    // Default to visible if no provider (standalone widget use case)\n    return context ?? {\n      isVisible: true,\n      pageIndex: 0,\n      currentPage: 0\n    };\n  };\n  exports.useWidgetVisibilityOptional = useWidgetVisibilityOptional;\n  _s3(useWidgetVisibilityOptional, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"WidgetVisibilityProvider\");\n});","lineCount":132,"map":[[7,2,1,0],[7,6,1,0,"_react"],[7,12,1,0],[7,15,1,0,"_interopRequireWildcard"],[7,38,1,0],[7,39,1,0,"require"],[7,46,1,0],[7,47,1,0,"_dependencyMap"],[7,61,1,0],[8,2,1,66],[8,6,1,66,"_jsxDevRuntime"],[8,20,1,66],[8,23,1,66,"require"],[8,30,1,66],[8,31,1,66,"_dependencyMap"],[8,45,1,66],[9,2,1,66],[9,6,1,66,"_jsxFileName"],[9,18,1,66],[10,4,1,66,"_s"],[10,6,1,66],[10,9,1,66,"$RefreshSig$"],[10,21,1,66],[11,4,1,66,"_s2"],[11,7,1,66],[11,10,1,66,"$RefreshSig$"],[11,22,1,66],[12,4,1,66,"_s3"],[12,7,1,66],[12,10,1,66,"$RefreshSig$"],[12,22,1,66],[13,2,3,0],[14,0,4,0],[15,0,5,0],[16,0,6,0],[17,0,7,0],[18,0,8,0],[19,0,9,0],[20,0,10,0],[21,0,11,0],[22,0,12,0],[23,0,13,0],[24,0,14,0],[25,0,15,0],[26,0,16,0],[27,0,17,0],[28,0,18,0],[29,0,19,0],[30,0,20,0],[31,0,21,0],[32,0,22,0],[33,0,23,0],[34,0,24,0],[35,0,25,0],[36,0,26,0],[37,0,27,0],[38,0,28,0],[39,0,29,0],[40,0,30,0],[41,0,31,0],[42,0,32,0],[43,0,33,0],[44,0,34,0],[45,2,45,0],[45,6,45,6,"WidgetVisibilityContext"],[45,29,45,29],[45,45,45,32],[45,49,45,32,"createContext"],[45,69,45,45],[45,71,45,88,"undefined"],[45,80,45,97],[45,81,45,98],[46,2,57,0],[47,0,58,0],[48,0,59,0],[49,0,60,0],[50,0,61,0],[51,0,62,0],[52,0,63,0],[53,2,64,7],[53,6,64,13,"WidgetVisibilityProvider"],[53,30,64,78],[53,33,64,81,"_ref"],[53,37,64,81],[53,41,69,6],[54,4,69,6,"_s"],[54,6,69,6],[55,4,69,6],[55,8,65,2,"pageIndex"],[55,17,65,11],[55,20,65,11,"_ref"],[55,24,65,11],[55,25,65,2,"pageIndex"],[55,34,65,11],[56,6,66,2,"currentPage"],[56,17,66,13],[56,20,66,13,"_ref"],[56,24,66,13],[56,25,66,2,"currentPage"],[56,36,66,13],[57,6,66,13,"_ref$preloadBuffer"],[57,24,66,13],[57,27,66,13,"_ref"],[57,31,66,13],[57,32,67,2,"preloadBuffer"],[57,45,67,15],[58,6,67,2,"preloadBuffer"],[58,19,67,15],[58,22,67,15,"_ref$preloadBuffer"],[58,40,67,15],[58,54,67,18],[58,55,67,19],[58,58,67,19,"_ref$preloadBuffer"],[58,76,67,19],[59,6,68,2,"children"],[59,14,68,10],[59,17,68,10,"_ref"],[59,21,68,10],[59,22,68,2,"children"],[59,30,68,10],[60,4,70,2],[60,8,70,8,"value"],[60,13,70,13],[60,16,70,16],[60,20,70,16,"useMemo"],[60,34,70,23],[60,36,70,24],[60,42,70,30],[61,6,71,4],[62,6,72,4],[62,10,72,10,"isVisible"],[62,19,72,19],[62,22,72,22,"Math"],[62,26,72,26],[62,27,72,27,"abs"],[62,30,72,30],[62,31,72,31,"pageIndex"],[62,40,72,40],[62,43,72,43,"currentPage"],[62,54,72,54],[62,55,72,55],[62,59,72,59,"preloadBuffer"],[62,72,72,72],[63,6,74,4],[63,13,74,11],[64,8,75,6,"isVisible"],[64,17,75,15],[65,8,76,6,"pageIndex"],[65,17,76,15],[66,8,77,6,"currentPage"],[67,6,78,4],[67,7,78,5],[68,4,79,2],[68,5,79,3],[68,7,79,5],[68,8,79,6,"pageIndex"],[68,17,79,15],[68,19,79,17,"currentPage"],[68,30,79,28],[68,32,79,30,"preloadBuffer"],[68,45,79,43],[68,46,79,44],[68,47,79,45],[69,4,81,2],[69,24,82,4],[69,28,82,4,"_jsxDevRuntime"],[69,42,82,4],[69,43,82,4,"jsxDEV"],[69,49,82,4],[69,51,82,5,"WidgetVisibilityContext"],[69,74,82,28],[69,75,82,29,"Provider"],[69,83,82,37],[70,6,82,38,"value"],[70,11,82,43],[70,13,82,45,"value"],[70,18,82,51],[71,6,82,51,"children"],[71,14,82,51],[71,16,82,53,"children"],[72,4,82,61],[73,6,82,61,"fileName"],[73,14,82,61],[73,16,82,61,"_jsxFileName"],[73,28,82,61],[74,6,82,61,"lineNumber"],[74,16,82,61],[75,6,82,61,"columnNumber"],[75,18,82,61],[76,4,82,61],[76,11,82,96],[76,12,82,97],[77,2,84,0],[77,3,84,1],[79,2,86,0],[80,0,87,0],[81,0,88,0],[82,0,89,0],[83,0,90,0],[84,0,91,0],[85,0,92,0],[86,0,93,0],[87,0,94,0],[88,0,95,0],[89,0,96,0],[90,0,97,0],[91,0,98,0],[92,0,99,0],[93,0,100,0],[94,0,101,0],[95,0,102,0],[96,0,103,0],[97,0,104,0],[98,0,105,0],[99,2,86,0,"exports"],[99,9,86,0],[99,10,86,0,"WidgetVisibilityProvider"],[99,34,86,0],[99,37,86,0,"WidgetVisibilityProvider"],[99,61,86,0],[100,2,86,0,"_s"],[100,4,86,0],[100,5,64,13,"WidgetVisibilityProvider"],[100,29,64,78],[101,2,64,78,"_c"],[101,4,64,78],[101,7,64,13,"WidgetVisibilityProvider"],[101,31,64,78],[102,2,106,7],[102,6,106,13,"useWidgetVisibility"],[102,25,106,32],[102,28,106,35,"useWidgetVisibility"],[102,29,106,35],[102,34,106,71],[103,4,106,71,"_s2"],[103,7,106,71],[104,4,107,2],[104,8,107,8,"context"],[104,15,107,15],[104,18,107,18],[104,22,107,18,"useContext"],[104,39,107,28],[104,41,107,29,"WidgetVisibilityContext"],[104,64,107,52],[104,65,107,53],[105,4,109,2],[105,8,109,6,"context"],[105,15,109,13],[105,20,109,18,"undefined"],[105,29,109,27],[105,31,109,29],[106,6,110,4],[106,12,110,10],[106,16,110,14,"Error"],[106,21,110,19],[106,22,110,20],[106,88,110,86],[106,89,110,87],[107,4,111,2],[108,4,113,2],[108,11,113,9,"context"],[108,18,113,16],[109,2,114,0],[109,3,114,1],[111,2,116,0],[112,0,117,0],[113,0,118,0],[114,0,119,0],[115,2,116,0,"exports"],[115,9,116,0],[115,10,116,0,"useWidgetVisibility"],[115,29,116,0],[115,32,116,0,"useWidgetVisibility"],[115,51,116,0],[116,2,116,0,"_s2"],[116,5,116,0],[116,6,106,13,"useWidgetVisibility"],[116,25,106,32],[117,2,120,7],[117,6,120,13,"useWidgetVisibilityOptional"],[117,33,120,40],[117,36,120,43,"useWidgetVisibilityOptional"],[117,37,120,43],[117,42,120,79],[118,4,120,79,"_s3"],[118,7,120,79],[119,4,121,2],[119,8,121,8,"context"],[119,15,121,15],[119,18,121,18],[119,22,121,18,"useContext"],[119,39,121,28],[119,41,121,29,"WidgetVisibilityContext"],[119,64,121,52],[119,65,121,53],[121,4,123,2],[122,4,124,2],[122,11,125,4,"context"],[122,18,125,11],[122,22,125,15],[123,6,126,6,"isVisible"],[123,15,126,15],[123,17,126,17],[123,21,126,21],[124,6,127,6,"pageIndex"],[124,15,127,15],[124,17,127,17],[124,18,127,18],[125,6,128,6,"currentPage"],[125,17,128,17],[125,19,128,19],[126,4,129,4],[126,5,129,5],[127,2,131,0],[127,3,131,1],[128,2,131,2,"exports"],[128,9,131,2],[128,10,131,2,"useWidgetVisibilityOptional"],[128,37,131,2],[128,40,131,2,"useWidgetVisibilityOptional"],[128,67,131,2],[129,2,131,2,"_s3"],[129,5,131,2],[129,6,120,13,"useWidgetVisibilityOptional"],[129,33,120,40],[130,2,120,40],[130,6,120,40,"_c"],[130,8,120,40],[131,2,120,40,"$RefreshReg$"],[131,14,120,40],[131,15,120,40,"_c"],[131,17,120,40],[132,0,120,40],[132,3]],"functionMap":{"names":["<global>","WidgetVisibilityProvider","useMemo$argument_0","useWidgetVisibility","useWidgetVisibilityOptional"],"mappings":"AAA;iFC+D;wBCM;GDS;CDK;mCGsB;CHQ;2CIM;CJW"}},"type":"js/module"}]}