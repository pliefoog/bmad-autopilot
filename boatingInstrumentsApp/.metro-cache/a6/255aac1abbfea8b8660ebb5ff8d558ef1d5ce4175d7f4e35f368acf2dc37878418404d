{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.globalRegistry = exports.$output = exports.$input = exports.$ZodRegistry = void 0;\n  exports.registry = registry;\n  var _classCallCheck2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n  var _a;\n  var $output = exports.$output = Symbol(\"ZodOutput\");\n  var $input = exports.$input = Symbol(\"ZodInput\");\n  var $ZodRegistry = exports.$ZodRegistry = /*#__PURE__*/function () {\n    function $ZodRegistry() {\n      (0, _classCallCheck2.default)(this, $ZodRegistry);\n      this._map = new WeakMap();\n      this._idmap = new Map();\n    }\n    return (0, _createClass2.default)($ZodRegistry, [{\n      key: \"add\",\n      value: function add(schema) {\n        var meta = arguments.length <= 1 ? undefined : arguments[1];\n        this._map.set(schema, meta);\n        if (meta && typeof meta === \"object\" && \"id\" in meta) {\n          if (this._idmap.has(meta.id)) {\n            throw new Error(`ID ${meta.id} already exists in the registry`);\n          }\n          this._idmap.set(meta.id, schema);\n        }\n        return this;\n      }\n    }, {\n      key: \"clear\",\n      value: function clear() {\n        this._map = new WeakMap();\n        this._idmap = new Map();\n        return this;\n      }\n    }, {\n      key: \"remove\",\n      value: function remove(schema) {\n        var meta = this._map.get(schema);\n        if (meta && typeof meta === \"object\" && \"id\" in meta) {\n          this._idmap.delete(meta.id);\n        }\n        this._map.delete(schema);\n        return this;\n      }\n    }, {\n      key: \"get\",\n      value: function get(schema) {\n        // return this._map.get(schema) as any;\n        // inherit metadata\n        var p = schema._zod.parent;\n        if (p) {\n          var pm = {\n            ...(this.get(p) ?? {})\n          };\n          delete pm.id; // do not inherit id\n          var f = {\n            ...pm,\n            ...this._map.get(schema)\n          };\n          return Object.keys(f).length ? f : undefined;\n        }\n        return this._map.get(schema);\n      }\n    }, {\n      key: \"has\",\n      value: function has(schema) {\n        return this._map.has(schema);\n      }\n    }]);\n  }(); // registries\n  function registry() {\n    return new $ZodRegistry();\n  }\n  (_a = globalThis).__zod_globalRegistry ?? (_a.__zod_globalRegistry = registry());\n  var globalRegistry = exports.globalRegistry = globalThis.__zod_globalRegistry;\n});","lineCount":80,"map":[[10,2,1,0],[10,6,1,4,"_a"],[10,8,1,6],[11,2,2,7],[11,6,2,13,"$output"],[11,13,2,20],[11,16,2,20,"exports"],[11,23,2,20],[11,24,2,20,"$output"],[11,31,2,20],[11,34,2,23,"Symbol"],[11,40,2,29],[11,41,2,30],[11,52,2,41],[11,53,2,42],[12,2,3,7],[12,6,3,13,"$input"],[12,12,3,19],[12,15,3,19,"exports"],[12,22,3,19],[12,23,3,19,"$input"],[12,29,3,19],[12,32,3,22,"Symbol"],[12,38,3,28],[12,39,3,29],[12,49,3,39],[12,50,3,40],[13,2,3,41],[13,6,4,13,"$ZodRegistry"],[13,18,4,25],[13,21,4,25,"exports"],[13,28,4,25],[13,29,4,25,"$ZodRegistry"],[13,41,4,25],[14,4,5,4],[14,13,5,4,"$ZodRegistry"],[14,26,5,4],[14,28,5,18],[15,6,5,18],[15,10,5,18,"_classCallCheck2"],[15,26,5,18],[15,27,5,18,"default"],[15,34,5,18],[15,42,5,18,"$ZodRegistry"],[15,54,5,18],[16,6,6,8],[16,10,6,12],[16,11,6,13,"_map"],[16,15,6,17],[16,18,6,20],[16,22,6,24,"WeakMap"],[16,29,6,31],[16,30,6,32],[16,31,6,33],[17,6,7,8],[17,10,7,12],[17,11,7,13,"_idmap"],[17,17,7,19],[17,20,7,22],[17,24,7,26,"Map"],[17,27,7,29],[17,28,7,30],[17,29,7,31],[18,4,8,4],[19,4,8,5],[19,15,8,5,"_createClass2"],[19,28,8,5],[19,29,8,5,"default"],[19,36,8,5],[19,38,8,5,"$ZodRegistry"],[19,50,8,5],[20,6,8,5,"key"],[20,9,8,5],[21,6,8,5,"value"],[21,11,8,5],[21,13,9,4],[21,22,9,4,"add"],[21,25,9,7,"add"],[21,26,9,8,"schema"],[21,32,9,14],[21,34,9,26],[22,8,10,8],[22,12,10,14,"meta"],[22,16,10,18],[22,19,10,18,"arguments"],[22,28,10,18],[22,29,10,18,"length"],[22,35,10,18],[22,43,10,18,"undefined"],[22,52,10,18],[22,55,10,18,"arguments"],[22,64,10,18],[22,67,10,29],[23,8,11,8],[23,12,11,12],[23,13,11,13,"_map"],[23,17,11,17],[23,18,11,18,"set"],[23,21,11,21],[23,22,11,22,"schema"],[23,28,11,28],[23,30,11,30,"meta"],[23,34,11,34],[23,35,11,35],[24,8,12,8],[24,12,12,12,"meta"],[24,16,12,16],[24,20,12,20],[24,27,12,27,"meta"],[24,31,12,31],[24,36,12,36],[24,44,12,44],[24,48,12,48],[24,52,12,52],[24,56,12,56,"meta"],[24,60,12,60],[24,62,12,62],[25,10,13,12],[25,14,13,16],[25,18,13,20],[25,19,13,21,"_idmap"],[25,25,13,27],[25,26,13,28,"has"],[25,29,13,31],[25,30,13,32,"meta"],[25,34,13,36],[25,35,13,37,"id"],[25,37,13,39],[25,38,13,40],[25,40,13,42],[26,12,14,16],[26,18,14,22],[26,22,14,26,"Error"],[26,27,14,31],[26,28,14,32],[26,34,14,38,"meta"],[26,38,14,42],[26,39,14,43,"id"],[26,41,14,45],[26,74,14,78],[26,75,14,79],[27,10,15,12],[28,10,16,12],[28,14,16,16],[28,15,16,17,"_idmap"],[28,21,16,23],[28,22,16,24,"set"],[28,25,16,27],[28,26,16,28,"meta"],[28,30,16,32],[28,31,16,33,"id"],[28,33,16,35],[28,35,16,37,"schema"],[28,41,16,43],[28,42,16,44],[29,8,17,8],[30,8,18,8],[30,15,18,15],[30,19,18,19],[31,6,19,4],[32,4,19,5],[33,6,19,5,"key"],[33,9,19,5],[34,6,19,5,"value"],[34,11,19,5],[34,13,20,4],[34,22,20,4,"clear"],[34,27,20,9,"clear"],[34,28,20,9],[34,30,20,12],[35,8,21,8],[35,12,21,12],[35,13,21,13,"_map"],[35,17,21,17],[35,20,21,20],[35,24,21,24,"WeakMap"],[35,31,21,31],[35,32,21,32],[35,33,21,33],[36,8,22,8],[36,12,22,12],[36,13,22,13,"_idmap"],[36,19,22,19],[36,22,22,22],[36,26,22,26,"Map"],[36,29,22,29],[36,30,22,30],[36,31,22,31],[37,8,23,8],[37,15,23,15],[37,19,23,19],[38,6,24,4],[39,4,24,5],[40,6,24,5,"key"],[40,9,24,5],[41,6,24,5,"value"],[41,11,24,5],[41,13,25,4],[41,22,25,4,"remove"],[41,28,25,10,"remove"],[41,29,25,11,"schema"],[41,35,25,17],[41,37,25,19],[42,8,26,8],[42,12,26,14,"meta"],[42,16,26,18],[42,19,26,21],[42,23,26,25],[42,24,26,26,"_map"],[42,28,26,30],[42,29,26,31,"get"],[42,32,26,34],[42,33,26,35,"schema"],[42,39,26,41],[42,40,26,42],[43,8,27,8],[43,12,27,12,"meta"],[43,16,27,16],[43,20,27,20],[43,27,27,27,"meta"],[43,31,27,31],[43,36,27,36],[43,44,27,44],[43,48,27,48],[43,52,27,52],[43,56,27,56,"meta"],[43,60,27,60],[43,62,27,62],[44,10,28,12],[44,14,28,16],[44,15,28,17,"_idmap"],[44,21,28,23],[44,22,28,24,"delete"],[44,28,28,30],[44,29,28,31,"meta"],[44,33,28,35],[44,34,28,36,"id"],[44,36,28,38],[44,37,28,39],[45,8,29,8],[46,8,30,8],[46,12,30,12],[46,13,30,13,"_map"],[46,17,30,17],[46,18,30,18,"delete"],[46,24,30,24],[46,25,30,25,"schema"],[46,31,30,31],[46,32,30,32],[47,8,31,8],[47,15,31,15],[47,19,31,19],[48,6,32,4],[49,4,32,5],[50,6,32,5,"key"],[50,9,32,5],[51,6,32,5,"value"],[51,11,32,5],[51,13,33,4],[51,22,33,4,"get"],[51,25,33,7,"get"],[51,26,33,8,"schema"],[51,32,33,14],[51,34,33,16],[52,8,34,8],[53,8,35,8],[54,8,36,8],[54,12,36,14,"p"],[54,13,36,15],[54,16,36,18,"schema"],[54,22,36,24],[54,23,36,25,"_zod"],[54,27,36,29],[54,28,36,30,"parent"],[54,34,36,36],[55,8,37,8],[55,12,37,12,"p"],[55,13,37,13],[55,15,37,15],[56,10,38,12],[56,14,38,18,"pm"],[56,16,38,20],[56,19,38,23],[57,12,38,25],[57,16,38,29],[57,20,38,33],[57,21,38,34,"get"],[57,24,38,37],[57,25,38,38,"p"],[57,26,38,39],[57,27,38,40],[57,31,38,44],[57,32,38,45],[57,33,38,46],[58,10,38,48],[58,11,38,49],[59,10,39,12],[59,17,39,19,"pm"],[59,19,39,21],[59,20,39,22,"id"],[59,22,39,24],[59,23,39,25],[59,24,39,26],[60,10,40,12],[60,14,40,18,"f"],[60,15,40,19],[60,18,40,22],[61,12,40,24],[61,15,40,27,"pm"],[61,17,40,29],[62,12,40,31],[62,15,40,34],[62,19,40,38],[62,20,40,39,"_map"],[62,24,40,43],[62,25,40,44,"get"],[62,28,40,47],[62,29,40,48,"schema"],[62,35,40,54],[63,10,40,56],[63,11,40,57],[64,10,41,12],[64,17,41,19,"Object"],[64,23,41,25],[64,24,41,26,"keys"],[64,28,41,30],[64,29,41,31,"f"],[64,30,41,32],[64,31,41,33],[64,32,41,34,"length"],[64,38,41,40],[64,41,41,43,"f"],[64,42,41,44],[64,45,41,47,"undefined"],[64,54,41,56],[65,8,42,8],[66,8,43,8],[66,15,43,15],[66,19,43,19],[66,20,43,20,"_map"],[66,24,43,24],[66,25,43,25,"get"],[66,28,43,28],[66,29,43,29,"schema"],[66,35,43,35],[66,36,43,36],[67,6,44,4],[68,4,44,5],[69,6,44,5,"key"],[69,9,44,5],[70,6,44,5,"value"],[70,11,44,5],[70,13,45,4],[70,22,45,4,"has"],[70,25,45,7,"has"],[70,26,45,8,"schema"],[70,32,45,14],[70,34,45,16],[71,8,46,8],[71,15,46,15],[71,19,46,19],[71,20,46,20,"_map"],[71,24,46,24],[71,25,46,25,"has"],[71,28,46,28],[71,29,46,29,"schema"],[71,35,46,35],[71,36,46,36],[72,6,47,4],[73,4,47,5],[74,2,47,5],[74,7,49,0],[75,2,50,7],[75,11,50,16,"registry"],[75,19,50,24,"registry"],[75,20,50,24],[75,22,50,27],[76,4,51,4],[76,11,51,11],[76,15,51,15,"$ZodRegistry"],[76,27,51,27],[76,28,51,28],[76,29,51,29],[77,2,52,0],[78,2,53,0],[78,3,53,1,"_a"],[78,5,53,3],[78,8,53,6,"globalThis"],[78,18,53,16],[78,20,53,18,"__zod_globalRegistry"],[78,40,53,38],[78,45,53,43,"_a"],[78,47,53,45],[78,48,53,46,"__zod_globalRegistry"],[78,68,53,66],[78,71,53,69,"registry"],[78,79,53,77],[78,80,53,78],[78,81,53,79],[78,82,53,80],[79,2,54,7],[79,6,54,13,"globalRegistry"],[79,20,54,27],[79,23,54,27,"exports"],[79,30,54,27],[79,31,54,27,"globalRegistry"],[79,45,54,27],[79,48,54,30,"globalThis"],[79,58,54,40],[79,59,54,41,"__zod_globalRegistry"],[79,79,54,61],[80,0,54,62],[80,3]],"functionMap":{"names":["<global>","$ZodRegistry","$ZodRegistry#constructor","$ZodRegistry#add","$ZodRegistry#clear","$ZodRegistry#remove","$ZodRegistry#get","$ZodRegistry#has","registry"],"mappings":"AAA;OCG;ICC;KDG;IEC;KFU;IGC;KHI;IIC;KJO;IKC;KLW;IMC;KNE;CDC;OQE;CRE"}},"type":"js/module"}]}