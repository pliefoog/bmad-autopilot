{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./NavigationBuilderContext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":47},"end":{"line":4,"column":73,"index":120}}],"key":"vvb+tbs8cGp9hlTxgL5PZCjRz5E=","exportNames":["*"],"imports":1}},{"name":"./NavigationStateContext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":121},"end":{"line":5,"column":69,"index":190}}],"key":"vPXNy6i2DuFIp7nHtHgSOvNmS+U=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useOptionsGetters = useOptionsGetters;\n  var React = _interopRequireWildcard(require(_dependencyMap[0], \"react\"));\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  function useOptionsGetters({\n    key,\n    options,\n    navigation\n  }) {\n    const optionsRef = React.useRef(options);\n    const optionsGettersFromChildRef = React.useRef({});\n    const {\n      onOptionsChange\n    } = React.useContext(require(_dependencyMap[1], \"./NavigationBuilderContext.js\").NavigationBuilderContext);\n    const {\n      addOptionsGetter: parentAddOptionsGetter\n    } = React.useContext(require(_dependencyMap[2], \"./NavigationStateContext.js\").NavigationStateContext);\n    const optionsChangeListener = React.useCallback(() => {\n      const isFocused = navigation?.isFocused() ?? true;\n      const hasChildren = Object.keys(optionsGettersFromChildRef.current).length;\n      if (isFocused && !hasChildren) {\n        onOptionsChange(optionsRef.current ?? {});\n      }\n    }, [navigation, onOptionsChange]);\n    React.useEffect(() => {\n      optionsRef.current = options;\n      optionsChangeListener();\n      return navigation?.addListener('focus', optionsChangeListener);\n    }, [navigation, options, optionsChangeListener]);\n    const getOptionsFromListener = React.useCallback(() => {\n      for (const key in optionsGettersFromChildRef.current) {\n        if (key in optionsGettersFromChildRef.current) {\n          const result = optionsGettersFromChildRef.current[key]?.();\n\n          // null means unfocused route\n          if (result !== null) {\n            return result;\n          }\n        }\n      }\n      return null;\n    }, []);\n    const getCurrentOptions = React.useCallback(() => {\n      const isFocused = navigation?.isFocused() ?? true;\n      if (!isFocused) {\n        return null;\n      }\n      const optionsFromListener = getOptionsFromListener();\n      if (optionsFromListener !== null) {\n        return optionsFromListener;\n      }\n      return optionsRef.current;\n    }, [navigation, getOptionsFromListener]);\n    React.useEffect(() => {\n      return parentAddOptionsGetter?.(key, getCurrentOptions);\n    }, [getCurrentOptions, parentAddOptionsGetter, key]);\n    const addOptionsGetter = React.useCallback((key, getter) => {\n      optionsGettersFromChildRef.current[key] = getter;\n      optionsChangeListener();\n      return () => {\n        // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n        delete optionsGettersFromChildRef.current[key];\n        optionsChangeListener();\n      };\n    }, [optionsChangeListener]);\n    return {\n      addOptionsGetter,\n      getCurrentOptions\n    };\n  }\n});","lineCount":76,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"useOptionsGetters"],[7,27,1,13],[7,30,1,13,"useOptionsGetters"],[7,47,1,13],[8,2,3,0],[8,6,3,0,"React"],[8,11,3,0],[8,14,3,0,"_interopRequireWildcard"],[8,37,3,0],[8,38,3,0,"require"],[8,45,3,0],[8,46,3,0,"_dependencyMap"],[8,60,3,0],[9,2,3,31],[9,11,3,31,"_interopRequireWildcard"],[9,35,3,31,"e"],[9,36,3,31],[9,38,3,31,"t"],[9,39,3,31],[9,68,3,31,"WeakMap"],[9,75,3,31],[9,81,3,31,"r"],[9,82,3,31],[9,89,3,31,"WeakMap"],[9,96,3,31],[9,100,3,31,"n"],[9,101,3,31],[9,108,3,31,"WeakMap"],[9,115,3,31],[9,127,3,31,"_interopRequireWildcard"],[9,150,3,31],[9,162,3,31,"_interopRequireWildcard"],[9,163,3,31,"e"],[9,164,3,31],[9,166,3,31,"t"],[9,167,3,31],[9,176,3,31,"t"],[9,177,3,31],[9,181,3,31,"e"],[9,182,3,31],[9,186,3,31,"e"],[9,187,3,31],[9,188,3,31,"__esModule"],[9,198,3,31],[9,207,3,31,"e"],[9,208,3,31],[9,214,3,31,"o"],[9,215,3,31],[9,217,3,31,"i"],[9,218,3,31],[9,220,3,31,"f"],[9,221,3,31],[9,226,3,31,"__proto__"],[9,235,3,31],[9,243,3,31,"default"],[9,250,3,31],[9,252,3,31,"e"],[9,253,3,31],[9,270,3,31,"e"],[9,271,3,31],[9,294,3,31,"e"],[9,295,3,31],[9,320,3,31,"e"],[9,321,3,31],[9,330,3,31,"f"],[9,331,3,31],[9,337,3,31,"o"],[9,338,3,31],[9,341,3,31,"t"],[9,342,3,31],[9,345,3,31,"n"],[9,346,3,31],[9,349,3,31,"r"],[9,350,3,31],[9,358,3,31,"o"],[9,359,3,31],[9,360,3,31,"has"],[9,363,3,31],[9,364,3,31,"e"],[9,365,3,31],[9,375,3,31,"o"],[9,376,3,31],[9,377,3,31,"get"],[9,380,3,31],[9,381,3,31,"e"],[9,382,3,31],[9,385,3,31,"o"],[9,386,3,31],[9,387,3,31,"set"],[9,390,3,31],[9,391,3,31,"e"],[9,392,3,31],[9,394,3,31,"f"],[9,395,3,31],[9,411,3,31,"t"],[9,412,3,31],[9,416,3,31,"e"],[9,417,3,31],[9,433,3,31,"t"],[9,434,3,31],[9,441,3,31,"hasOwnProperty"],[9,455,3,31],[9,456,3,31,"call"],[9,460,3,31],[9,461,3,31,"e"],[9,462,3,31],[9,464,3,31,"t"],[9,465,3,31],[9,472,3,31,"i"],[9,473,3,31],[9,477,3,31,"o"],[9,478,3,31],[9,481,3,31,"Object"],[9,487,3,31],[9,488,3,31,"defineProperty"],[9,502,3,31],[9,507,3,31,"Object"],[9,513,3,31],[9,514,3,31,"getOwnPropertyDescriptor"],[9,538,3,31],[9,539,3,31,"e"],[9,540,3,31],[9,542,3,31,"t"],[9,543,3,31],[9,550,3,31,"i"],[9,551,3,31],[9,552,3,31,"get"],[9,555,3,31],[9,559,3,31,"i"],[9,560,3,31],[9,561,3,31,"set"],[9,564,3,31],[9,568,3,31,"o"],[9,569,3,31],[9,570,3,31,"f"],[9,571,3,31],[9,573,3,31,"t"],[9,574,3,31],[9,576,3,31,"i"],[9,577,3,31],[9,581,3,31,"f"],[9,582,3,31],[9,583,3,31,"t"],[9,584,3,31],[9,588,3,31,"e"],[9,589,3,31],[9,590,3,31,"t"],[9,591,3,31],[9,602,3,31,"f"],[9,603,3,31],[9,608,3,31,"e"],[9,609,3,31],[9,611,3,31,"t"],[9,612,3,31],[10,2,6,7],[10,11,6,16,"useOptionsGetters"],[10,28,6,33,"useOptionsGetters"],[10,29,6,34],[11,4,7,2,"key"],[11,7,7,5],[12,4,8,2,"options"],[12,11,8,9],[13,4,9,2,"navigation"],[14,2,10,0],[14,3,10,1],[14,5,10,3],[15,4,11,2],[15,10,11,8,"optionsRef"],[15,20,11,18],[15,23,11,21,"React"],[15,28,11,26],[15,29,11,27,"useRef"],[15,35,11,33],[15,36,11,34,"options"],[15,43,11,41],[15,44,11,42],[16,4,12,2],[16,10,12,8,"optionsGettersFromChildRef"],[16,36,12,34],[16,39,12,37,"React"],[16,44,12,42],[16,45,12,43,"useRef"],[16,51,12,49],[16,52,12,50],[16,53,12,51],[16,54,12,52],[16,55,12,53],[17,4,13,2],[17,10,13,8],[18,6,14,4,"onOptionsChange"],[19,4,15,2],[19,5,15,3],[19,8,15,6,"React"],[19,13,15,11],[19,14,15,12,"useContext"],[19,24,15,22],[19,25,15,23,"NavigationBuilderContext"],[19,51,15,23],[19,52,15,23,"NavigationBuilderContext"],[19,109,15,47],[19,110,15,48],[20,4,16,2],[20,10,16,8],[21,6,17,4,"addOptionsGetter"],[21,22,17,20],[21,24,17,22,"parentAddOptionsGetter"],[22,4,18,2],[22,5,18,3],[22,8,18,6,"React"],[22,13,18,11],[22,14,18,12,"useContext"],[22,24,18,22],[22,25,18,23,"NavigationStateContext"],[22,51,18,23],[22,52,18,23,"NavigationStateContext"],[22,105,18,45],[22,106,18,46],[23,4,19,2],[23,10,19,8,"optionsChangeListener"],[23,31,19,29],[23,34,19,32,"React"],[23,39,19,37],[23,40,19,38,"useCallback"],[23,51,19,49],[23,52,19,50],[23,58,19,56],[24,6,20,4],[24,12,20,10,"isFocused"],[24,21,20,19],[24,24,20,22,"navigation"],[24,34,20,32],[24,36,20,34,"isFocused"],[24,45,20,43],[24,46,20,44],[24,47,20,45],[24,51,20,49],[24,55,20,53],[25,6,21,4],[25,12,21,10,"hasChildren"],[25,23,21,21],[25,26,21,24,"Object"],[25,32,21,30],[25,33,21,31,"keys"],[25,37,21,35],[25,38,21,36,"optionsGettersFromChildRef"],[25,64,21,62],[25,65,21,63,"current"],[25,72,21,70],[25,73,21,71],[25,74,21,72,"length"],[25,80,21,78],[26,6,22,4],[26,10,22,8,"isFocused"],[26,19,22,17],[26,23,22,21],[26,24,22,22,"hasChildren"],[26,35,22,33],[26,37,22,35],[27,8,23,6,"onOptionsChange"],[27,23,23,21],[27,24,23,22,"optionsRef"],[27,34,23,32],[27,35,23,33,"current"],[27,42,23,40],[27,46,23,44],[27,47,23,45],[27,48,23,46],[27,49,23,47],[28,6,24,4],[29,4,25,2],[29,5,25,3],[29,7,25,5],[29,8,25,6,"navigation"],[29,18,25,16],[29,20,25,18,"onOptionsChange"],[29,35,25,33],[29,36,25,34],[29,37,25,35],[30,4,26,2,"React"],[30,9,26,7],[30,10,26,8,"useEffect"],[30,19,26,17],[30,20,26,18],[30,26,26,24],[31,6,27,4,"optionsRef"],[31,16,27,14],[31,17,27,15,"current"],[31,24,27,22],[31,27,27,25,"options"],[31,34,27,32],[32,6,28,4,"optionsChangeListener"],[32,27,28,25],[32,28,28,26],[32,29,28,27],[33,6,29,4],[33,13,29,11,"navigation"],[33,23,29,21],[33,25,29,23,"addListener"],[33,36,29,34],[33,37,29,35],[33,44,29,42],[33,46,29,44,"optionsChangeListener"],[33,67,29,65],[33,68,29,66],[34,4,30,2],[34,5,30,3],[34,7,30,5],[34,8,30,6,"navigation"],[34,18,30,16],[34,20,30,18,"options"],[34,27,30,25],[34,29,30,27,"optionsChangeListener"],[34,50,30,48],[34,51,30,49],[34,52,30,50],[35,4,31,2],[35,10,31,8,"getOptionsFromListener"],[35,32,31,30],[35,35,31,33,"React"],[35,40,31,38],[35,41,31,39,"useCallback"],[35,52,31,50],[35,53,31,51],[35,59,31,57],[36,6,32,4],[36,11,32,9],[36,17,32,15,"key"],[36,20,32,18],[36,24,32,22,"optionsGettersFromChildRef"],[36,50,32,48],[36,51,32,49,"current"],[36,58,32,56],[36,60,32,58],[37,8,33,6],[37,12,33,10,"key"],[37,15,33,13],[37,19,33,17,"optionsGettersFromChildRef"],[37,45,33,43],[37,46,33,44,"current"],[37,53,33,51],[37,55,33,53],[38,10,34,8],[38,16,34,14,"result"],[38,22,34,20],[38,25,34,23,"optionsGettersFromChildRef"],[38,51,34,49],[38,52,34,50,"current"],[38,59,34,57],[38,60,34,58,"key"],[38,63,34,61],[38,64,34,62],[38,67,34,65],[38,68,34,66],[40,10,36,8],[41,10,37,8],[41,14,37,12,"result"],[41,20,37,18],[41,25,37,23],[41,29,37,27],[41,31,37,29],[42,12,38,10],[42,19,38,17,"result"],[42,25,38,23],[43,10,39,8],[44,8,40,6],[45,6,41,4],[46,6,42,4],[46,13,42,11],[46,17,42,15],[47,4,43,2],[47,5,43,3],[47,7,43,5],[47,9,43,7],[47,10,43,8],[48,4,44,2],[48,10,44,8,"getCurrentOptions"],[48,27,44,25],[48,30,44,28,"React"],[48,35,44,33],[48,36,44,34,"useCallback"],[48,47,44,45],[48,48,44,46],[48,54,44,52],[49,6,45,4],[49,12,45,10,"isFocused"],[49,21,45,19],[49,24,45,22,"navigation"],[49,34,45,32],[49,36,45,34,"isFocused"],[49,45,45,43],[49,46,45,44],[49,47,45,45],[49,51,45,49],[49,55,45,53],[50,6,46,4],[50,10,46,8],[50,11,46,9,"isFocused"],[50,20,46,18],[50,22,46,20],[51,8,47,6],[51,15,47,13],[51,19,47,17],[52,6,48,4],[53,6,49,4],[53,12,49,10,"optionsFromListener"],[53,31,49,29],[53,34,49,32,"getOptionsFromListener"],[53,56,49,54],[53,57,49,55],[53,58,49,56],[54,6,50,4],[54,10,50,8,"optionsFromListener"],[54,29,50,27],[54,34,50,32],[54,38,50,36],[54,40,50,38],[55,8,51,6],[55,15,51,13,"optionsFromListener"],[55,34,51,32],[56,6,52,4],[57,6,53,4],[57,13,53,11,"optionsRef"],[57,23,53,21],[57,24,53,22,"current"],[57,31,53,29],[58,4,54,2],[58,5,54,3],[58,7,54,5],[58,8,54,6,"navigation"],[58,18,54,16],[58,20,54,18,"getOptionsFromListener"],[58,42,54,40],[58,43,54,41],[58,44,54,42],[59,4,55,2,"React"],[59,9,55,7],[59,10,55,8,"useEffect"],[59,19,55,17],[59,20,55,18],[59,26,55,24],[60,6,56,4],[60,13,56,11,"parentAddOptionsGetter"],[60,35,56,33],[60,38,56,36,"key"],[60,41,56,39],[60,43,56,41,"getCurrentOptions"],[60,60,56,58],[60,61,56,59],[61,4,57,2],[61,5,57,3],[61,7,57,5],[61,8,57,6,"getCurrentOptions"],[61,25,57,23],[61,27,57,25,"parentAddOptionsGetter"],[61,49,57,47],[61,51,57,49,"key"],[61,54,57,52],[61,55,57,53],[61,56,57,54],[62,4,58,2],[62,10,58,8,"addOptionsGetter"],[62,26,58,24],[62,29,58,27,"React"],[62,34,58,32],[62,35,58,33,"useCallback"],[62,46,58,44],[62,47,58,45],[62,48,58,46,"key"],[62,51,58,49],[62,53,58,51,"getter"],[62,59,58,57],[62,64,58,62],[63,6,59,4,"optionsGettersFromChildRef"],[63,32,59,30],[63,33,59,31,"current"],[63,40,59,38],[63,41,59,39,"key"],[63,44,59,42],[63,45,59,43],[63,48,59,46,"getter"],[63,54,59,52],[64,6,60,4,"optionsChangeListener"],[64,27,60,25],[64,28,60,26],[64,29,60,27],[65,6,61,4],[65,13,61,11],[65,19,61,17],[66,8,62,6],[67,8,63,6],[67,15,63,13,"optionsGettersFromChildRef"],[67,41,63,39],[67,42,63,40,"current"],[67,49,63,47],[67,50,63,48,"key"],[67,53,63,51],[67,54,63,52],[68,8,64,6,"optionsChangeListener"],[68,29,64,27],[68,30,64,28],[68,31,64,29],[69,6,65,4],[69,7,65,5],[70,4,66,2],[70,5,66,3],[70,7,66,5],[70,8,66,6,"optionsChangeListener"],[70,29,66,27],[70,30,66,28],[70,31,66,29],[71,4,67,2],[71,11,67,9],[72,6,68,4,"addOptionsGetter"],[72,22,68,20],[73,6,69,4,"getCurrentOptions"],[74,4,70,2],[74,5,70,3],[75,2,71,0],[76,0,71,1],[76,3]],"functionMap":{"names":["<global>","useOptionsGetters","optionsChangeListener","React.useEffect$argument_0","getOptionsFromListener","getCurrentOptions","addOptionsGetter","<anonymous>"],"mappings":"AAA;OCK;kDCa;GDM;kBEC;GFI;mDGC;GHY;8CIC;GJU;kBEC;GFE;6CKC;WCG;KDI;GLC;CDK"}},"type":"js/module"}]}