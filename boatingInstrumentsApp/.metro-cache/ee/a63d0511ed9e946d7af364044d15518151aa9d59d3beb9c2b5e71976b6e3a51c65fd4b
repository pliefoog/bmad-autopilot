{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"fGo7mEc/tw/OblLqGBCp3J3h+jY=","exportNames":["*"],"imports":1}},{"name":"../../src/private/featureflags/ReactNativeFeatureFlags","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":14,"column":0},"end":{"line":14,"column":98}}],"key":"fdTx5edELD8GYD7vaakWfKKte1Y=","exportNames":["*"],"imports":1}},{"name":"../vendor/emitter/EventEmitter","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":15,"column":0},"end":{"line":15,"column":58}}],"key":"FSJ8dBSGMPKDnoV5nqp600Oqgzc=","exportNames":["*"],"imports":1}},{"name":"invariant","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":19,"column":18},"end":{"line":19,"column":38}}],"key":"oQpL0Es3H146KnQH9ygFeHrzVP4=","exportNames":["*"],"imports":1}},{"name":"./TaskQueue","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":18,"column":18},"end":{"line":18,"column":48}}],"key":"JdVwdRfYYIkBEefq5ZvEtZ/aHHY=","exportNames":["*"],"imports":1}},{"name":"../BatchedBridge/BatchedBridge","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":17,"column":22},"end":{"line":17,"column":71}}],"key":"RVO988+Zv/6E/rt0hBQ7t8lVl4o=","exportNames":["*"],"imports":1}},{"name":"./InteractionManagerStub","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":233,"column":6},"end":{"line":233,"column":41}}],"key":"6Axl/FjQxNlPydjZVdzFgWLPoUg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\").default;\n  var _interopRequireWildcard = require(_dependencyMap[1], \"@babel/runtime/helpers/interopRequireWildcard\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var ReactNativeFeatureFlags = _interopRequireWildcard(require(_dependencyMap[2], \"../../src/private/featureflags/ReactNativeFeatureFlags\"));\n  var _EventEmitter = _interopRequireDefault(require(_dependencyMap[3], \"../vendor/emitter/EventEmitter\"));\n  var _emitter = new _EventEmitter.default();\n  var DEBUG_DELAY = 0;\n  var DEBUG = false;\n  var InteractionManagerImpl = {\n    Events: {\n      interactionStart: 'interactionStart',\n      interactionComplete: 'interactionComplete'\n    },\n    runAfterInteractions(task) {\n      var tasks = [];\n      var promise = new Promise(resolve => {\n        _scheduleUpdate();\n        if (task) {\n          tasks.push(task);\n        }\n        tasks.push({\n          run: resolve,\n          name: 'resolve ' + (task && task.name || '?')\n        });\n        _taskQueue.enqueueTasks(tasks);\n      });\n      return {\n        then: promise.then.bind(promise),\n        cancel: function () {\n          _taskQueue.cancelTasks(tasks);\n        }\n      };\n    },\n    createInteractionHandle() {\n      DEBUG && console.log('InteractionManager: create interaction handle');\n      _scheduleUpdate();\n      var handle = ++_inc;\n      _addInteractionSet.add(handle);\n      return handle;\n    },\n    clearInteractionHandle(handle) {\n      DEBUG && console.log('InteractionManager: clear interaction handle');\n      require(_dependencyMap[4], \"invariant\")(!!handle, 'InteractionManager: Must provide a handle to clear.');\n      _scheduleUpdate();\n      _addInteractionSet.delete(handle);\n      _deleteInteractionSet.add(handle);\n    },\n    addListener: _emitter.addListener.bind(_emitter),\n    setDeadline(deadline) {\n      _deadline = deadline;\n    }\n  };\n  var _interactionSet = new Set();\n  var _addInteractionSet = new Set();\n  var _deleteInteractionSet = new Set();\n  var _taskQueue = new (require(_dependencyMap[5], \"./TaskQueue\").default)({\n    onMoreTasks: _scheduleUpdate\n  });\n  var _nextUpdateHandle = 0;\n  var _inc = 0;\n  var _deadline = -1;\n  function _scheduleUpdate() {\n    if (!_nextUpdateHandle) {\n      if (_deadline > 0) {\n        _nextUpdateHandle = setTimeout(_processUpdate, 0 + DEBUG_DELAY);\n      } else {\n        _nextUpdateHandle = setImmediate(_processUpdate);\n      }\n    }\n  }\n  function _processUpdate() {\n    _nextUpdateHandle = 0;\n    var interactionCount = _interactionSet.size;\n    _addInteractionSet.forEach(handle => _interactionSet.add(handle));\n    _deleteInteractionSet.forEach(handle => _interactionSet.delete(handle));\n    var nextInteractionCount = _interactionSet.size;\n    if (interactionCount !== 0 && nextInteractionCount === 0) {\n      _emitter.emit(InteractionManager.Events.interactionComplete);\n    } else if (interactionCount === 0 && nextInteractionCount !== 0) {\n      _emitter.emit(InteractionManager.Events.interactionStart);\n    }\n    if (nextInteractionCount === 0) {\n      while (_taskQueue.hasTasksToProcess()) {\n        _taskQueue.processNext();\n        if (_deadline > 0 && require(_dependencyMap[6], \"../BatchedBridge/BatchedBridge\").default.getEventLoopRunningTime() >= _deadline) {\n          _scheduleUpdate();\n          break;\n        }\n      }\n    }\n    _addInteractionSet.clear();\n    _deleteInteractionSet.clear();\n  }\n  var InteractionManager = ReactNativeFeatureFlags.disableInteractionManager() ? require(_dependencyMap[7], \"./InteractionManagerStub\").default : InteractionManagerImpl;\n  var _default = exports.default = InteractionManager;\n});","lineCount":100,"map":[[8,2,14,0],[8,6,14,0,"ReactNativeFeatureFlags"],[8,29,14,0],[8,32,14,0,"_interopRequireWildcard"],[8,55,14,0],[8,56,14,0,"require"],[8,63,14,0],[8,64,14,0,"_dependencyMap"],[8,78,14,0],[9,2,15,0],[9,6,15,0,"_EventEmitter"],[9,19,15,0],[9,22,15,0,"_interopRequireDefault"],[9,44,15,0],[9,45,15,0,"require"],[9,52,15,0],[9,53,15,0,"_dependencyMap"],[9,67,15,0],[10,2,25,0],[10,6,25,6,"_emitter"],[10,14,25,14],[10,17,25,17],[10,21,25,21,"EventEmitter"],[10,42,25,33],[10,43,28,3],[10,44,28,4],[11,2,30,0],[11,6,30,6,"DEBUG_DELAY"],[11,17,30,20],[11,20,30,23],[11,21,30,24],[12,2,31,0],[12,6,31,6,"DEBUG"],[12,11,31,18],[12,14,31,21],[12,19,31,26],[13,2,33,0],[13,6,33,6,"InteractionManagerImpl"],[13,28,33,28],[13,31,33,31],[14,4,34,2,"Events"],[14,10,34,8],[14,12,34,10],[15,6,35,4,"interactionStart"],[15,22,35,20],[15,24,35,22],[15,42,35,40],[16,6,36,4,"interactionComplete"],[16,25,36,23],[16,27,36,25],[17,4,37,2],[17,5,37,3],[18,4,43,2,"runAfterInteractions"],[18,24,43,22,"runAfterInteractions"],[18,25,43,23,"task"],[18,29,43,34],[18,31,50,4],[19,6,51,4],[19,10,51,10,"tasks"],[19,15,51,28],[19,18,51,31],[19,20,51,33],[20,6,52,4],[20,10,52,10,"promise"],[20,17,52,17],[20,20,52,20],[20,24,52,24,"Promise"],[20,31,52,31],[20,32,52,33,"resolve"],[20,39,52,52],[20,43,52,57],[21,8,53,6,"_scheduleUpdate"],[21,23,53,21],[21,24,53,22],[21,25,53,23],[22,8,54,6],[22,12,54,10,"task"],[22,16,54,14],[22,18,54,16],[23,10,55,8,"tasks"],[23,15,55,13],[23,16,55,14,"push"],[23,20,55,18],[23,21,55,19,"task"],[23,25,55,23],[23,26,55,24],[24,8,56,6],[25,8,57,6,"tasks"],[25,13,57,11],[25,14,57,12,"push"],[25,18,57,16],[25,19,57,17],[26,10,58,8,"run"],[26,13,58,11],[26,15,58,13,"resolve"],[26,22,58,20],[27,10,59,8,"name"],[27,14,59,12],[27,16,59,14],[27,26,59,24],[27,30,59,29,"task"],[27,34,59,33],[27,38,59,37,"task"],[27,42,59,41],[27,43,59,42,"name"],[27,47,59,46],[27,51,59,51],[27,54,59,54],[28,8,60,6],[28,9,60,7],[28,10,60,8],[29,8,61,6,"_taskQueue"],[29,18,61,16],[29,19,61,17,"enqueueTasks"],[29,31,61,29],[29,32,61,30,"tasks"],[29,37,61,35],[29,38,61,36],[30,6,62,4],[30,7,62,5],[30,8,62,6],[31,6,63,4],[31,13,63,11],[32,8,65,6,"then"],[32,12,65,10],[32,14,65,12,"promise"],[32,21,65,19],[32,22,65,20,"then"],[32,26,65,24],[32,27,65,25,"bind"],[32,31,65,29],[32,32,65,30,"promise"],[32,39,65,37],[32,40,65,38],[33,8,66,6,"cancel"],[33,14,66,12],[33,16,66,14],[33,25,66,14,"cancel"],[33,26,66,14],[33,28,66,26],[34,10,67,8,"_taskQueue"],[34,20,67,18],[34,21,67,19,"cancelTasks"],[34,32,67,30],[34,33,67,31,"tasks"],[34,38,67,36],[34,39,67,37],[35,8,68,6],[36,6,69,4],[36,7,69,5],[37,4,70,2],[37,5,70,3],[38,4,75,2,"createInteractionHandle"],[38,27,75,25,"createInteractionHandle"],[38,28,75,25],[38,30,75,36],[39,6,76,4,"DEBUG"],[39,11,76,9],[39,15,76,13,"console"],[39,22,76,20],[39,23,76,21,"log"],[39,26,76,24],[39,27,76,25],[39,74,76,72],[39,75,76,73],[40,6,77,4,"_scheduleUpdate"],[40,21,77,19],[40,22,77,20],[40,23,77,21],[41,6,78,4],[41,10,78,10,"handle"],[41,16,78,16],[41,19,78,19],[41,21,78,21,"_inc"],[41,25,78,25],[42,6,79,4,"_addInteractionSet"],[42,24,79,22],[42,25,79,23,"add"],[42,28,79,26],[42,29,79,27,"handle"],[42,35,79,33],[42,36,79,34],[43,6,80,4],[43,13,80,11,"handle"],[43,19,80,17],[44,4,81,2],[44,5,81,3],[45,4,86,2,"clearInteractionHandle"],[45,26,86,24,"clearInteractionHandle"],[45,27,86,25,"handle"],[45,33,86,39],[45,35,86,41],[46,6,87,4,"DEBUG"],[46,11,87,9],[46,15,87,13,"console"],[46,22,87,20],[46,23,87,21,"log"],[46,26,87,24],[46,27,87,25],[46,73,87,71],[46,74,87,72],[47,6,88,4,"require"],[47,13,88,4],[47,14,88,4,"_dependencyMap"],[47,28,88,4],[47,46,88,14],[47,47,88,15],[47,48,88,16,"handle"],[47,54,88,22],[47,56,88,24],[47,109,88,77],[47,110,88,78],[48,6,89,4,"_scheduleUpdate"],[48,21,89,19],[48,22,89,20],[48,23,89,21],[49,6,90,4,"_addInteractionSet"],[49,24,90,22],[49,25,90,23,"delete"],[49,31,90,29],[49,32,90,30,"handle"],[49,38,90,36],[49,39,90,37],[50,6,91,4,"_deleteInteractionSet"],[50,27,91,25],[50,28,91,26,"add"],[50,31,91,29],[50,32,91,30,"handle"],[50,38,91,36],[50,39,91,37],[51,4,92,2],[51,5,92,3],[52,4,96,2,"addListener"],[52,15,96,13],[52,17,96,15,"_emitter"],[52,25,96,23],[52,26,96,24,"addListener"],[52,37,96,35],[52,38,96,36,"bind"],[52,42,96,40],[52,43,96,41,"_emitter"],[52,51,96,49],[52,52,101,24],[53,4,108,2,"setDeadline"],[53,15,108,13,"setDeadline"],[53,16,108,14,"deadline"],[53,24,108,30],[53,26,108,32],[54,6,109,4,"_deadline"],[54,15,109,13],[54,18,109,16,"deadline"],[54,26,109,24],[55,4,110,2],[56,2,111,0],[56,3,111,1],[57,2,113,0],[57,6,113,6,"_interactionSet"],[57,21,113,21],[57,24,113,24],[57,28,113,28,"Set"],[57,31,113,31],[57,32,113,49],[57,33,113,50],[58,2,114,0],[58,6,114,6,"_addInteractionSet"],[58,24,114,24],[58,27,114,27],[58,31,114,31,"Set"],[58,34,114,34],[58,35,114,52],[58,36,114,53],[59,2,115,0],[59,6,115,6,"_deleteInteractionSet"],[59,27,115,27],[59,30,115,30],[59,34,115,34,"Set"],[59,37,115,37],[59,38,115,46],[59,39,115,47],[60,2,116,0],[60,6,116,6,"_taskQueue"],[60,16,116,16],[60,19,116,19],[60,24,116,19,"require"],[60,31,116,19],[60,32,116,19,"_dependencyMap"],[60,46,116,19],[60,66,116,19,"default"],[60,73,116,19],[60,75,116,33],[61,4,116,34,"onMoreTasks"],[61,15,116,45],[61,17,116,47,"_scheduleUpdate"],[62,2,116,62],[62,3,116,63],[62,4,116,64],[63,2,117,0],[63,6,117,4,"_nextUpdateHandle"],[63,23,117,45],[63,26,117,48],[63,27,117,49],[64,2,118,0],[64,6,118,4,"_inc"],[64,10,118,8],[64,13,118,11],[64,14,118,12],[65,2,119,0],[65,6,119,4,"_deadline"],[65,15,119,13],[65,18,119,16],[65,19,119,17],[65,20,119,18],[66,2,124,0],[66,11,124,9,"_scheduleUpdate"],[66,26,124,24,"_scheduleUpdate"],[66,27,124,24],[66,29,124,27],[67,4,125,2],[67,8,125,6],[67,9,125,7,"_nextUpdateHandle"],[67,26,125,24],[67,28,125,26],[68,6,126,4],[68,10,126,8,"_deadline"],[68,19,126,17],[68,22,126,20],[68,23,126,21],[68,25,126,23],[69,8,127,6,"_nextUpdateHandle"],[69,25,127,23],[69,28,127,26,"setTimeout"],[69,38,127,36],[69,39,127,37,"_processUpdate"],[69,53,127,51],[69,55,127,53],[69,56,127,54],[69,59,127,57,"DEBUG_DELAY"],[69,70,127,68],[69,71,127,69],[70,6,128,4],[70,7,128,5],[70,13,128,11],[71,8,129,6,"_nextUpdateHandle"],[71,25,129,23],[71,28,129,26,"setImmediate"],[71,40,129,38],[71,41,129,39,"_processUpdate"],[71,55,129,53],[71,56,129,54],[72,6,130,4],[73,4,131,2],[74,2,132,0],[75,2,137,0],[75,11,137,9,"_processUpdate"],[75,25,137,23,"_processUpdate"],[75,26,137,23],[75,28,137,26],[76,4,138,2,"_nextUpdateHandle"],[76,21,138,19],[76,24,138,22],[76,25,138,23],[77,4,140,2],[77,8,140,8,"interactionCount"],[77,24,140,24],[77,27,140,27,"_interactionSet"],[77,42,140,42],[77,43,140,43,"size"],[77,47,140,47],[78,4,141,2,"_addInteractionSet"],[78,22,141,20],[78,23,141,21,"forEach"],[78,30,141,28],[78,31,141,29,"handle"],[78,37,141,35],[78,41,141,39,"_interactionSet"],[78,56,141,54],[78,57,141,55,"add"],[78,60,141,58],[78,61,141,59,"handle"],[78,67,141,65],[78,68,141,66],[78,69,141,67],[79,4,142,2,"_deleteInteractionSet"],[79,25,142,23],[79,26,142,24,"forEach"],[79,33,142,31],[79,34,142,32,"handle"],[79,40,142,38],[79,44,142,42,"_interactionSet"],[79,59,142,57],[79,60,142,58,"delete"],[79,66,142,64],[79,67,142,65,"handle"],[79,73,142,71],[79,74,142,72],[79,75,142,73],[80,4,143,2],[80,8,143,8,"nextInteractionCount"],[80,28,143,28],[80,31,143,31,"_interactionSet"],[80,46,143,46],[80,47,143,47,"size"],[80,51,143,51],[81,4,145,2],[81,8,145,6,"interactionCount"],[81,24,145,22],[81,29,145,27],[81,30,145,28],[81,34,145,32,"nextInteractionCount"],[81,54,145,52],[81,59,145,57],[81,60,145,58],[81,62,145,60],[82,6,151,4,"_emitter"],[82,14,151,12],[82,15,151,13,"emit"],[82,19,151,17],[82,20,151,18,"InteractionManager"],[82,38,151,36],[82,39,151,37,"Events"],[82,45,151,43],[82,46,151,44,"interactionComplete"],[82,65,151,63],[82,66,151,64],[83,4,152,2],[83,5,152,3],[83,11,152,9],[83,15,152,13,"interactionCount"],[83,31,152,29],[83,36,152,34],[83,37,152,35],[83,41,152,39,"nextInteractionCount"],[83,61,152,59],[83,66,152,64],[83,67,152,65],[83,69,152,67],[84,6,158,4,"_emitter"],[84,14,158,12],[84,15,158,13,"emit"],[84,19,158,17],[84,20,158,18,"InteractionManager"],[84,38,158,36],[84,39,158,37,"Events"],[84,45,158,43],[84,46,158,44,"interactionStart"],[84,62,158,60],[84,63,158,61],[85,4,159,2],[86,4,162,2],[86,8,162,6,"nextInteractionCount"],[86,28,162,26],[86,33,162,31],[86,34,162,32],[86,36,162,34],[87,6,163,4],[87,13,163,11,"_taskQueue"],[87,23,163,21],[87,24,163,22,"hasTasksToProcess"],[87,41,163,39],[87,42,163,40],[87,43,163,41],[87,45,163,43],[88,8,164,6,"_taskQueue"],[88,18,164,16],[88,19,164,17,"processNext"],[88,30,164,28],[88,31,164,29],[88,32,164,30],[89,8,165,6],[89,12,166,8,"_deadline"],[89,21,166,17],[89,24,166,20],[89,25,166,21],[89,29,167,8,"require"],[89,36,167,8],[89,37,167,8,"_dependencyMap"],[89,51,167,8],[89,90,167,8,"default"],[89,97,167,8],[89,98,167,22,"getEventLoopRunningTime"],[89,121,167,45],[89,122,167,46],[89,123,167,47],[89,127,167,51,"_deadline"],[89,136,167,60],[89,138,168,8],[90,10,170,8,"_scheduleUpdate"],[90,25,170,23],[90,26,170,24],[90,27,170,25],[91,10,171,8],[92,8,172,6],[93,6,173,4],[94,4,174,2],[95,4,175,2,"_addInteractionSet"],[95,22,175,20],[95,23,175,21,"clear"],[95,28,175,26],[95,29,175,27],[95,30,175,28],[96,4,176,2,"_deleteInteractionSet"],[96,25,176,23],[96,26,176,24,"clear"],[96,31,176,29],[96,32,176,30],[96,33,176,31],[97,2,177,0],[98,2,230,0],[98,6,230,6,"InteractionManager"],[98,24,230,24],[98,27,231,2,"ReactNativeFeatureFlags"],[98,50,231,25],[98,51,231,26,"disableInteractionManager"],[98,76,231,51],[98,77,231,52],[98,78,231,53],[98,81,233,6,"require"],[98,88,233,13],[98,89,233,13,"_dependencyMap"],[98,103,233,13],[98,134,233,40],[98,135,233,41],[98,136,233,42,"default"],[98,143,233,49],[98,146,234,6,"InteractionManagerImpl"],[98,168,235,34],[99,2,235,35],[99,6,235,35,"_default"],[99,14,235,35],[99,17,235,35,"exports"],[99,24,235,35],[99,25,235,35,"default"],[99,32,235,35],[99,35,237,15,"InteractionManager"],[99,53,237,33],[100,0,237,33],[100,3]],"functionMap":{"names":["<global>","InteractionManagerImpl.runAfterInteractions","Promise$argument_0","cancel","InteractionManagerImpl.createInteractionHandle","InteractionManagerImpl.clearInteractionHandle","InteractionManagerImpl.setDeadline","_scheduleUpdate","_processUpdate","_addInteractionSet.forEach$argument_0","_deleteInteractionSet.forEach$argument_0"],"mappings":"AAA;EC0C;gCCS;KDU;cEI;OFE;GDE;EIK;GJM;EKK;GLM;EMgB;GNE;AOc;CPQ;AQK;6BCI,qCD;gCEC,wCF;CRmC"}},"type":"js/module"}]}