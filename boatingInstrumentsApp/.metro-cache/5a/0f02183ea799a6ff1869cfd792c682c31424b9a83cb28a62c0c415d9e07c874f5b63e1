{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":42,"index":42}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Dimensions","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"ySrYx/xxJL+A+Ie+sLy/r/EEnF8=","exportNames":["*"],"imports":1}},{"name":"../store/uiStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":86},"end":{"line":3,"column":46,"index":132}},{"start":{"line":3,"column":0,"index":86},"end":{"line":3,"column":46,"index":132}},{"start":{"line":3,"column":0,"index":86},"end":{"line":3,"column":46,"index":132}},{"start":{"line":3,"column":0,"index":86},"end":{"line":3,"column":46,"index":132}},{"start":{"line":3,"column":0,"index":86},"end":{"line":3,"column":46,"index":132}},{"start":{"line":3,"column":0,"index":86},"end":{"line":3,"column":46,"index":132}},{"start":{"line":3,"column":0,"index":86},"end":{"line":3,"column":46,"index":132}}],"key":"6oRM0jMBmsZJH6/dyfgvUngwxHk=","exportNames":["*"],"imports":7}},{"name":"../store/nmeaStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":133},"end":{"line":4,"column":50,"index":183}}],"key":"yzZczWKas9lrOaIoMdO4acDolm0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useAutoHideHeader = void 0;\n  var _react = require(_dependencyMap[1], \"react\");\n  var _Dimensions = _interopRequireDefault(require(_dependencyMap[2], \"react-native-web/dist/exports/Dimensions\"));\n  var _s = $RefreshSig$();\n  /**\n   * useAutoHideHeader Hook - REFACTORED to prevent infinite loops\n   * \n   * Manages automatic header hiding with a single-fire timer approach.\n   * Timer starts when header becomes visible and all conditions are met.\n   * \n   * Trigger Conditions:\n   * - Auto-hide enabled in settings\n   * - NMEA connection established\n   * - Configurable idle timeout (default 5 seconds)\n   * - No dialogs open\n   * - Screen height < 1800px (laptops/tablets)\n   * \n   * @param isAnyDialogOpen - Whether any modal dialog is currently visible\n   */\n  const useAutoHideHeader = (isAnyDialogOpen = false) => {\n    _s();\n    const isHeaderVisible = (0, require(_dependencyMap[3], \"../store/uiStore\").useUIStore)(state => state.isHeaderVisible);\n    const autoHideEnabled = (0, require(_dependencyMap[3], \"../store/uiStore\").useUIStore)(state => state.autoHideEnabled);\n    const autoHideTimeoutMs = (0, require(_dependencyMap[3], \"../store/uiStore\").useUIStore)(state => state.autoHideTimeoutMs);\n    const timerRef = (0, _react.useRef)(null);\n\n    // Get screen dimensions - only check once\n    const screenHeight = _Dimensions.default.get('window').height;\n    const shouldEnableAutoHide = autoHideEnabled && screenHeight < 1800;\n\n    // Single effect that runs only when header visibility changes or dialogs open/close\n    (0, _react.useEffect)(() => {\n      // Clear any existing timer\n      if (timerRef.current) {\n        clearTimeout(timerRef.current);\n        timerRef.current = null;\n      }\n\n      // Don't set timer if:\n      // - Feature disabled or screen too large\n      // - Any dialog is open\n      // - Header already hidden\n      if (!shouldEnableAutoHide || isAnyDialogOpen || !isHeaderVisible) {\n        return;\n      }\n\n      // Set timer to hide header after configured timeout\n      // Get fresh values from store when timer fires (not from closure)\n      timerRef.current = setTimeout(() => {\n        const {\n          hideHeader\n        } = require(_dependencyMap[3], \"../store/uiStore\").useUIStore.getState();\n        const {\n          connectionStatus\n        } = require(_dependencyMap[4], \"../store/nmeaStore\").useNmeaStore.getState();\n\n        // Double-check conditions at execution time\n        if (connectionStatus === 'connected') {\n          hideHeader();\n        }\n        timerRef.current = null;\n      }, autoHideTimeoutMs);\n\n      // Cleanup\n      return () => {\n        if (timerRef.current) {\n          clearTimeout(timerRef.current);\n          timerRef.current = null;\n        }\n      };\n      // CRITICAL: Minimal deps - only UI state that should trigger timer reset\n      // autoHideTimeoutMs changes trigger new timer with updated duration\n    }, [shouldEnableAutoHide, isAnyDialogOpen, isHeaderVisible, autoHideTimeoutMs]);\n  };\n  exports.useAutoHideHeader = useAutoHideHeader;\n  _s(useAutoHideHeader, \"+Xgow6d2JZU9PRmuNvCQXOEOV38=\", false, function () {\n    return [require(_dependencyMap[3], \"../store/uiStore\").useUIStore, require(_dependencyMap[3], \"../store/uiStore\").useUIStore, require(_dependencyMap[3], \"../store/uiStore\").useUIStore];\n  });\n});","lineCount":84,"map":[[7,2,1,0],[7,6,1,0,"_react"],[7,12,1,0],[7,15,1,0,"require"],[7,22,1,0],[7,23,1,0,"_dependencyMap"],[7,37,1,0],[8,2,1,42],[8,6,1,42,"_Dimensions"],[8,17,1,42],[8,20,1,42,"_interopRequireDefault"],[8,42,1,42],[8,43,1,42,"require"],[8,50,1,42],[8,51,1,42,"_dependencyMap"],[8,65,1,42],[9,2,1,42],[9,6,1,42,"_s"],[9,8,1,42],[9,11,1,42,"$RefreshSig$"],[9,23,1,42],[10,2,6,0],[11,0,7,0],[12,0,8,0],[13,0,9,0],[14,0,10,0],[15,0,11,0],[16,0,12,0],[17,0,13,0],[18,0,14,0],[19,0,15,0],[20,0,16,0],[21,0,17,0],[22,0,18,0],[23,0,19,0],[24,0,20,0],[25,2,21,7],[25,8,21,13,"useAutoHideHeader"],[25,25,21,30],[25,28,21,33,"useAutoHideHeader"],[25,29,21,34,"isAnyDialogOpen"],[25,44,21,58],[25,47,21,61],[25,52,21,66],[25,57,21,71],[26,4,21,71,"_s"],[26,6,21,71],[27,4,22,2],[27,10,22,8,"isHeaderVisible"],[27,25,22,23],[27,28,22,26],[27,32,22,26,"useUIStore"],[27,58,22,26],[27,59,22,26,"useUIStore"],[27,89,22,36],[27,91,22,38,"state"],[27,96,22,43],[27,100,22,48,"state"],[27,105,22,53],[27,106,22,54,"isHeaderVisible"],[27,121,22,69],[27,122,22,70],[28,4,23,2],[28,10,23,8,"autoHideEnabled"],[28,25,23,23],[28,28,23,26],[28,32,23,26,"useUIStore"],[28,58,23,26],[28,59,23,26,"useUIStore"],[28,89,23,36],[28,91,23,38,"state"],[28,96,23,43],[28,100,23,48,"state"],[28,105,23,53],[28,106,23,54,"autoHideEnabled"],[28,121,23,69],[28,122,23,70],[29,4,24,2],[29,10,24,8,"autoHideTimeoutMs"],[29,27,24,25],[29,30,24,28],[29,34,24,28,"useUIStore"],[29,60,24,28],[29,61,24,28,"useUIStore"],[29,91,24,38],[29,93,24,40,"state"],[29,98,24,45],[29,102,24,50,"state"],[29,107,24,55],[29,108,24,56,"autoHideTimeoutMs"],[29,125,24,73],[29,126,24,74],[30,4,26,2],[30,10,26,8,"timerRef"],[30,18,26,16],[30,21,26,19],[30,25,26,19,"useRef"],[30,38,26,25],[30,40,26,49],[30,44,26,53],[30,45,26,54],[32,4,28,2],[33,4,29,2],[33,10,29,8,"screenHeight"],[33,22,29,20],[33,25,29,23,"Dimensions"],[33,44,29,33],[33,45,29,34,"get"],[33,48,29,37],[33,49,29,38],[33,57,29,46],[33,58,29,47],[33,59,29,48,"height"],[33,65,29,54],[34,4,30,2],[34,10,30,8,"shouldEnableAutoHide"],[34,30,30,28],[34,33,30,31,"autoHideEnabled"],[34,48,30,46],[34,52,30,50,"screenHeight"],[34,64,30,62],[34,67,30,65],[34,71,30,69],[36,4,32,2],[37,4,33,2],[37,8,33,2,"useEffect"],[37,24,33,11],[37,26,33,12],[37,32,33,18],[38,6,34,4],[39,6,35,4],[39,10,35,8,"timerRef"],[39,18,35,16],[39,19,35,17,"current"],[39,26,35,24],[39,28,35,26],[40,8,36,6,"clearTimeout"],[40,20,36,18],[40,21,36,19,"timerRef"],[40,29,36,27],[40,30,36,28,"current"],[40,37,36,35],[40,38,36,36],[41,8,37,6,"timerRef"],[41,16,37,14],[41,17,37,15,"current"],[41,24,37,22],[41,27,37,25],[41,31,37,29],[42,6,38,4],[44,6,40,4],[45,6,41,4],[46,6,42,4],[47,6,43,4],[48,6,44,4],[48,10,44,8],[48,11,44,9,"shouldEnableAutoHide"],[48,31,44,29],[48,35,44,33,"isAnyDialogOpen"],[48,50,44,48],[48,54,44,52],[48,55,44,53,"isHeaderVisible"],[48,70,44,68],[48,72,44,70],[49,8,45,6],[50,6,46,4],[52,6,48,4],[53,6,49,4],[54,6,50,4,"timerRef"],[54,14,50,12],[54,15,50,13,"current"],[54,22,50,20],[54,25,50,23,"setTimeout"],[54,35,50,33],[54,36,50,34],[54,42,50,40],[55,8,51,6],[55,14,51,12],[56,10,51,14,"hideHeader"],[57,8,51,25],[57,9,51,26],[57,12,51,29,"useUIStore"],[57,38,51,29],[57,39,51,29,"useUIStore"],[57,69,51,39],[57,70,51,40,"getState"],[57,78,51,48],[57,79,51,49],[57,80,51,50],[58,8,52,6],[58,14,52,12],[59,10,52,14,"connectionStatus"],[60,8,52,31],[60,9,52,32],[60,12,52,35,"useNmeaStore"],[60,38,52,35],[60,39,52,35,"useNmeaStore"],[60,73,52,47],[60,74,52,48,"getState"],[60,82,52,56],[60,83,52,57],[60,84,52,58],[62,8,54,6],[63,8,55,6],[63,12,55,10,"connectionStatus"],[63,28,55,26],[63,33,55,31],[63,44,55,42],[63,46,55,44],[64,10,56,8,"hideHeader"],[64,20,56,18],[64,21,56,19],[64,22,56,20],[65,8,57,6],[66,8,59,6,"timerRef"],[66,16,59,14],[66,17,59,15,"current"],[66,24,59,22],[66,27,59,25],[66,31,59,29],[67,6,60,4],[67,7,60,5],[67,9,60,7,"autoHideTimeoutMs"],[67,26,60,24],[67,27,60,25],[69,6,62,4],[70,6,63,4],[70,13,63,11],[70,19,63,17],[71,8,64,6],[71,12,64,10,"timerRef"],[71,20,64,18],[71,21,64,19,"current"],[71,28,64,26],[71,30,64,28],[72,10,65,8,"clearTimeout"],[72,22,65,20],[72,23,65,21,"timerRef"],[72,31,65,29],[72,32,65,30,"current"],[72,39,65,37],[72,40,65,38],[73,10,66,8,"timerRef"],[73,18,66,16],[73,19,66,17,"current"],[73,26,66,24],[73,29,66,27],[73,33,66,31],[74,8,67,6],[75,6,68,4],[75,7,68,5],[76,6,69,4],[77,6,70,4],[78,4,71,2],[78,5,71,3],[78,7,71,5],[78,8,71,6,"shouldEnableAutoHide"],[78,28,71,26],[78,30,71,28,"isAnyDialogOpen"],[78,45,71,43],[78,47,71,45,"isHeaderVisible"],[78,62,71,60],[78,64,71,62,"autoHideTimeoutMs"],[78,81,71,79],[78,82,71,80],[78,83,71,81],[79,2,72,0],[79,3,72,1],[80,2,72,2,"exports"],[80,9,72,2],[80,10,72,2,"useAutoHideHeader"],[80,27,72,2],[80,30,72,2,"useAutoHideHeader"],[80,47,72,2],[81,2,72,2,"_s"],[81,4,72,2],[81,5,21,13,"useAutoHideHeader"],[81,22,21,30],[82,4,21,30],[82,12,22,26,"useUIStore"],[82,38,22,26],[82,39,22,26,"useUIStore"],[82,69,22,36],[82,71,23,26,"useUIStore"],[82,97,23,26],[82,98,23,26,"useUIStore"],[82,128,23,36],[82,130,24,28,"useUIStore"],[82,156,24,28],[82,157,24,28,"useUIStore"],[82,187,24,38],[83,2,24,38],[84,0,24,38],[84,3]],"functionMap":{"names":["<global>","useAutoHideHeader","useUIStore$argument_0","useEffect$argument_0","setTimeout$argument_0","<anonymous>"],"mappings":"AAA;iCCoB;qCCC,gCD;qCCC,gCD;uCCC,kCD;YES;kCCiB;KDU;WEG;KFK;GFG;CDC"}},"type":"js/module"}]}