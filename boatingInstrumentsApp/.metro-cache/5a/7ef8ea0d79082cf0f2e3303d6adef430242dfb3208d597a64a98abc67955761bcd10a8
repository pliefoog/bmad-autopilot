{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"fGo7mEc/tw/OblLqGBCp3J3h+jY=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":59},"end":{"line":4,"column":31,"index":90}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"use-latest-callback","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":91},"end":{"line":5,"column":52,"index":143}}],"key":"2ER/r3Agt+5SFwaFR8HXg24Rpu4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":354},"end":{"line":9,"column":48,"index":402}}],"key":"rKAWVuQOSSDHxC6IWcmkeWszaWg=","exportNames":["*"],"imports":1}},{"name":"nanoid/non-secure","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":43,"index":58}}],"key":"SN8WVal79eAEDQEpzmVqVAy5JJs=","exportNames":["*"],"imports":1}},{"name":"./NavigationHelpersContext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":144},"end":{"line":6,"column":73,"index":217}}],"key":"UPnefzBCahUrTRoOWw51hXJ7z+A=","exportNames":["*"],"imports":1}},{"name":"./NavigationRouteContext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":218},"end":{"line":7,"column":69,"index":287}}],"key":"AWXnpGNA5UkH1qQUM7hLv2L9KzI=","exportNames":["*"],"imports":1}},{"name":"./PreventRemoveContext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":288},"end":{"line":8,"column":65,"index":353}},{"start":{"line":8,"column":0,"index":288},"end":{"line":8,"column":65,"index":353}}],"key":"gocprUc09OHt9JxWdj0Uy4jHmps=","exportNames":["*"],"imports":2}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireWildcard = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireWildcard\").default;\n  var _interopRequireDefault = require(_dependencyMap[1], \"@babel/runtime/helpers/interopRequireDefault\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.PreventRemoveProvider = PreventRemoveProvider;\n  var _slicedToArray2 = _interopRequireDefault(require(_dependencyMap[2], \"@babel/runtime/helpers/slicedToArray\"));\n  var React = _interopRequireWildcard(require(_dependencyMap[3], \"react\"));\n  var _useLatestCallback = _interopRequireDefault(require(_dependencyMap[4], \"use-latest-callback\"));\n  var _jsxRuntime = require(_dependencyMap[5], \"react/jsx-runtime\");\n  /**\n   * Util function to transform map of prevented routes to a simpler object.\n   */\n  var transformPreventedRoutes = preventedRoutesMap => {\n    var preventedRoutesToTransform = [...preventedRoutesMap.values()];\n    var preventedRoutes = preventedRoutesToTransform.reduce((acc, _ref) => {\n      var routeKey = _ref.routeKey,\n        preventRemove = _ref.preventRemove;\n      acc[routeKey] = {\n        preventRemove: acc[routeKey]?.preventRemove || preventRemove\n      };\n      return acc;\n    }, {});\n    return preventedRoutes;\n  };\n\n  /**\n   * Component used for managing which routes have to be prevented from removal in native-stack.\n   */\n  function PreventRemoveProvider(_ref2) {\n    var children = _ref2.children;\n    var _React$useState = React.useState(() => (0, require(_dependencyMap[6], \"nanoid/non-secure\").nanoid)()),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 1),\n      parentId = _React$useState2[0];\n    var _React$useState3 = React.useState(() => new Map()),\n      _React$useState4 = (0, _slicedToArray2.default)(_React$useState3, 2),\n      preventedRoutesMap = _React$useState4[0],\n      setPreventedRoutesMap = _React$useState4[1];\n    var navigation = React.useContext(require(_dependencyMap[7], \"./NavigationHelpersContext.js\").NavigationHelpersContext);\n    var route = React.useContext(require(_dependencyMap[8], \"./NavigationRouteContext.js\").NavigationRouteContext);\n    var preventRemoveContextValue = React.useContext(require(_dependencyMap[9], \"./PreventRemoveContext.js\").PreventRemoveContext);\n    // take `setPreventRemove` from parent context - if exist it means we're in a nested context\n    var setParentPrevented = preventRemoveContextValue?.setPreventRemove;\n    var setPreventRemove = (0, _useLatestCallback.default)((id, routeKey, preventRemove) => {\n      if (preventRemove && (navigation == null || navigation?.getState().routes.every(route => route.key !== routeKey))) {\n        throw new Error(`Couldn't find a route with the key ${routeKey}. Is your component inside NavigationContent?`);\n      }\n      setPreventedRoutesMap(prevPrevented => {\n        // values haven't changed - do nothing\n        if (routeKey === prevPrevented.get(id)?.routeKey && preventRemove === prevPrevented.get(id)?.preventRemove) {\n          return prevPrevented;\n        }\n        var nextPrevented = new Map(prevPrevented);\n        if (preventRemove) {\n          nextPrevented.set(id, {\n            routeKey,\n            preventRemove\n          });\n        } else {\n          nextPrevented.delete(id);\n        }\n        return nextPrevented;\n      });\n    });\n    var isPrevented = [...preventedRoutesMap.values()].some(_ref3 => {\n      var preventRemove = _ref3.preventRemove;\n      return preventRemove;\n    });\n    React.useEffect(() => {\n      if (route?.key !== undefined && setParentPrevented !== undefined) {\n        // when route is defined (and setParentPrevented) it means we're in a nested stack\n        // route.key then will be the route key of parent\n        setParentPrevented(parentId, route.key, isPrevented);\n        return () => {\n          setParentPrevented(parentId, route.key, false);\n        };\n      }\n      return;\n    }, [parentId, isPrevented, route?.key, setParentPrevented]);\n    var value = React.useMemo(() => ({\n      setPreventRemove,\n      preventedRoutes: transformPreventedRoutes(preventedRoutesMap)\n    }), [setPreventRemove, preventedRoutesMap]);\n    return /*#__PURE__*/(0, _jsxRuntime.jsx)(require(_dependencyMap[9], \"./PreventRemoveContext.js\").PreventRemoveContext.Provider, {\n      value: value,\n      children: children\n    });\n  }\n});","lineCount":92,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_interopRequireWildcard"],[4,29,1,13],[4,32,1,13,"require"],[4,39,1,13],[4,40,1,13,"_dependencyMap"],[4,54,1,13],[4,108,1,13,"default"],[4,115,1,13],[5,2,1,13],[5,6,1,13,"_interopRequireDefault"],[5,28,1,13],[5,31,1,13,"require"],[5,38,1,13],[5,39,1,13,"_dependencyMap"],[5,53,1,13],[5,106,1,13,"default"],[5,113,1,13],[6,2,1,13,"Object"],[6,8,1,13],[6,9,1,13,"defineProperty"],[6,23,1,13],[6,24,1,13,"exports"],[6,31,1,13],[7,4,1,13,"value"],[7,9,1,13],[8,2,1,13],[9,2,1,13,"exports"],[9,9,1,13],[9,10,1,13,"PreventRemoveProvider"],[9,31,1,13],[9,34,1,13,"PreventRemoveProvider"],[9,55,1,13],[10,2,1,13],[10,6,1,13,"_slicedToArray2"],[10,21,1,13],[10,24,1,13,"_interopRequireDefault"],[10,46,1,13],[10,47,1,13,"require"],[10,54,1,13],[10,55,1,13,"_dependencyMap"],[10,69,1,13],[11,2,4,0],[11,6,4,0,"React"],[11,11,4,0],[11,14,4,0,"_interopRequireWildcard"],[11,37,4,0],[11,38,4,0,"require"],[11,45,4,0],[11,46,4,0,"_dependencyMap"],[11,60,4,0],[12,2,5,0],[12,6,5,0,"_useLatestCallback"],[12,24,5,0],[12,27,5,0,"_interopRequireDefault"],[12,49,5,0],[12,50,5,0,"require"],[12,57,5,0],[12,58,5,0,"_dependencyMap"],[12,72,5,0],[13,2,9,0],[13,6,9,0,"_jsxRuntime"],[13,17,9,0],[13,20,9,0,"require"],[13,27,9,0],[13,28,9,0,"_dependencyMap"],[13,42,9,0],[14,2,10,0],[15,0,11,0],[16,0,12,0],[17,2,13,0],[17,6,13,6,"transformPreventedRoutes"],[17,30,13,30],[17,33,13,33,"preventedRoutesMap"],[17,51,13,51],[17,55,13,55],[18,4,14,2],[18,8,14,8,"preventedRoutesToTransform"],[18,34,14,34],[18,37,14,37],[18,38,14,38],[18,41,14,41,"preventedRoutesMap"],[18,59,14,59],[18,60,14,60,"values"],[18,66,14,66],[18,67,14,67],[18,68,14,68],[18,69,14,69],[19,4,15,2],[19,8,15,8,"preventedRoutes"],[19,23,15,23],[19,26,15,26,"preventedRoutesToTransform"],[19,52,15,52],[19,53,15,53,"reduce"],[19,59,15,59],[19,60,15,60],[19,61,15,61,"acc"],[19,64,15,64],[19,66,15,64,"_ref"],[19,70,15,64],[19,75,18,8],[20,6,18,8],[20,10,16,4,"routeKey"],[20,18,16,12],[20,21,16,12,"_ref"],[20,25,16,12],[20,26,16,4,"routeKey"],[20,34,16,12],[21,8,17,4,"preventRemove"],[21,21,17,17],[21,24,17,17,"_ref"],[21,28,17,17],[21,29,17,4,"preventRemove"],[21,42,17,17],[22,6,19,4,"acc"],[22,9,19,7],[22,10,19,8,"routeKey"],[22,18,19,16],[22,19,19,17],[22,22,19,20],[23,8,20,6,"preventRemove"],[23,21,20,19],[23,23,20,21,"acc"],[23,26,20,24],[23,27,20,25,"routeKey"],[23,35,20,33],[23,36,20,34],[23,38,20,36,"preventRemove"],[23,51,20,49],[23,55,20,53,"preventRemove"],[24,6,21,4],[24,7,21,5],[25,6,22,4],[25,13,22,11,"acc"],[25,16,22,14],[26,4,23,2],[26,5,23,3],[26,7,23,5],[26,8,23,6],[26,9,23,7],[26,10,23,8],[27,4,24,2],[27,11,24,9,"preventedRoutes"],[27,26,24,24],[28,2,25,0],[28,3,25,1],[30,2,27,0],[31,0,28,0],[32,0,29,0],[33,2,30,7],[33,11,30,16,"PreventRemoveProvider"],[33,32,30,37,"PreventRemoveProvider"],[33,33,30,37,"_ref2"],[33,38,30,37],[33,40,32,3],[34,4,32,3],[34,8,31,2,"children"],[34,16,31,10],[34,19,31,10,"_ref2"],[34,24,31,10],[34,25,31,2,"children"],[34,33,31,10],[35,4,33,2],[35,8,33,2,"_React$useState"],[35,23,33,2],[35,26,33,21,"React"],[35,31,33,26],[35,32,33,27,"useState"],[35,40,33,35],[35,41,33,36],[35,47,33,42],[35,51,33,42,"nanoid"],[35,77,33,42],[35,78,33,42,"nanoid"],[35,105,33,48],[35,107,33,49],[35,108,33,50],[35,109,33,51],[36,6,33,51,"_React$useState2"],[36,22,33,51],[36,29,33,51,"_slicedToArray2"],[36,44,33,51],[36,45,33,51,"default"],[36,52,33,51],[36,54,33,51,"_React$useState"],[36,69,33,51],[37,6,33,9,"parentId"],[37,14,33,17],[37,17,33,17,"_React$useState2"],[37,33,33,17],[38,4,34,2],[38,8,34,2,"_React$useState3"],[38,24,34,2],[38,27,34,54,"React"],[38,32,34,59],[38,33,34,60,"useState"],[38,41,34,68],[38,42,34,69],[38,48,34,75],[38,52,34,79,"Map"],[38,55,34,82],[38,56,34,83],[38,57,34,84],[38,58,34,85],[39,6,34,85,"_React$useState4"],[39,22,34,85],[39,29,34,85,"_slicedToArray2"],[39,44,34,85],[39,45,34,85,"default"],[39,52,34,85],[39,54,34,85,"_React$useState3"],[39,70,34,85],[40,6,34,9,"preventedRoutesMap"],[40,24,34,27],[40,27,34,27,"_React$useState4"],[40,43,34,27],[41,6,34,29,"setPreventedRoutesMap"],[41,27,34,50],[41,30,34,50,"_React$useState4"],[41,46,34,50],[42,4,35,2],[42,8,35,8,"navigation"],[42,18,35,18],[42,21,35,21,"React"],[42,26,35,26],[42,27,35,27,"useContext"],[42,37,35,37],[42,38,35,38,"NavigationHelpersContext"],[42,64,35,38],[42,65,35,38,"NavigationHelpersContext"],[42,122,35,62],[42,123,35,63],[43,4,36,2],[43,8,36,8,"route"],[43,13,36,13],[43,16,36,16,"React"],[43,21,36,21],[43,22,36,22,"useContext"],[43,32,36,32],[43,33,36,33,"NavigationRouteContext"],[43,59,36,33],[43,60,36,33,"NavigationRouteContext"],[43,113,36,55],[43,114,36,56],[44,4,37,2],[44,8,37,8,"preventRemoveContextValue"],[44,33,37,33],[44,36,37,36,"React"],[44,41,37,41],[44,42,37,42,"useContext"],[44,52,37,52],[44,53,37,53,"PreventRemoveContext"],[44,79,37,53],[44,80,37,53,"PreventRemoveContext"],[44,129,37,73],[44,130,37,74],[45,4,38,2],[46,4,39,2],[46,8,39,8,"setParentPrevented"],[46,26,39,26],[46,29,39,29,"preventRemoveContextValue"],[46,54,39,54],[46,56,39,56,"setPreventRemove"],[46,72,39,72],[47,4,40,2],[47,8,40,8,"setPreventRemove"],[47,24,40,24],[47,27,40,27],[47,31,40,27,"useLatestCallback"],[47,57,40,44],[47,59,40,45],[47,60,40,46,"id"],[47,62,40,48],[47,64,40,50,"routeKey"],[47,72,40,58],[47,74,40,60,"preventRemove"],[47,87,40,73],[47,92,40,78],[48,6,41,4],[48,10,41,8,"preventRemove"],[48,23,41,21],[48,28,41,26,"navigation"],[48,38,41,36],[48,42,41,40],[48,46,41,44],[48,50,41,48,"navigation"],[48,60,41,58],[48,62,41,60,"getState"],[48,70,41,68],[48,71,41,69],[48,72,41,70],[48,73,41,71,"routes"],[48,79,41,77],[48,80,41,78,"every"],[48,85,41,83],[48,86,41,84,"route"],[48,91,41,89],[48,95,41,93,"route"],[48,100,41,98],[48,101,41,99,"key"],[48,104,41,102],[48,109,41,107,"routeKey"],[48,117,41,115],[48,118,41,116],[48,119,41,117],[48,121,41,119],[49,8,42,6],[49,14,42,12],[49,18,42,16,"Error"],[49,23,42,21],[49,24,42,22],[49,62,42,60,"routeKey"],[49,70,42,68],[49,117,42,115],[49,118,42,116],[50,6,43,4],[51,6,44,4,"setPreventedRoutesMap"],[51,27,44,25],[51,28,44,26,"prevPrevented"],[51,41,44,39],[51,45,44,43],[52,8,45,6],[53,8,46,6],[53,12,46,10,"routeKey"],[53,20,46,18],[53,25,46,23,"prevPrevented"],[53,38,46,36],[53,39,46,37,"get"],[53,42,46,40],[53,43,46,41,"id"],[53,45,46,43],[53,46,46,44],[53,48,46,46,"routeKey"],[53,56,46,54],[53,60,46,58,"preventRemove"],[53,73,46,71],[53,78,46,76,"prevPrevented"],[53,91,46,89],[53,92,46,90,"get"],[53,95,46,93],[53,96,46,94,"id"],[53,98,46,96],[53,99,46,97],[53,101,46,99,"preventRemove"],[53,114,46,112],[53,116,46,114],[54,10,47,8],[54,17,47,15,"prevPrevented"],[54,30,47,28],[55,8,48,6],[56,8,49,6],[56,12,49,12,"nextPrevented"],[56,25,49,25],[56,28,49,28],[56,32,49,32,"Map"],[56,35,49,35],[56,36,49,36,"prevPrevented"],[56,49,49,49],[56,50,49,50],[57,8,50,6],[57,12,50,10,"preventRemove"],[57,25,50,23],[57,27,50,25],[58,10,51,8,"nextPrevented"],[58,23,51,21],[58,24,51,22,"set"],[58,27,51,25],[58,28,51,26,"id"],[58,30,51,28],[58,32,51,30],[59,12,52,10,"routeKey"],[59,20,52,18],[60,12,53,10,"preventRemove"],[61,10,54,8],[61,11,54,9],[61,12,54,10],[62,8,55,6],[62,9,55,7],[62,15,55,13],[63,10,56,8,"nextPrevented"],[63,23,56,21],[63,24,56,22,"delete"],[63,30,56,28],[63,31,56,29,"id"],[63,33,56,31],[63,34,56,32],[64,8,57,6],[65,8,58,6],[65,15,58,13,"nextPrevented"],[65,28,58,26],[66,6,59,4],[66,7,59,5],[66,8,59,6],[67,4,60,2],[67,5,60,3],[67,6,60,4],[68,4,61,2],[68,8,61,8,"isPrevented"],[68,19,61,19],[68,22,61,22],[68,23,61,23],[68,26,61,26,"preventedRoutesMap"],[68,44,61,44],[68,45,61,45,"values"],[68,51,61,51],[68,52,61,52],[68,53,61,53],[68,54,61,54],[68,55,61,55,"some"],[68,59,61,59],[68,60,61,60,"_ref3"],[68,65,61,60],[69,6,61,60],[69,10,62,4,"preventRemove"],[69,23,62,17],[69,26,62,17,"_ref3"],[69,31,62,17],[69,32,62,4,"preventRemove"],[69,45,62,17],[70,6,62,17],[70,13,63,8,"preventRemove"],[70,26,63,21],[71,4,63,21],[71,6,63,22],[72,4,64,2,"React"],[72,9,64,7],[72,10,64,8,"useEffect"],[72,19,64,17],[72,20,64,18],[72,26,64,24],[73,6,65,4],[73,10,65,8,"route"],[73,15,65,13],[73,17,65,15,"key"],[73,20,65,18],[73,25,65,23,"undefined"],[73,34,65,32],[73,38,65,36,"setParentPrevented"],[73,56,65,54],[73,61,65,59,"undefined"],[73,70,65,68],[73,72,65,70],[74,8,66,6],[75,8,67,6],[76,8,68,6,"setParentPrevented"],[76,26,68,24],[76,27,68,25,"parentId"],[76,35,68,33],[76,37,68,35,"route"],[76,42,68,40],[76,43,68,41,"key"],[76,46,68,44],[76,48,68,46,"isPrevented"],[76,59,68,57],[76,60,68,58],[77,8,69,6],[77,15,69,13],[77,21,69,19],[78,10,70,8,"setParentPrevented"],[78,28,70,26],[78,29,70,27,"parentId"],[78,37,70,35],[78,39,70,37,"route"],[78,44,70,42],[78,45,70,43,"key"],[78,48,70,46],[78,50,70,48],[78,55,70,53],[78,56,70,54],[79,8,71,6],[79,9,71,7],[80,6,72,4],[81,6,73,4],[82,4,74,2],[82,5,74,3],[82,7,74,5],[82,8,74,6,"parentId"],[82,16,74,14],[82,18,74,16,"isPrevented"],[82,29,74,27],[82,31,74,29,"route"],[82,36,74,34],[82,38,74,36,"key"],[82,41,74,39],[82,43,74,41,"setParentPrevented"],[82,61,74,59],[82,62,74,60],[82,63,74,61],[83,4,75,2],[83,8,75,8,"value"],[83,13,75,13],[83,16,75,16,"React"],[83,21,75,21],[83,22,75,22,"useMemo"],[83,29,75,29],[83,30,75,30],[83,37,75,37],[84,6,76,4,"setPreventRemove"],[84,22,76,20],[85,6,77,4,"preventedRoutes"],[85,21,77,19],[85,23,77,21,"transformPreventedRoutes"],[85,47,77,45],[85,48,77,46,"preventedRoutesMap"],[85,66,77,64],[86,4,78,2],[86,5,78,3],[86,6,78,4],[86,8,78,6],[86,9,78,7,"setPreventRemove"],[86,25,78,23],[86,27,78,25,"preventedRoutesMap"],[86,45,78,43],[86,46,78,44],[86,47,78,45],[87,4,79,2],[87,11,79,9],[87,24,79,22],[87,28,79,22,"_jsx"],[87,43,79,26],[87,45,79,27,"PreventRemoveContext"],[87,71,79,27],[87,72,79,27,"PreventRemoveContext"],[87,121,79,47],[87,122,79,48,"Provider"],[87,130,79,56],[87,132,79,58],[88,6,80,4,"value"],[88,11,80,9],[88,13,80,11,"value"],[88,18,80,16],[89,6,81,4,"children"],[89,14,81,12],[89,16,81,14,"children"],[90,4,82,2],[90,5,82,3],[90,6,82,4],[91,2,83,0],[92,0,83,1],[92,3]],"functionMap":{"names":["<global>","transformPreventedRoutes","preventedRoutesToTransform.reduce$argument_0","PreventRemoveProvider","React.useState$argument_0","useLatestCallback$argument_0","navigation.getState.routes.every$argument_0","setPreventedRoutesMap$argument_0","some$argument_0","React.useEffect$argument_0","<anonymous>","React.useMemo$argument_0"],"mappings":"AAA;iCCY;4DCE;GDQ;CDE;OGK;oCCG,cD;qECC,eD;6CEM;oFCC,+BD;0BEG;KFe;GFC;4DKC;qBLE;kBMC;aCK;ODE;GNG;8BQC;IRG;CHK"}},"type":"js/module"}]}