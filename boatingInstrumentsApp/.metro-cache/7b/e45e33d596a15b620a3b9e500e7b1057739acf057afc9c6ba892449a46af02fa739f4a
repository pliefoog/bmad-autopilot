{"dependencies":[{"name":"./to-json-schema.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":61},"end":{"line":2,"column":89,"index":150}},{"start":{"line":2,"column":0,"index":61},"end":{"line":2,"column":89,"index":150}},{"start":{"line":2,"column":0,"index":61},"end":{"line":2,"column":89,"index":150}},{"start":{"line":2,"column":0,"index":61},"end":{"line":2,"column":89,"index":150}}],"key":"+jG0B09vt7vkDa65ivf1XmgJgIE=","exportNames":["*"],"imports":4}},{"name":"./json-schema-processors.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":60,"index":60}}],"key":"3WOd2OgWUBhfvZ0UHfVfCMoW2FQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.JSONSchemaGenerator = void 0;\n  /**\n   * Legacy class-based interface for JSON Schema generation.\n   * This class wraps the new functional implementation to provide backward compatibility.\n   *\n   * @deprecated Use the `toJSONSchema` function instead for new code.\n   *\n   * @example\n   * ```typescript\n   * // Legacy usage (still supported)\n   * const gen = new JSONSchemaGenerator({ target: \"draft-07\" });\n   * gen.process(schema);\n   * const result = gen.emit(schema);\n   *\n   * // Preferred modern usage\n   * const result = toJSONSchema(schema, { target: \"draft-07\" });\n   * ```\n   */\n  class JSONSchemaGenerator {\n    /** @deprecated Access via ctx instead */\n    get metadataRegistry() {\n      return this.ctx.metadataRegistry;\n    }\n    /** @deprecated Access via ctx instead */\n    get target() {\n      return this.ctx.target;\n    }\n    /** @deprecated Access via ctx instead */\n    get unrepresentable() {\n      return this.ctx.unrepresentable;\n    }\n    /** @deprecated Access via ctx instead */\n    get override() {\n      return this.ctx.override;\n    }\n    /** @deprecated Access via ctx instead */\n    get io() {\n      return this.ctx.io;\n    }\n    /** @deprecated Access via ctx instead */\n    get counter() {\n      return this.ctx.counter;\n    }\n    set counter(value) {\n      this.ctx.counter = value;\n    }\n    /** @deprecated Access via ctx instead */\n    get seen() {\n      return this.ctx.seen;\n    }\n    constructor(params) {\n      // Normalize target for internal context\n      let normalizedTarget = params?.target ?? \"draft-2020-12\";\n      if (normalizedTarget === \"draft-4\") normalizedTarget = \"draft-04\";\n      if (normalizedTarget === \"draft-7\") normalizedTarget = \"draft-07\";\n      this.ctx = (0, require(_dependencyMap[0], \"./to-json-schema.js\").initializeContext)({\n        processors: require(_dependencyMap[1], \"./json-schema-processors.js\").allProcessors,\n        target: normalizedTarget,\n        ...(params?.metadata && {\n          metadata: params.metadata\n        }),\n        ...(params?.unrepresentable && {\n          unrepresentable: params.unrepresentable\n        }),\n        ...(params?.override && {\n          override: params.override\n        }),\n        ...(params?.io && {\n          io: params.io\n        })\n      });\n    }\n    /**\n     * Process a schema to prepare it for JSON Schema generation.\n     * This must be called before emit().\n     */\n    process(schema, _params = {\n      path: [],\n      schemaPath: []\n    }) {\n      return (0, require(_dependencyMap[0], \"./to-json-schema.js\").process)(schema, this.ctx, _params);\n    }\n    /**\n     * Emit the final JSON Schema after processing.\n     * Must call process() first.\n     */\n    emit(schema, _params) {\n      // Apply emit params to the context\n      if (_params) {\n        if (_params.cycles) this.ctx.cycles = _params.cycles;\n        if (_params.reused) this.ctx.reused = _params.reused;\n        if (_params.external) this.ctx.external = _params.external;\n      }\n      (0, require(_dependencyMap[0], \"./to-json-schema.js\").extractDefs)(this.ctx, schema);\n      const result = (0, require(_dependencyMap[0], \"./to-json-schema.js\").finalize)(this.ctx, schema);\n      // Strip ~standard property to match old implementation's return type\n      const {\n        \"~standard\": _,\n        ...plainResult\n      } = result;\n      return plainResult;\n    }\n  }\n  exports.JSONSchemaGenerator = JSONSchemaGenerator;\n});","lineCount":109,"map":[[6,2,3,0],[7,0,4,0],[8,0,5,0],[9,0,6,0],[10,0,7,0],[11,0,8,0],[12,0,9,0],[13,0,10,0],[14,0,11,0],[15,0,12,0],[16,0,13,0],[17,0,14,0],[18,0,15,0],[19,0,16,0],[20,0,17,0],[21,0,18,0],[22,0,19,0],[23,2,20,7],[23,8,20,13,"JSONSchemaGenerator"],[23,27,20,32],[23,28,20,33],[24,4,21,4],[25,4,22,4],[25,8,22,8,"metadataRegistry"],[25,24,22,24,"metadataRegistry"],[25,25,22,24],[25,27,22,27],[26,6,23,8],[26,13,23,15],[26,17,23,19],[26,18,23,20,"ctx"],[26,21,23,23],[26,22,23,24,"metadataRegistry"],[26,38,23,40],[27,4,24,4],[28,4,25,4],[29,4,26,4],[29,8,26,8,"target"],[29,14,26,14,"target"],[29,15,26,14],[29,17,26,17],[30,6,27,8],[30,13,27,15],[30,17,27,19],[30,18,27,20,"ctx"],[30,21,27,23],[30,22,27,24,"target"],[30,28,27,30],[31,4,28,4],[32,4,29,4],[33,4,30,4],[33,8,30,8,"unrepresentable"],[33,23,30,23,"unrepresentable"],[33,24,30,23],[33,26,30,26],[34,6,31,8],[34,13,31,15],[34,17,31,19],[34,18,31,20,"ctx"],[34,21,31,23],[34,22,31,24,"unrepresentable"],[34,37,31,39],[35,4,32,4],[36,4,33,4],[37,4,34,4],[37,8,34,8,"override"],[37,16,34,16,"override"],[37,17,34,16],[37,19,34,19],[38,6,35,8],[38,13,35,15],[38,17,35,19],[38,18,35,20,"ctx"],[38,21,35,23],[38,22,35,24,"override"],[38,30,35,32],[39,4,36,4],[40,4,37,4],[41,4,38,4],[41,8,38,8,"io"],[41,10,38,10,"io"],[41,11,38,10],[41,13,38,13],[42,6,39,8],[42,13,39,15],[42,17,39,19],[42,18,39,20,"ctx"],[42,21,39,23],[42,22,39,24,"io"],[42,24,39,26],[43,4,40,4],[44,4,41,4],[45,4,42,4],[45,8,42,8,"counter"],[45,15,42,15,"counter"],[45,16,42,15],[45,18,42,18],[46,6,43,8],[46,13,43,15],[46,17,43,19],[46,18,43,20,"ctx"],[46,21,43,23],[46,22,43,24,"counter"],[46,29,43,31],[47,4,44,4],[48,4,45,4],[48,8,45,8,"counter"],[48,15,45,15,"counter"],[48,16,45,16,"value"],[48,21,45,21],[48,23,45,23],[49,6,46,8],[49,10,46,12],[49,11,46,13,"ctx"],[49,14,46,16],[49,15,46,17,"counter"],[49,22,46,24],[49,25,46,27,"value"],[49,30,46,32],[50,4,47,4],[51,4,48,4],[52,4,49,4],[52,8,49,8,"seen"],[52,12,49,12,"seen"],[52,13,49,12],[52,15,49,15],[53,6,50,8],[53,13,50,15],[53,17,50,19],[53,18,50,20,"ctx"],[53,21,50,23],[53,22,50,24,"seen"],[53,26,50,28],[54,4,51,4],[55,4,52,4,"constructor"],[55,15,52,15,"constructor"],[55,16,52,16,"params"],[55,22,52,22],[55,24,52,24],[56,6,53,8],[57,6,54,8],[57,10,54,12,"normalizedTarget"],[57,26,54,28],[57,29,54,31,"params"],[57,35,54,37],[57,37,54,39,"target"],[57,43,54,45],[57,47,54,49],[57,62,54,64],[58,6,55,8],[58,10,55,12,"normalizedTarget"],[58,26,55,28],[58,31,55,33],[58,40,55,42],[58,42,56,12,"normalizedTarget"],[58,58,56,28],[58,61,56,31],[58,71,56,41],[59,6,57,8],[59,10,57,12,"normalizedTarget"],[59,26,57,28],[59,31,57,33],[59,40,57,42],[59,42,58,12,"normalizedTarget"],[59,58,58,28],[59,61,58,31],[59,71,58,41],[60,6,59,8],[60,10,59,12],[60,11,59,13,"ctx"],[60,14,59,16],[60,17,59,19],[60,21,59,19,"initializeContext"],[60,47,59,19],[60,48,59,19,"initializeContext"],[60,88,59,36],[60,90,59,37],[61,8,60,12,"processors"],[61,18,60,22],[61,20,60,24,"allProcessors"],[61,46,60,24],[61,47,60,24,"allProcessors"],[61,91,60,37],[62,8,61,12,"target"],[62,14,61,18],[62,16,61,20,"normalizedTarget"],[62,32,61,36],[63,8,62,12],[63,12,62,16,"params"],[63,18,62,22],[63,20,62,24,"metadata"],[63,28,62,32],[63,32,62,36],[64,10,62,38,"metadata"],[64,18,62,46],[64,20,62,48,"params"],[64,26,62,54],[64,27,62,55,"metadata"],[65,8,62,64],[65,9,62,65],[65,10,62,66],[66,8,63,12],[66,12,63,16,"params"],[66,18,63,22],[66,20,63,24,"unrepresentable"],[66,35,63,39],[66,39,63,43],[67,10,63,45,"unrepresentable"],[67,25,63,60],[67,27,63,62,"params"],[67,33,63,68],[67,34,63,69,"unrepresentable"],[68,8,63,85],[68,9,63,86],[68,10,63,87],[69,8,64,12],[69,12,64,16,"params"],[69,18,64,22],[69,20,64,24,"override"],[69,28,64,32],[69,32,64,36],[70,10,64,38,"override"],[70,18,64,46],[70,20,64,48,"params"],[70,26,64,54],[70,27,64,55,"override"],[71,8,64,64],[71,9,64,65],[71,10,64,66],[72,8,65,12],[72,12,65,16,"params"],[72,18,65,22],[72,20,65,24,"io"],[72,22,65,26],[72,26,65,30],[73,10,65,32,"io"],[73,12,65,34],[73,14,65,36,"params"],[73,20,65,42],[73,21,65,43,"io"],[74,8,65,46],[74,9,65,47],[75,6,66,8],[75,7,66,9],[75,8,66,10],[76,4,67,4],[77,4,68,4],[78,0,69,0],[79,0,70,0],[80,0,71,0],[81,4,72,4,"process"],[81,11,72,11,"process"],[81,12,72,12,"schema"],[81,18,72,18],[81,20,72,20,"_params"],[81,27,72,27],[81,30,72,30],[82,6,72,32,"path"],[82,10,72,36],[82,12,72,38],[82,14,72,40],[83,6,72,42,"schemaPath"],[83,16,72,52],[83,18,72,54],[84,4,72,57],[84,5,72,58],[84,7,72,60],[85,6,73,8],[85,13,73,15],[85,17,73,15,"process"],[85,43,73,15],[85,44,73,15,"process"],[85,74,73,22],[85,76,73,23,"schema"],[85,82,73,29],[85,84,73,31],[85,88,73,35],[85,89,73,36,"ctx"],[85,92,73,39],[85,94,73,41,"_params"],[85,101,73,48],[85,102,73,49],[86,4,74,4],[87,4,75,4],[88,0,76,0],[89,0,77,0],[90,0,78,0],[91,4,79,4,"emit"],[91,8,79,8,"emit"],[91,9,79,9,"schema"],[91,15,79,15],[91,17,79,17,"_params"],[91,24,79,24],[91,26,79,26],[92,6,80,8],[93,6,81,8],[93,10,81,12,"_params"],[93,17,81,19],[93,19,81,21],[94,8,82,12],[94,12,82,16,"_params"],[94,19,82,23],[94,20,82,24,"cycles"],[94,26,82,30],[94,28,83,16],[94,32,83,20],[94,33,83,21,"ctx"],[94,36,83,24],[94,37,83,25,"cycles"],[94,43,83,31],[94,46,83,34,"_params"],[94,53,83,41],[94,54,83,42,"cycles"],[94,60,83,48],[95,8,84,12],[95,12,84,16,"_params"],[95,19,84,23],[95,20,84,24,"reused"],[95,26,84,30],[95,28,85,16],[95,32,85,20],[95,33,85,21,"ctx"],[95,36,85,24],[95,37,85,25,"reused"],[95,43,85,31],[95,46,85,34,"_params"],[95,53,85,41],[95,54,85,42,"reused"],[95,60,85,48],[96,8,86,12],[96,12,86,16,"_params"],[96,19,86,23],[96,20,86,24,"external"],[96,28,86,32],[96,30,87,16],[96,34,87,20],[96,35,87,21,"ctx"],[96,38,87,24],[96,39,87,25,"external"],[96,47,87,33],[96,50,87,36,"_params"],[96,57,87,43],[96,58,87,44,"external"],[96,66,87,52],[97,6,88,8],[98,6,89,8],[98,10,89,8,"extractDefs"],[98,36,89,8],[98,37,89,8,"extractDefs"],[98,71,89,19],[98,73,89,20],[98,77,89,24],[98,78,89,25,"ctx"],[98,81,89,28],[98,83,89,30,"schema"],[98,89,89,36],[98,90,89,37],[99,6,90,8],[99,12,90,14,"result"],[99,18,90,20],[99,21,90,23],[99,25,90,23,"finalize"],[99,51,90,23],[99,52,90,23,"finalize"],[99,83,90,31],[99,85,90,32],[99,89,90,36],[99,90,90,37,"ctx"],[99,93,90,40],[99,95,90,42,"schema"],[99,101,90,48],[99,102,90,49],[100,6,91,8],[101,6,92,8],[101,12,92,14],[102,8,92,16],[102,19,92,27],[102,21,92,29,"_"],[102,22,92,30],[103,8,92,32],[103,11,92,35,"plainResult"],[104,6,92,47],[104,7,92,48],[104,10,92,51,"result"],[104,16,92,57],[105,6,93,8],[105,13,93,15,"plainResult"],[105,24,93,26],[106,4,94,4],[107,2,95,0],[108,2,95,1,"exports"],[108,9,95,1],[108,10,95,1,"JSONSchemaGenerator"],[108,29,95,1],[108,32,95,1,"JSONSchemaGenerator"],[108,51,95,1],[109,0,95,1],[109,3]],"functionMap":{"names":["<global>","JSONSchemaGenerator","JSONSchemaGenerator#get__metadataRegistry","JSONSchemaGenerator#get__target","JSONSchemaGenerator#get__unrepresentable","JSONSchemaGenerator#get__override","JSONSchemaGenerator#get__io","JSONSchemaGenerator#get__counter","JSONSchemaGenerator#set__counter","JSONSchemaGenerator#get__seen","JSONSchemaGenerator#constructor","JSONSchemaGenerator#process","JSONSchemaGenerator#emit"],"mappings":"AAA;OCmB;ICE;KDE;IEE;KFE;IGE;KHE;IIE;KJE;IKE;KLE;IME;KNE;IOC;KPE;IQE;KRE;ISC;KTe;IUK;KVE;IWK;KXe;CDC"}},"type":"js/module"}]}