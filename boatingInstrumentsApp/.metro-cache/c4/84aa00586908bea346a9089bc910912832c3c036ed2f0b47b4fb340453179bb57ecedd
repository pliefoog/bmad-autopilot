{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":16,"index":136},"end":{"line":4,"column":32,"index":152}}],"key":"XN65eZP/QkNMzaBAXbG/zPyidpY=","exportNames":["*"],"imports":1}},{"name":"../../hooks","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":16,"index":335},"end":{"line":8,"column":38,"index":357}}],"key":"4axDW+gHYZE8GuC1vLdCjsfAmVo=","exportNames":["*"],"imports":1}},{"name":"./LinkPreviewContext","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":29,"index":183},"end":{"line":5,"column":60,"index":214}}],"key":"aLYFQm4EDGJfSD6i9vRNTM/WlNM=","exportNames":["*"],"imports":1}},{"name":"../../global-state/router-store","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":23,"index":275},"end":{"line":7,"column":65,"index":317}}],"key":"34G8cf9eMVuL1UIt4w1T43KGPlk=","exportNames":["*"],"imports":1}},{"name":"./utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":16,"index":232},"end":{"line":6,"column":34,"index":250}},{"start":{"line":6,"column":16,"index":232},"end":{"line":6,"column":34,"index":250}}],"key":"Arg6QRuIuy5D/jfcnxX1qJiHjX8=","exportNames":["*"],"imports":2}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _slicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useNextScreenId = useNextScreenId;\n  var react_1 = require(_dependencyMap[1], \"react\");\n  function useNextScreenId() {\n    var router = (0, require(_dependencyMap[2], \"../../hooks\").useRouter)();\n    var _ref = (0, require(_dependencyMap[3], \"./LinkPreviewContext\").useLinkPreviewContext)(),\n      setOpenPreviewKey = _ref.setOpenPreviewKey;\n    var _ref2 = (0, react_1.useState)(),\n      _ref3 = _slicedToArray(_ref2, 2),\n      internalNextScreenId = _ref3[0],\n      internalSetNextScreenId = _ref3[1];\n    var currentHref = (0, react_1.useRef)(undefined);\n    var _ref4 = (0, react_1.useState)([]),\n      _ref5 = _slicedToArray(_ref4, 2),\n      tabPath = _ref5[0],\n      setTabPath = _ref5[1];\n    (0, react_1.useEffect)(() => {\n      // When screen is prefetched, then the root state is updated with the preloaded route.\n      return require(_dependencyMap[4], \"../../global-state/router-store\").store.navigationRef.addListener('state', _ref6 => {\n        var state = _ref6.data.state;\n        // If we have the current href, it means that we prefetched the route\n        if (currentHref.current && state) {\n          var preloadedRoute = (0, require(_dependencyMap[5], \"./utils\").getPreloadedRouteFromRootStateByHref)(currentHref.current, state);\n          var routeKey = preloadedRoute?.key;\n          var tabPathFromRootState = (0, require(_dependencyMap[5], \"./utils\").getTabPathFromRootStateByHref)(currentHref.current, state);\n          // Without this timeout react-native does not have enough time to mount the new screen\n          // and thus it will not be found on the native side\n          if (routeKey || tabPathFromRootState.length) {\n            setTimeout(() => {\n              internalSetNextScreenId(routeKey);\n              setOpenPreviewKey(routeKey);\n              setTabPath(tabPathFromRootState);\n            });\n          }\n          // We got the preloaded state, so we can reset the currentHref\n          // to prevent unnecessary processing\n          currentHref.current = undefined;\n        }\n      });\n    }, []);\n    var prefetch = (0, react_1.useCallback)(href => {\n      // Resetting the nextScreenId to undefined\n      internalSetNextScreenId(undefined);\n      router.prefetch(href);\n      currentHref.current = href;\n    }, [router.prefetch]);\n    return [{\n      nextScreenId: internalNextScreenId,\n      tabPath\n    }, prefetch];\n  }\n});","lineCount":58,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_slicedToArray"],[4,20,1,13],[4,23,1,13,"require"],[4,30,1,13],[4,31,1,13,"_dependencyMap"],[4,45,1,13],[4,90,1,13,"default"],[4,97,1,13],[5,2,2,0,"Object"],[5,8,2,6],[5,9,2,7,"defineProperty"],[5,23,2,21],[5,24,2,22,"exports"],[5,31,2,29],[5,33,2,31],[5,45,2,43],[5,47,2,45],[6,4,2,47,"value"],[6,9,2,52],[6,11,2,54],[7,2,2,59],[7,3,2,60],[7,4,2,61],[8,2,3,0,"exports"],[8,9,3,7],[8,10,3,8,"useNextScreenId"],[8,25,3,23],[8,28,3,26,"useNextScreenId"],[8,43,3,41],[9,2,4,0],[9,6,4,6,"react_1"],[9,13,4,13],[9,16,4,16,"require"],[9,23,4,23],[9,24,4,23,"_dependencyMap"],[9,38,4,23],[9,50,4,31],[9,51,4,32],[10,2,9,0],[10,11,9,9,"useNextScreenId"],[10,26,9,24,"useNextScreenId"],[10,27,9,24],[10,29,9,27],[11,4,10,4],[11,8,10,10,"router"],[11,14,10,16],[11,17,10,19],[11,18,10,20],[11,19,10,21],[11,21,10,23,"require"],[11,28,10,23],[11,29,10,23,"_dependencyMap"],[11,43,10,23],[11,63,10,31,"useRouter"],[11,72,10,40],[11,74,10,42],[11,75,10,43],[12,4,11,4],[12,8,11,4,"_ref"],[12,12,11,4],[12,15,11,34],[12,16,11,35],[12,17,11,36],[12,19,11,38,"require"],[12,26,11,38],[12,27,11,38,"_dependencyMap"],[12,41,11,38],[12,70,11,59,"useLinkPreviewContext"],[12,91,11,80],[12,93,11,82],[12,94,11,83],[13,6,11,12,"setOpenPreviewKey"],[13,23,11,29],[13,26,11,29,"_ref"],[13,30,11,29],[13,31,11,12,"setOpenPreviewKey"],[13,48,11,29],[14,4,12,4],[14,8,12,4,"_ref2"],[14,13,12,4],[14,16,12,60],[14,17,12,61],[14,18,12,62],[14,20,12,64,"react_1"],[14,27,12,71],[14,28,12,72,"useState"],[14,36,12,80],[14,38,12,82],[14,39,12,83],[15,6,12,83,"_ref3"],[15,11,12,83],[15,14,12,83,"_slicedToArray"],[15,28,12,83],[15,29,12,83,"_ref2"],[15,34,12,83],[16,6,12,11,"internalNextScreenId"],[16,26,12,31],[16,29,12,31,"_ref3"],[16,34,12,31],[17,6,12,33,"internalSetNextScreenId"],[17,29,12,56],[17,32,12,56,"_ref3"],[17,37,12,56],[18,4,13,4],[18,8,13,10,"currentHref"],[18,19,13,21],[18,22,13,24],[18,23,13,25],[18,24,13,26],[18,26,13,28,"react_1"],[18,33,13,35],[18,34,13,36,"useRef"],[18,40,13,42],[18,42,13,44,"undefined"],[18,51,13,53],[18,52,13,54],[19,4,14,4],[19,8,14,4,"_ref4"],[19,13,14,4],[19,16,14,34],[19,17,14,35],[19,18,14,36],[19,20,14,38,"react_1"],[19,27,14,45],[19,28,14,46,"useState"],[19,36,14,54],[19,38,14,56],[19,40,14,58],[19,41,14,59],[20,6,14,59,"_ref5"],[20,11,14,59],[20,14,14,59,"_slicedToArray"],[20,28,14,59],[20,29,14,59,"_ref4"],[20,34,14,59],[21,6,14,11,"tabPath"],[21,13,14,18],[21,16,14,18,"_ref5"],[21,21,14,18],[22,6,14,20,"setTabPath"],[22,16,14,30],[22,19,14,30,"_ref5"],[22,24,14,30],[23,4,15,4],[23,5,15,5],[23,6,15,6],[23,8,15,8,"react_1"],[23,15,15,15],[23,16,15,16,"useEffect"],[23,25,15,25],[23,27,15,27],[23,33,15,33],[24,6,16,8],[25,6,17,8],[25,13,17,15,"require"],[25,20,17,15],[25,21,17,15,"_dependencyMap"],[25,35,17,15],[25,75,17,30,"store"],[25,80,17,35],[25,81,17,36,"navigationRef"],[25,94,17,49],[25,95,17,50,"addListener"],[25,106,17,61],[25,107,17,62],[25,114,17,69],[25,116,17,71,"_ref6"],[25,121,17,71],[25,125,17,96],[26,8,17,96],[26,12,17,82,"state"],[26,17,17,87],[26,20,17,87,"_ref6"],[26,25,17,87],[26,26,17,74,"data"],[26,30,17,78],[26,31,17,82,"state"],[26,36,17,87],[27,8,18,12],[28,8,19,12],[28,12,19,16,"currentHref"],[28,23,19,27],[28,24,19,28,"current"],[28,31,19,35],[28,35,19,39,"state"],[28,40,19,44],[28,42,19,46],[29,10,20,16],[29,14,20,22,"preloadedRoute"],[29,28,20,36],[29,31,20,39],[29,32,20,40],[29,33,20,41],[29,35,20,43,"require"],[29,42,20,43],[29,43,20,43,"_dependencyMap"],[29,57,20,43],[29,73,20,51,"getPreloadedRouteFromRootStateByHref"],[29,109,20,87],[29,111,20,89,"currentHref"],[29,122,20,100],[29,123,20,101,"current"],[29,130,20,108],[29,132,20,110,"state"],[29,137,20,115],[29,138,20,116],[30,10,21,16],[30,14,21,22,"routeKey"],[30,22,21,30],[30,25,21,33,"preloadedRoute"],[30,39,21,47],[30,41,21,49,"key"],[30,44,21,52],[31,10,22,16],[31,14,22,22,"tabPathFromRootState"],[31,34,22,42],[31,37,22,45],[31,38,22,46],[31,39,22,47],[31,41,22,49,"require"],[31,48,22,49],[31,49,22,49,"_dependencyMap"],[31,63,22,49],[31,79,22,57,"getTabPathFromRootStateByHref"],[31,108,22,86],[31,110,22,88,"currentHref"],[31,121,22,99],[31,122,22,100,"current"],[31,129,22,107],[31,131,22,109,"state"],[31,136,22,114],[31,137,22,115],[32,10,23,16],[33,10,24,16],[34,10,25,16],[34,14,25,20,"routeKey"],[34,22,25,28],[34,26,25,32,"tabPathFromRootState"],[34,46,25,52],[34,47,25,53,"length"],[34,53,25,59],[34,55,25,61],[35,12,26,20,"setTimeout"],[35,22,26,30],[35,23,26,31],[35,29,26,37],[36,14,27,24,"internalSetNextScreenId"],[36,37,27,47],[36,38,27,48,"routeKey"],[36,46,27,56],[36,47,27,57],[37,14,28,24,"setOpenPreviewKey"],[37,31,28,41],[37,32,28,42,"routeKey"],[37,40,28,50],[37,41,28,51],[38,14,29,24,"setTabPath"],[38,24,29,34],[38,25,29,35,"tabPathFromRootState"],[38,45,29,55],[38,46,29,56],[39,12,30,20],[39,13,30,21],[39,14,30,22],[40,10,31,16],[41,10,32,16],[42,10,33,16],[43,10,34,16,"currentHref"],[43,21,34,27],[43,22,34,28,"current"],[43,29,34,35],[43,32,34,38,"undefined"],[43,41,34,47],[44,8,35,12],[45,6,36,8],[45,7,36,9],[45,8,36,10],[46,4,37,4],[46,5,37,5],[46,7,37,7],[46,9,37,9],[46,10,37,10],[47,4,38,4],[47,8,38,10,"prefetch"],[47,16,38,18],[47,19,38,21],[47,20,38,22],[47,21,38,23],[47,23,38,25,"react_1"],[47,30,38,32],[47,31,38,33,"useCallback"],[47,42,38,44],[47,44,38,47,"href"],[47,48,38,51],[47,52,38,56],[48,6,39,8],[49,6,40,8,"internalSetNextScreenId"],[49,29,40,31],[49,30,40,32,"undefined"],[49,39,40,41],[49,40,40,42],[50,6,41,8,"router"],[50,12,41,14],[50,13,41,15,"prefetch"],[50,21,41,23],[50,22,41,24,"href"],[50,26,41,28],[50,27,41,29],[51,6,42,8,"currentHref"],[51,17,42,19],[51,18,42,20,"current"],[51,25,42,27],[51,28,42,30,"href"],[51,32,42,34],[52,4,43,4],[52,5,43,5],[52,7,43,7],[52,8,43,8,"router"],[52,14,43,14],[52,15,43,15,"prefetch"],[52,23,43,23],[52,24,43,24],[52,25,43,25],[53,4,44,4],[53,11,44,11],[53,12,44,12],[54,6,44,14,"nextScreenId"],[54,18,44,26],[54,20,44,28,"internalNextScreenId"],[54,40,44,48],[55,6,44,50,"tabPath"],[56,4,44,58],[56,5,44,59],[56,7,44,61,"prefetch"],[56,15,44,69],[56,16,44,70],[57,2,45,0],[58,0,45,1],[58,3]],"functionMap":{"names":["<global>","useNextScreenId","<anonymous>","router_store_1.store.navigationRef.addListener$argument_1","setTimeout$argument_0"],"mappings":"AAA;ACQ;2BCM;uECE;+BCS;qBDI;SDM;KDC;8CCC;KDK;CDE"}},"type":"js/module"}]}