{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"./getDevServer","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":25},"end":{"line":2,"column":42,"index":67}}],"key":"WKfBgnKYQ+362ADqmV6Rh2L8YC4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\").default;\n  var _getDevServer = _interopRequireDefault(require(_dependencyMap[1], \"./getDevServer\"));\n  /* eslint-env browser */\n\n  if (__DEV__) {\n    var socket = (() => {\n      var devServer = (0, _getDevServer.default)();\n      if (!devServer.bundleLoadedFromServer) {\n        throw new Error('Cannot create devtools websocket connections in embedded environments.');\n      }\n      var devServerUrl = new URL(devServer.url);\n      var serverScheme = devServerUrl.protocol === 'https:' ? 'wss' : 'ws';\n      return new WebSocket(`${serverScheme}://${devServerUrl.host}/message`);\n    })();\n    socket.onmessage = message => {\n      var data = JSON.parse(String(message.data));\n      switch (data.method) {\n        case 'sendDevCommand':\n          switch (data.params.name) {\n            case 'rsc-reload':\n              if (data.params.platform && data.params.platform !== \"ios\") {\n                return;\n              }\n              if (!globalThis.__EXPO_RSC_RELOAD_LISTENERS__) {\n                // server function-only mode\n              } else {\n                globalThis.__EXPO_RSC_RELOAD_LISTENERS__?.forEach(l => l());\n              }\n              break;\n          }\n          break;\n        // NOTE: All other cases are handled in the native runtime.\n      }\n    };\n  }\n});","lineCount":37,"map":[[3,2,2,0],[3,6,2,0,"_getDevServer"],[3,19,2,0],[3,22,2,0,"_interopRequireDefault"],[3,44,2,0],[3,45,2,0,"require"],[3,52,2,0],[3,53,2,0,"_dependencyMap"],[3,67,2,0],[4,2,1,0],[6,2,8,0],[6,6,8,4,"__DEV__"],[6,13,8,11],[6,15,8,13],[7,4,9,2],[7,8,9,8,"socket"],[7,14,9,25],[7,17,9,28],[7,18,9,29],[7,24,9,35],[8,6,10,4],[8,10,10,10,"devServer"],[8,19,10,19],[8,22,10,22],[8,26,10,22,"getDevServer"],[8,47,10,34],[8,49,10,35],[8,50,10,36],[9,6,11,4],[9,10,11,8],[9,11,11,9,"devServer"],[9,20,11,18],[9,21,11,19,"bundleLoadedFromServer"],[9,43,11,41],[9,45,11,43],[10,8,12,6],[10,14,12,12],[10,18,12,16,"Error"],[10,23,12,21],[10,24,12,22],[10,96,12,94],[10,97,12,95],[11,6,13,4],[12,6,15,4],[12,10,15,10,"devServerUrl"],[12,22,15,22],[12,25,15,25],[12,29,15,29,"URL"],[12,32,15,32],[12,33,15,33,"devServer"],[12,42,15,42],[12,43,15,43,"url"],[12,46,15,46],[12,47,15,47],[13,6,16,4],[13,10,16,10,"serverScheme"],[13,22,16,22],[13,25,16,25,"devServerUrl"],[13,37,16,37],[13,38,16,38,"protocol"],[13,46,16,46],[13,51,16,51],[13,59,16,59],[13,62,16,62],[13,67,16,67],[13,70,16,70],[13,74,16,74],[14,6,17,4],[14,13,17,11],[14,17,17,15,"WebSocket"],[14,26,17,24],[14,27,17,25],[14,30,17,28,"serverScheme"],[14,42,17,40],[14,48,17,46,"devServerUrl"],[14,60,17,58],[14,61,17,59,"host"],[14,65,17,63],[14,75,17,73],[14,76,17,74],[15,4,18,2],[15,5,18,3],[15,7,18,5],[15,8,18,6],[16,4,20,2,"socket"],[16,10,20,8],[16,11,20,9,"onmessage"],[16,20,20,18],[16,23,20,22,"message"],[16,30,20,44],[16,34,20,49],[17,6,21,4],[17,10,21,10,"data"],[17,14,21,14],[17,17,21,17,"JSON"],[17,21,21,21],[17,22,21,22,"parse"],[17,27,21,27],[17,28,21,28,"String"],[17,34,21,34],[17,35,21,35,"message"],[17,42,21,42],[17,43,21,43,"data"],[17,47,21,47],[17,48,21,48],[17,49,21,49],[18,6,22,4],[18,14,22,12,"data"],[18,18,22,16],[18,19,22,17,"method"],[18,25,22,23],[19,8,23,6],[19,13,23,11],[19,29,23,27],[20,10,24,8],[20,18,24,16,"data"],[20,22,24,20],[20,23,24,21,"params"],[20,29,24,27],[20,30,24,28,"name"],[20,34,24,32],[21,12,25,10],[21,17,25,15],[21,29,25,27],[22,14,26,12],[22,18,26,16,"data"],[22,22,26,20],[22,23,26,21,"params"],[22,29,26,27],[22,30,26,28,"platform"],[22,38,26,36],[22,42,26,40,"data"],[22,46,26,44],[22,47,26,45,"params"],[22,53,26,51],[22,54,26,52,"platform"],[22,62,26,60],[22,72,26,84],[22,74,26,86],[23,16,27,14],[24,14,28,12],[25,14,29,12],[25,18,29,16],[25,19,29,17,"globalThis"],[25,29,29,27],[25,30,29,28,"__EXPO_RSC_RELOAD_LISTENERS__"],[25,59,29,57],[25,61,29,59],[26,16,30,14],[27,14,30,14],[27,15,31,13],[27,21,31,19],[28,16,32,14,"globalThis"],[28,26,32,24],[28,27,32,25,"__EXPO_RSC_RELOAD_LISTENERS__"],[28,56,32,54],[28,58,32,56,"forEach"],[28,65,32,63],[28,66,32,65,"l"],[28,67,32,66],[28,71,32,71,"l"],[28,72,32,72],[28,73,32,73],[28,74,32,74],[28,75,32,75],[29,14,33,12],[30,14,34,12],[31,10,35,8],[32,10,36,8],[33,8,37,6],[34,6,38,4],[35,4,39,2],[35,5,39,3],[36,2,40,0],[37,0,40,1],[37,3]],"functionMap":{"names":["<global>","<anonymous>","socket.onmessage","globalThis.__EXPO_RSC_RELOAD_LISTENERS__.forEach$argument_0"],"mappings":"AAA;6BCQ;GDS;qBEE;gECY,UD;GFO"}},"type":"js/module"}]}