{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":67,"index":82}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use client';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useReleasingSharedObject = useReleasingSharedObject;\n  var _react = require(_dependencyMap[0], \"react\");\n  /**\n   * Returns a shared object, which is automatically cleaned up when the component is unmounted.\n   */\n  function useReleasingSharedObject(factory, dependencies) {\n    const objectRef = (0, _react.useRef)(null);\n    const isFastRefresh = (0, _react.useRef)(false);\n    const previousDependencies = (0, _react.useRef)(dependencies);\n    if (objectRef.current == null) {\n      objectRef.current = factory();\n    }\n    const object = (0, _react.useMemo)(() => {\n      let newObject = objectRef.current;\n      const dependenciesAreEqual = previousDependencies.current?.length === dependencies.length && dependencies.every((value, index) => value === previousDependencies.current[index]);\n\n      // If the dependencies have changed, release the previous object and create a new one, otherwise this has been called\n      // because of an unrelated fast refresh, and we don't want to release the object.\n      if (!newObject || !dependenciesAreEqual) {\n        objectRef.current?.release();\n        newObject = factory();\n        objectRef.current = newObject;\n        previousDependencies.current = dependencies;\n      }\n      return newObject;\n    }, dependencies);\n    (0, _react.useMemo)(() => {\n      isFastRefresh.current = true;\n    }, []);\n    (0, _react.useEffect)(() => {\n      isFastRefresh.current = false;\n      return () => {\n        // This will be called on every fast refresh and on unmount, but we only want to release the object on unmount.\n        if (!isFastRefresh.current && objectRef.current) {\n          objectRef.current.release();\n        }\n      };\n    }, []);\n    return object;\n  }\n});","lineCount":47,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"useReleasingSharedObject"],[7,34,1,13],[7,37,1,13,"useReleasingSharedObject"],[7,61,1,13],[8,2,3,0],[8,6,3,0,"_react"],[8,12,3,0],[8,15,3,0,"require"],[8,22,3,0],[8,23,3,0,"_dependencyMap"],[8,37,3,0],[9,2,7,0],[10,0,8,0],[11,0,9,0],[12,2,10,7],[12,11,10,16,"useReleasingSharedObject"],[12,35,10,40,"useReleasingSharedObject"],[12,36,11,2,"factory"],[12,43,11,30],[12,45,12,2,"dependencies"],[12,57,12,30],[12,59,13,17],[13,4,14,2],[13,10,14,8,"objectRef"],[13,19,14,17],[13,22,14,20],[13,26,14,20,"useRef"],[13,39,14,26],[13,41,14,49],[13,45,14,53],[13,46,14,54],[14,4,15,2],[14,10,15,8,"isFastRefresh"],[14,23,15,21],[14,26,15,24],[14,30,15,24,"useRef"],[14,43,15,30],[14,45,15,31],[14,50,15,36],[14,51,15,37],[15,4,16,2],[15,10,16,8,"previousDependencies"],[15,30,16,28],[15,33,16,31],[15,37,16,31,"useRef"],[15,50,16,37],[15,52,16,54,"dependencies"],[15,64,16,66],[15,65,16,67],[16,4,18,2],[16,8,18,6,"objectRef"],[16,17,18,15],[16,18,18,16,"current"],[16,25,18,23],[16,29,18,27],[16,33,18,31],[16,35,18,33],[17,6,19,4,"objectRef"],[17,15,19,13],[17,16,19,14,"current"],[17,23,19,21],[17,26,19,24,"factory"],[17,33,19,31],[17,34,19,32],[17,35,19,33],[18,4,20,2],[19,4,22,2],[19,10,22,8,"object"],[19,16,22,14],[19,19,22,17],[19,23,22,17,"useMemo"],[19,37,22,24],[19,39,22,25],[19,45,22,31],[20,6,23,4],[20,10,23,8,"newObject"],[20,19,23,17],[20,22,23,20,"objectRef"],[20,31,23,29],[20,32,23,30,"current"],[20,39,23,37],[21,6,24,4],[21,12,24,10,"dependenciesAreEqual"],[21,32,24,30],[21,35,25,6,"previousDependencies"],[21,55,25,26],[21,56,25,27,"current"],[21,63,25,34],[21,65,25,36,"length"],[21,71,25,42],[21,76,25,47,"dependencies"],[21,88,25,59],[21,89,25,60,"length"],[21,95,25,66],[21,99,26,6,"dependencies"],[21,111,26,18],[21,112,26,19,"every"],[21,117,26,24],[21,118,26,25],[21,119,26,26,"value"],[21,124,26,31],[21,126,26,33,"index"],[21,131,26,38],[21,136,26,43,"value"],[21,141,26,48],[21,146,26,53,"previousDependencies"],[21,166,26,73],[21,167,26,74,"current"],[21,174,26,81],[21,175,26,82,"index"],[21,180,26,87],[21,181,26,88],[21,182,26,89],[23,6,28,4],[24,6,29,4],[25,6,30,4],[25,10,30,8],[25,11,30,9,"newObject"],[25,20,30,18],[25,24,30,22],[25,25,30,23,"dependenciesAreEqual"],[25,45,30,43],[25,47,30,45],[26,8,31,6,"objectRef"],[26,17,31,15],[26,18,31,16,"current"],[26,25,31,23],[26,27,31,25,"release"],[26,34,31,32],[26,35,31,33],[26,36,31,34],[27,8,32,6,"newObject"],[27,17,32,15],[27,20,32,18,"factory"],[27,27,32,25],[27,28,32,26],[27,29,32,27],[28,8,33,6,"objectRef"],[28,17,33,15],[28,18,33,16,"current"],[28,25,33,23],[28,28,33,26,"newObject"],[28,37,33,35],[29,8,34,6,"previousDependencies"],[29,28,34,26],[29,29,34,27,"current"],[29,36,34,34],[29,39,34,37,"dependencies"],[29,51,34,49],[30,6,35,4],[31,6,36,4],[31,13,36,11,"newObject"],[31,22,36,20],[32,4,37,2],[32,5,37,3],[32,7,37,5,"dependencies"],[32,19,37,17],[32,20,37,18],[33,4,39,2],[33,8,39,2,"useMemo"],[33,22,39,9],[33,24,39,10],[33,30,39,16],[34,6,40,4,"isFastRefresh"],[34,19,40,17],[34,20,40,18,"current"],[34,27,40,25],[34,30,40,28],[34,34,40,32],[35,4,41,2],[35,5,41,3],[35,7,41,5],[35,9,41,7],[35,10,41,8],[36,4,43,2],[36,8,43,2,"useEffect"],[36,24,43,11],[36,26,43,12],[36,32,43,18],[37,6,44,4,"isFastRefresh"],[37,19,44,17],[37,20,44,18,"current"],[37,27,44,25],[37,30,44,28],[37,35,44,33],[38,6,46,4],[38,13,46,11],[38,19,46,17],[39,8,47,6],[40,8,48,6],[40,12,48,10],[40,13,48,11,"isFastRefresh"],[40,26,48,24],[40,27,48,25,"current"],[40,34,48,32],[40,38,48,36,"objectRef"],[40,47,48,45],[40,48,48,46,"current"],[40,55,48,53],[40,57,48,55],[41,10,49,8,"objectRef"],[41,19,49,17],[41,20,49,18,"current"],[41,27,49,25],[41,28,49,26,"release"],[41,35,49,33],[41,36,49,34],[41,37,49,35],[42,8,50,6],[43,6,51,4],[43,7,51,5],[44,4,52,2],[44,5,52,3],[44,7,52,5],[44,9,52,7],[44,10,52,8],[45,4,54,2],[45,11,54,9,"object"],[45,17,54,15],[46,2,55,0],[47,0,55,1],[47,3]],"functionMap":{"names":["<global>","useReleasingSharedObject","useMemo$argument_0","dependencies.every$argument_0","useEffect$argument_0","<anonymous>"],"mappings":"AAA;OCS;yBCY;yBCI,+DD;GDW;UCE;GDE;YGE;WCG;KDK;GHC;CDG"}},"type":"js/module"}]}