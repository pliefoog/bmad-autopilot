{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":42,"index":42}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":43},"end":{"line":2,"column":42,"index":85}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"../store/uiStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":86},"end":{"line":3,"column":46,"index":132}},{"start":{"line":3,"column":0,"index":86},"end":{"line":3,"column":46,"index":132}},{"start":{"line":3,"column":0,"index":86},"end":{"line":3,"column":46,"index":132}},{"start":{"line":3,"column":0,"index":86},"end":{"line":3,"column":46,"index":132}},{"start":{"line":3,"column":0,"index":86},"end":{"line":3,"column":46,"index":132}},{"start":{"line":3,"column":0,"index":86},"end":{"line":3,"column":46,"index":132}},{"start":{"line":3,"column":0,"index":86},"end":{"line":3,"column":46,"index":132}}],"key":"6oRM0jMBmsZJH6/dyfgvUngwxHk=","exportNames":["*"],"imports":7}},{"name":"../store/nmeaStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":133},"end":{"line":4,"column":50,"index":183}}],"key":"yzZczWKas9lrOaIoMdO4acDolm0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useAutoHideHeader = void 0;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNative = require(_dependencyMap[1], \"react-native\");\n  var _s = $RefreshSig$();\n  /**\n   * useAutoHideHeader Hook - REFACTORED to prevent infinite loops\n   * \n   * Manages automatic header hiding with a single-fire timer approach.\n   * Timer starts when header becomes visible and all conditions are met.\n   * \n   * Trigger Conditions:\n   * - Auto-hide enabled in settings\n   * - NMEA connection established\n   * - Configurable idle timeout (default 5 seconds)\n   * - No dialogs open\n   * - Screen height < 1800px (laptops/tablets)\n   * \n   * @param isAnyDialogOpen - Whether any modal dialog is currently visible\n   */\n  var useAutoHideHeader = function () {\n    _s();\n    var isAnyDialogOpen = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var isHeaderVisible = (0, require(_dependencyMap[2], \"../store/uiStore\").useUIStore)(state => state.isHeaderVisible);\n    var autoHideEnabled = (0, require(_dependencyMap[2], \"../store/uiStore\").useUIStore)(state => state.autoHideEnabled);\n    var autoHideTimeoutMs = (0, require(_dependencyMap[2], \"../store/uiStore\").useUIStore)(state => state.autoHideTimeoutMs);\n    var timerRef = (0, _react.useRef)(null);\n\n    // Get screen dimensions - only check once\n    var screenHeight = _reactNative.Dimensions.get('window').height;\n    var shouldEnableAutoHide = autoHideEnabled && screenHeight < 1800;\n\n    // Single effect that runs only when header visibility changes or dialogs open/close\n    (0, _react.useEffect)(() => {\n      // Clear any existing timer\n      if (timerRef.current) {\n        clearTimeout(timerRef.current);\n        timerRef.current = null;\n      }\n\n      // Don't set timer if:\n      // - Feature disabled or screen too large\n      // - Any dialog is open\n      // - Header already hidden\n      if (!shouldEnableAutoHide || isAnyDialogOpen || !isHeaderVisible) {\n        return;\n      }\n\n      // Set timer to hide header after configured timeout\n      // Get fresh values from store when timer fires (not from closure)\n      timerRef.current = setTimeout(() => {\n        var _useUIStore$getState = require(_dependencyMap[2], \"../store/uiStore\").useUIStore.getState(),\n          hideHeader = _useUIStore$getState.hideHeader;\n        var _useNmeaStore$getStat = require(_dependencyMap[3], \"../store/nmeaStore\").useNmeaStore.getState(),\n          connectionStatus = _useNmeaStore$getStat.connectionStatus;\n\n        // Double-check conditions at execution time\n        if (connectionStatus === 'connected') {\n          hideHeader();\n        }\n        timerRef.current = null;\n      }, autoHideTimeoutMs);\n\n      // Cleanup\n      return () => {\n        if (timerRef.current) {\n          clearTimeout(timerRef.current);\n          timerRef.current = null;\n        }\n      };\n      // CRITICAL: Minimal deps - only UI state that should trigger timer reset\n      // autoHideTimeoutMs changes trigger new timer with updated duration\n    }, [shouldEnableAutoHide, isAnyDialogOpen, isHeaderVisible, autoHideTimeoutMs]);\n  };\n  exports.useAutoHideHeader = useAutoHideHeader;\n  _s(useAutoHideHeader, \"+Xgow6d2JZU9PRmuNvCQXOEOV38=\", false, function () {\n    return [require(_dependencyMap[2], \"../store/uiStore\").useUIStore, require(_dependencyMap[2], \"../store/uiStore\").useUIStore, require(_dependencyMap[2], \"../store/uiStore\").useUIStore];\n  });\n});","lineCount":82,"map":[[6,2,1,0],[6,6,1,0,"_react"],[6,12,1,0],[6,15,1,0,"require"],[6,22,1,0],[6,23,1,0,"_dependencyMap"],[6,37,1,0],[7,2,2,0],[7,6,2,0,"_reactNative"],[7,18,2,0],[7,21,2,0,"require"],[7,28,2,0],[7,29,2,0,"_dependencyMap"],[7,43,2,0],[8,2,2,42],[8,6,2,42,"_s"],[8,8,2,42],[8,11,2,42,"$RefreshSig$"],[8,23,2,42],[9,2,6,0],[10,0,7,0],[11,0,8,0],[12,0,9,0],[13,0,10,0],[14,0,11,0],[15,0,12,0],[16,0,13,0],[17,0,14,0],[18,0,15,0],[19,0,16,0],[20,0,17,0],[21,0,18,0],[22,0,19,0],[23,0,20,0],[24,2,21,7],[24,6,21,13,"useAutoHideHeader"],[24,23,21,30],[24,26,21,33],[24,35,21,33,"useAutoHideHeader"],[24,36,21,33],[24,38,21,71],[25,4,21,71,"_s"],[25,6,21,71],[26,4,21,71],[26,8,21,34,"isAnyDialogOpen"],[26,23,21,58],[26,26,21,58,"arguments"],[26,35,21,58],[26,36,21,58,"length"],[26,42,21,58],[26,50,21,58,"arguments"],[26,59,21,58],[26,67,21,58,"undefined"],[26,76,21,58],[26,79,21,58,"arguments"],[26,88,21,58],[26,94,21,61],[26,99,21,66],[27,4,22,2],[27,8,22,8,"isHeaderVisible"],[27,23,22,23],[27,26,22,26],[27,30,22,26,"useUIStore"],[27,56,22,26],[27,57,22,26,"useUIStore"],[27,87,22,36],[27,89,22,38,"state"],[27,94,22,43],[27,98,22,48,"state"],[27,103,22,53],[27,104,22,54,"isHeaderVisible"],[27,119,22,69],[27,120,22,70],[28,4,23,2],[28,8,23,8,"autoHideEnabled"],[28,23,23,23],[28,26,23,26],[28,30,23,26,"useUIStore"],[28,56,23,26],[28,57,23,26,"useUIStore"],[28,87,23,36],[28,89,23,38,"state"],[28,94,23,43],[28,98,23,48,"state"],[28,103,23,53],[28,104,23,54,"autoHideEnabled"],[28,119,23,69],[28,120,23,70],[29,4,24,2],[29,8,24,8,"autoHideTimeoutMs"],[29,25,24,25],[29,28,24,28],[29,32,24,28,"useUIStore"],[29,58,24,28],[29,59,24,28,"useUIStore"],[29,89,24,38],[29,91,24,40,"state"],[29,96,24,45],[29,100,24,50,"state"],[29,105,24,55],[29,106,24,56,"autoHideTimeoutMs"],[29,123,24,73],[29,124,24,74],[30,4,26,2],[30,8,26,8,"timerRef"],[30,16,26,16],[30,19,26,19],[30,23,26,19,"useRef"],[30,36,26,25],[30,38,26,49],[30,42,26,53],[30,43,26,54],[32,4,28,2],[33,4,29,2],[33,8,29,8,"screenHeight"],[33,20,29,20],[33,23,29,23,"Dimensions"],[33,46,29,33],[33,47,29,34,"get"],[33,50,29,37],[33,51,29,38],[33,59,29,46],[33,60,29,47],[33,61,29,48,"height"],[33,67,29,54],[34,4,30,2],[34,8,30,8,"shouldEnableAutoHide"],[34,28,30,28],[34,31,30,31,"autoHideEnabled"],[34,46,30,46],[34,50,30,50,"screenHeight"],[34,62,30,62],[34,65,30,65],[34,69,30,69],[36,4,32,2],[37,4,33,2],[37,8,33,2,"useEffect"],[37,24,33,11],[37,26,33,12],[37,32,33,18],[38,6,34,4],[39,6,35,4],[39,10,35,8,"timerRef"],[39,18,35,16],[39,19,35,17,"current"],[39,26,35,24],[39,28,35,26],[40,8,36,6,"clearTimeout"],[40,20,36,18],[40,21,36,19,"timerRef"],[40,29,36,27],[40,30,36,28,"current"],[40,37,36,35],[40,38,36,36],[41,8,37,6,"timerRef"],[41,16,37,14],[41,17,37,15,"current"],[41,24,37,22],[41,27,37,25],[41,31,37,29],[42,6,38,4],[44,6,40,4],[45,6,41,4],[46,6,42,4],[47,6,43,4],[48,6,44,4],[48,10,44,8],[48,11,44,9,"shouldEnableAutoHide"],[48,31,44,29],[48,35,44,33,"isAnyDialogOpen"],[48,50,44,48],[48,54,44,52],[48,55,44,53,"isHeaderVisible"],[48,70,44,68],[48,72,44,70],[49,8,45,6],[50,6,46,4],[52,6,48,4],[53,6,49,4],[54,6,50,4,"timerRef"],[54,14,50,12],[54,15,50,13,"current"],[54,22,50,20],[54,25,50,23,"setTimeout"],[54,35,50,33],[54,36,50,34],[54,42,50,40],[55,8,51,6],[55,12,51,6,"_useUIStore$getState"],[55,32,51,6],[55,35,51,29,"useUIStore"],[55,61,51,29],[55,62,51,29,"useUIStore"],[55,92,51,39],[55,93,51,40,"getState"],[55,101,51,48],[55,102,51,49],[55,103,51,50],[56,10,51,14,"hideHeader"],[56,20,51,24],[56,23,51,24,"_useUIStore$getState"],[56,43,51,24],[56,44,51,14,"hideHeader"],[56,54,51,24],[57,8,52,6],[57,12,52,6,"_useNmeaStore$getStat"],[57,33,52,6],[57,36,52,35,"useNmeaStore"],[57,62,52,35],[57,63,52,35,"useNmeaStore"],[57,97,52,47],[57,98,52,48,"getState"],[57,106,52,56],[57,107,52,57],[57,108,52,58],[58,10,52,14,"connectionStatus"],[58,26,52,30],[58,29,52,30,"_useNmeaStore$getStat"],[58,50,52,30],[58,51,52,14,"connectionStatus"],[58,67,52,30],[60,8,54,6],[61,8,55,6],[61,12,55,10,"connectionStatus"],[61,28,55,26],[61,33,55,31],[61,44,55,42],[61,46,55,44],[62,10,56,8,"hideHeader"],[62,20,56,18],[62,21,56,19],[62,22,56,20],[63,8,57,6],[64,8,59,6,"timerRef"],[64,16,59,14],[64,17,59,15,"current"],[64,24,59,22],[64,27,59,25],[64,31,59,29],[65,6,60,4],[65,7,60,5],[65,9,60,7,"autoHideTimeoutMs"],[65,26,60,24],[65,27,60,25],[67,6,62,4],[68,6,63,4],[68,13,63,11],[68,19,63,17],[69,8,64,6],[69,12,64,10,"timerRef"],[69,20,64,18],[69,21,64,19,"current"],[69,28,64,26],[69,30,64,28],[70,10,65,8,"clearTimeout"],[70,22,65,20],[70,23,65,21,"timerRef"],[70,31,65,29],[70,32,65,30,"current"],[70,39,65,37],[70,40,65,38],[71,10,66,8,"timerRef"],[71,18,66,16],[71,19,66,17,"current"],[71,26,66,24],[71,29,66,27],[71,33,66,31],[72,8,67,6],[73,6,68,4],[73,7,68,5],[74,6,69,4],[75,6,70,4],[76,4,71,2],[76,5,71,3],[76,7,71,5],[76,8,71,6,"shouldEnableAutoHide"],[76,28,71,26],[76,30,71,28,"isAnyDialogOpen"],[76,45,71,43],[76,47,71,45,"isHeaderVisible"],[76,62,71,60],[76,64,71,62,"autoHideTimeoutMs"],[76,81,71,79],[76,82,71,80],[76,83,71,81],[77,2,72,0],[77,3,72,1],[78,2,72,2,"exports"],[78,9,72,2],[78,10,72,2,"useAutoHideHeader"],[78,27,72,2],[78,30,72,2,"useAutoHideHeader"],[78,47,72,2],[79,2,72,2,"_s"],[79,4,72,2],[79,5,21,13,"useAutoHideHeader"],[79,22,21,30],[80,4,21,30],[80,12,22,26,"useUIStore"],[80,38,22,26],[80,39,22,26,"useUIStore"],[80,69,22,36],[80,71,23,26,"useUIStore"],[80,97,23,26],[80,98,23,26,"useUIStore"],[80,128,23,36],[80,130,24,28,"useUIStore"],[80,156,24,28],[80,157,24,28,"useUIStore"],[80,187,24,38],[81,2,24,38],[82,0,24,38],[82,3]],"functionMap":{"names":["<global>","useAutoHideHeader","useUIStore$argument_0","useEffect$argument_0","setTimeout$argument_0","<anonymous>"],"mappings":"AAA;iCCoB;qCCC,gCD;qCCC,gCD;uCCC,kCD;YES;kCCiB;KDU;WEG;KFK;GFG;CDC"}},"type":"js/module"}]}