{"dependencies":[{"name":"../../global-state/router-store","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":23,"index":287},"end":{"line":6,"column":65,"index":329}},{"start":{"line":6,"column":23,"index":287},"end":{"line":6,"column":65,"index":329}}],"key":"34G8cf9eMVuL1UIt4w1T43KGPlk=","exportNames":["*"],"imports":2}},{"name":"../href","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":15,"index":403},"end":{"line":8,"column":33,"index":421}},{"start":{"line":8,"column":15,"index":403},"end":{"line":8,"column":33,"index":421}}],"key":"JFYDN89CjCE9uy6rzcI/l/zLru8=","exportNames":["*"],"imports":2}},{"name":"../../global-state/routing","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":18,"index":349},"end":{"line":7,"column":55,"index":386}},{"start":{"line":7,"column":18,"index":349},"end":{"line":7,"column":55,"index":386}},{"start":{"line":7,"column":18,"index":349},"end":{"line":7,"column":55,"index":386}}],"key":"/KYD16J3C+S2+TKpFA4/GL5ghgM=","exportNames":["*"],"imports":3}},{"name":"../../navigationParams","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":27,"index":450},"end":{"line":9,"column":60,"index":483}},{"start":{"line":9,"column":27,"index":450},"end":{"line":9,"column":60,"index":483}},{"start":{"line":9,"column":27,"index":450},"end":{"line":9,"column":60,"index":483}},{"start":{"line":9,"column":27,"index":450},"end":{"line":9,"column":60,"index":483}}],"key":"XAh+4Y1ikoKrpGxORep8MZ3uXwI=","exportNames":["*"],"imports":4}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getTabPathFromRootStateByHref = getTabPathFromRootStateByHref;\n  exports.getPreloadedRouteFromRootStateByHref = getPreloadedRouteFromRootStateByHref;\n  exports.deepEqual = deepEqual;\n  function getTabPathFromRootStateByHref(href, rootState) {\n    const hrefState = require(_dependencyMap[0], \"../../global-state/router-store\").store.getStateForHref((0, require(_dependencyMap[1], \"../href\").resolveHref)(href));\n    const state = rootState;\n    if (!hrefState || !state) {\n      return [];\n    }\n    // Replicating the logic from `linkTo`\n    const {\n      navigationRoutes\n    } = (0, require(_dependencyMap[2], \"../../global-state/routing\").findDivergentState)(hrefState, state, true);\n    if (!navigationRoutes.length) {\n      return [];\n    }\n    const tabPath = [];\n    navigationRoutes.forEach((route, i, arr) => {\n      if (route.state?.type === 'tab') {\n        const tabState = route.state;\n        const oldTabKey = tabState.routes[tabState.index].key;\n        // The next route will be either stack inside a tab or a new tab key\n        if (!arr[i + 1]) {\n          throw new Error(`New tab route is missing for ${route.key}. This is likely an internal Expo Router bug.`);\n        }\n        const newTabKey = arr[i + 1].key;\n        tabPath.push({\n          oldTabKey,\n          newTabKey\n        });\n      }\n    });\n    return tabPath;\n  }\n  function getPreloadedRouteFromRootStateByHref(href, rootState) {\n    const hrefState = require(_dependencyMap[0], \"../../global-state/router-store\").store.getStateForHref((0, require(_dependencyMap[1], \"../href\").resolveHref)(href));\n    const state = rootState;\n    if (!hrefState || !state) {\n      return undefined;\n    }\n    // Replicating the logic from `linkTo`\n    const {\n      navigationState,\n      actionStateRoute\n    } = (0, require(_dependencyMap[2], \"../../global-state/routing\").findDivergentState)(hrefState, state, true);\n    if (!navigationState || !actionStateRoute) {\n      return undefined;\n    }\n    if (navigationState.type === 'stack') {\n      const stackState = navigationState;\n      const payload = (0, require(_dependencyMap[2], \"../../global-state/routing\").getPayloadFromStateRoute)(actionStateRoute);\n      const preloadedRoute = stackState.preloadedRoutes.find(route => route.name === actionStateRoute.name && deepEqual((0, require(_dependencyMap[3], \"../../navigationParams\").removeInternalExpoRouterParams)(route.params), (0, require(_dependencyMap[3], \"../../navigationParams\").removeInternalExpoRouterParams)(payload.params)));\n      const activeRoute = stackState.routes[stackState.index];\n      // When the active route is the same as the preloaded route,\n      // then we should not navigate. It aligns with base link behavior.\n      if (activeRoute.name === preloadedRoute?.name && deepEqual(\n      // using ?? {}, because from our perspective undefined === {}, as both mean no params\n      (0, require(_dependencyMap[3], \"../../navigationParams\").removeInternalExpoRouterParams)(activeRoute.params ?? {}), (0, require(_dependencyMap[3], \"../../navigationParams\").removeInternalExpoRouterParams)(payload.params ?? {}))) {\n        return undefined;\n      }\n      return preloadedRoute;\n    }\n    return undefined;\n  }\n  function deepEqual(a, b) {\n    if (a === b) {\n      return true;\n    }\n    if (a == null || b == null) {\n      return false;\n    }\n    if (typeof a !== 'object' || typeof b !== 'object') {\n      return false;\n    }\n    const keys = Object.keys(a);\n    return keys.length === Object.keys(b).length && keys.every(key => deepEqual(a[key], b[key]));\n  }\n});","lineCount":84,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"getTabPathFromRootStateByHref"],[7,39,3,37],[7,42,3,40,"getTabPathFromRootStateByHref"],[7,71,3,69],[8,2,4,0,"exports"],[8,9,4,7],[8,10,4,8,"getPreloadedRouteFromRootStateByHref"],[8,46,4,44],[8,49,4,47,"getPreloadedRouteFromRootStateByHref"],[8,85,4,83],[9,2,5,0,"exports"],[9,9,5,7],[9,10,5,8,"deepEqual"],[9,19,5,17],[9,22,5,20,"deepEqual"],[9,31,5,29],[10,2,10,0],[10,11,10,9,"getTabPathFromRootStateByHref"],[10,40,10,38,"getTabPathFromRootStateByHref"],[10,41,10,39,"href"],[10,45,10,43],[10,47,10,45,"rootState"],[10,56,10,54],[10,58,10,56],[11,4,11,4],[11,10,11,10,"hrefState"],[11,19,11,19],[11,22,11,22,"require"],[11,29,11,22],[11,30,11,22,"_dependencyMap"],[11,44,11,22],[11,84,11,37,"store"],[11,89,11,42],[11,90,11,43,"getStateForHref"],[11,105,11,58],[11,106,11,59],[11,107,11,60],[11,108,11,61],[11,110,11,63,"require"],[11,117,11,63],[11,118,11,63,"_dependencyMap"],[11,132,11,63],[11,148,11,70,"resolveHref"],[11,159,11,81],[11,161,11,83,"href"],[11,165,11,87],[11,166,11,88],[11,167,11,89],[12,4,12,4],[12,10,12,10,"state"],[12,15,12,15],[12,18,12,18,"rootState"],[12,27,12,27],[13,4,13,4],[13,8,13,8],[13,9,13,9,"hrefState"],[13,18,13,18],[13,22,13,22],[13,23,13,23,"state"],[13,28,13,28],[13,30,13,30],[14,6,14,8],[14,13,14,15],[14,15,14,17],[15,4,15,4],[16,4,16,4],[17,4,17,4],[17,10,17,10],[18,6,17,12,"navigationRoutes"],[19,4,17,29],[19,5,17,30],[19,8,17,33],[19,9,17,34],[19,10,17,35],[19,12,17,37,"require"],[19,19,17,37],[19,20,17,37,"_dependencyMap"],[19,34,17,37],[19,69,17,47,"findDivergentState"],[19,87,17,65],[19,89,17,67,"hrefState"],[19,98,17,76],[19,100,17,78,"state"],[19,105,17,83],[19,107,17,85],[19,111,17,89],[19,112,17,90],[20,4,18,4],[20,8,18,8],[20,9,18,9,"navigationRoutes"],[20,25,18,25],[20,26,18,26,"length"],[20,32,18,32],[20,34,18,34],[21,6,19,8],[21,13,19,15],[21,15,19,17],[22,4,20,4],[23,4,21,4],[23,10,21,10,"tabPath"],[23,17,21,17],[23,20,21,20],[23,22,21,22],[24,4,22,4,"navigationRoutes"],[24,20,22,20],[24,21,22,21,"forEach"],[24,28,22,28],[24,29,22,29],[24,30,22,30,"route"],[24,35,22,35],[24,37,22,37,"i"],[24,38,22,38],[24,40,22,40,"arr"],[24,43,22,43],[24,48,22,48],[25,6,23,8],[25,10,23,12,"route"],[25,15,23,17],[25,16,23,18,"state"],[25,21,23,23],[25,23,23,25,"type"],[25,27,23,29],[25,32,23,34],[25,37,23,39],[25,39,23,41],[26,8,24,12],[26,14,24,18,"tabState"],[26,22,24,26],[26,25,24,29,"route"],[26,30,24,34],[26,31,24,35,"state"],[26,36,24,40],[27,8,25,12],[27,14,25,18,"oldTabKey"],[27,23,25,27],[27,26,25,30,"tabState"],[27,34,25,38],[27,35,25,39,"routes"],[27,41,25,45],[27,42,25,46,"tabState"],[27,50,25,54],[27,51,25,55,"index"],[27,56,25,60],[27,57,25,61],[27,58,25,62,"key"],[27,61,25,65],[28,8,26,12],[29,8,27,12],[29,12,27,16],[29,13,27,17,"arr"],[29,16,27,20],[29,17,27,21,"i"],[29,18,27,22],[29,21,27,25],[29,22,27,26],[29,23,27,27],[29,25,27,29],[30,10,28,16],[30,16,28,22],[30,20,28,26,"Error"],[30,25,28,31],[30,26,28,32],[30,58,28,64,"route"],[30,63,28,69],[30,64,28,70,"key"],[30,67,28,73],[30,114,28,120],[30,115,28,121],[31,8,29,12],[32,8,30,12],[32,14,30,18,"newTabKey"],[32,23,30,27],[32,26,30,30,"arr"],[32,29,30,33],[32,30,30,34,"i"],[32,31,30,35],[32,34,30,38],[32,35,30,39],[32,36,30,40],[32,37,30,41,"key"],[32,40,30,44],[33,8,31,12,"tabPath"],[33,15,31,19],[33,16,31,20,"push"],[33,20,31,24],[33,21,31,25],[34,10,31,27,"oldTabKey"],[34,19,31,36],[35,10,31,38,"newTabKey"],[36,8,31,48],[36,9,31,49],[36,10,31,50],[37,6,32,8],[38,4,33,4],[38,5,33,5],[38,6,33,6],[39,4,34,4],[39,11,34,11,"tabPath"],[39,18,34,18],[40,2,35,0],[41,2,36,0],[41,11,36,9,"getPreloadedRouteFromRootStateByHref"],[41,47,36,45,"getPreloadedRouteFromRootStateByHref"],[41,48,36,46,"href"],[41,52,36,50],[41,54,36,52,"rootState"],[41,63,36,61],[41,65,36,63],[42,4,37,4],[42,10,37,10,"hrefState"],[42,19,37,19],[42,22,37,22,"require"],[42,29,37,22],[42,30,37,22,"_dependencyMap"],[42,44,37,22],[42,84,37,37,"store"],[42,89,37,42],[42,90,37,43,"getStateForHref"],[42,105,37,58],[42,106,37,59],[42,107,37,60],[42,108,37,61],[42,110,37,63,"require"],[42,117,37,63],[42,118,37,63,"_dependencyMap"],[42,132,37,63],[42,148,37,70,"resolveHref"],[42,159,37,81],[42,161,37,83,"href"],[42,165,37,87],[42,166,37,88],[42,167,37,89],[43,4,38,4],[43,10,38,10,"state"],[43,15,38,15],[43,18,38,18,"rootState"],[43,27,38,27],[44,4,39,4],[44,8,39,8],[44,9,39,9,"hrefState"],[44,18,39,18],[44,22,39,22],[44,23,39,23,"state"],[44,28,39,28],[44,30,39,30],[45,6,40,8],[45,13,40,15,"undefined"],[45,22,40,24],[46,4,41,4],[47,4,42,4],[48,4,43,4],[48,10,43,10],[49,6,43,12,"navigationState"],[49,21,43,27],[50,6,43,29,"actionStateRoute"],[51,4,43,46],[51,5,43,47],[51,8,43,50],[51,9,43,51],[51,10,43,52],[51,12,43,54,"require"],[51,19,43,54],[51,20,43,54,"_dependencyMap"],[51,34,43,54],[51,69,43,64,"findDivergentState"],[51,87,43,82],[51,89,43,84,"hrefState"],[51,98,43,93],[51,100,43,95,"state"],[51,105,43,100],[51,107,43,102],[51,111,43,106],[51,112,43,107],[52,4,44,4],[52,8,44,8],[52,9,44,9,"navigationState"],[52,24,44,24],[52,28,44,28],[52,29,44,29,"actionStateRoute"],[52,45,44,45],[52,47,44,47],[53,6,45,8],[53,13,45,15,"undefined"],[53,22,45,24],[54,4,46,4],[55,4,47,4],[55,8,47,8,"navigationState"],[55,23,47,23],[55,24,47,24,"type"],[55,28,47,28],[55,33,47,33],[55,40,47,40],[55,42,47,42],[56,6,48,8],[56,12,48,14,"stackState"],[56,22,48,24],[56,25,48,27,"navigationState"],[56,40,48,42],[57,6,49,8],[57,12,49,14,"payload"],[57,19,49,21],[57,22,49,24],[57,23,49,25],[57,24,49,26],[57,26,49,28,"require"],[57,33,49,28],[57,34,49,28,"_dependencyMap"],[57,48,49,28],[57,83,49,38,"getPayloadFromStateRoute"],[57,107,49,62],[57,109,49,64,"actionStateRoute"],[57,125,49,80],[57,126,49,81],[58,6,50,8],[58,12,50,14,"preloadedRoute"],[58,26,50,28],[58,29,50,31,"stackState"],[58,39,50,41],[58,40,50,42,"preloadedRoutes"],[58,55,50,57],[58,56,50,58,"find"],[58,60,50,62],[58,61,50,64,"route"],[58,66,50,69],[58,70,50,74,"route"],[58,75,50,79],[58,76,50,80,"name"],[58,80,50,84],[58,85,50,89,"actionStateRoute"],[58,101,50,105],[58,102,50,106,"name"],[58,106,50,110],[58,110,51,12,"deepEqual"],[58,119,51,21],[58,120,51,22],[58,121,51,23],[58,122,51,24],[58,124,51,26,"require"],[58,131,51,26],[58,132,51,26,"_dependencyMap"],[58,146,51,26],[58,177,51,45,"removeInternalExpoRouterParams"],[58,207,51,75],[58,209,51,77,"route"],[58,214,51,82],[58,215,51,83,"params"],[58,221,51,89],[58,222,51,90],[58,224,51,92],[58,225,51,93],[58,226,51,94],[58,228,51,96,"require"],[58,235,51,96],[58,236,51,96,"_dependencyMap"],[58,250,51,96],[58,281,51,115,"removeInternalExpoRouterParams"],[58,311,51,145],[58,313,51,147,"payload"],[58,320,51,154],[58,321,51,155,"params"],[58,327,51,161],[58,328,51,162],[58,329,51,163],[58,330,51,164],[59,6,52,8],[59,12,52,14,"activeRoute"],[59,23,52,25],[59,26,52,28,"stackState"],[59,36,52,38],[59,37,52,39,"routes"],[59,43,52,45],[59,44,52,46,"stackState"],[59,54,52,56],[59,55,52,57,"index"],[59,60,52,62],[59,61,52,63],[60,6,53,8],[61,6,54,8],[62,6,55,8],[62,10,55,12,"activeRoute"],[62,21,55,23],[62,22,55,24,"name"],[62,26,55,28],[62,31,55,33,"preloadedRoute"],[62,45,55,47],[62,47,55,49,"name"],[62,51,55,53],[62,55,56,12,"deepEqual"],[62,64,56,21],[63,6,57,12],[64,6,58,12],[64,7,58,13],[64,8,58,14],[64,10,58,16,"require"],[64,17,58,16],[64,18,58,16,"_dependencyMap"],[64,32,58,16],[64,63,58,35,"removeInternalExpoRouterParams"],[64,93,58,65],[64,95,58,67,"activeRoute"],[64,106,58,78],[64,107,58,79,"params"],[64,113,58,85],[64,117,58,89],[64,118,58,90],[64,119,58,91],[64,120,58,92],[64,122,58,94],[64,123,58,95],[64,124,58,96],[64,126,58,98,"require"],[64,133,58,98],[64,134,58,98,"_dependencyMap"],[64,148,58,98],[64,179,58,117,"removeInternalExpoRouterParams"],[64,209,58,147],[64,211,58,149,"payload"],[64,218,58,156],[64,219,58,157,"params"],[64,225,58,163],[64,229,58,167],[64,230,58,168],[64,231,58,169],[64,232,58,170],[64,233,58,171],[64,235,58,173],[65,8,59,12],[65,15,59,19,"undefined"],[65,24,59,28],[66,6,60,8],[67,6,61,8],[67,13,61,15,"preloadedRoute"],[67,27,61,29],[68,4,62,4],[69,4,63,4],[69,11,63,11,"undefined"],[69,20,63,20],[70,2,64,0],[71,2,65,0],[71,11,65,9,"deepEqual"],[71,20,65,18,"deepEqual"],[71,21,65,19,"a"],[71,22,65,20],[71,24,65,22,"b"],[71,25,65,23],[71,27,65,25],[72,4,66,4],[72,8,66,8,"a"],[72,9,66,9],[72,14,66,14,"b"],[72,15,66,15],[72,17,66,17],[73,6,67,8],[73,13,67,15],[73,17,67,19],[74,4,68,4],[75,4,69,4],[75,8,69,8,"a"],[75,9,69,9],[75,13,69,13],[75,17,69,17],[75,21,69,21,"b"],[75,22,69,22],[75,26,69,26],[75,30,69,30],[75,32,69,32],[76,6,70,8],[76,13,70,15],[76,18,70,20],[77,4,71,4],[78,4,72,4],[78,8,72,8],[78,15,72,15,"a"],[78,16,72,16],[78,21,72,21],[78,29,72,29],[78,33,72,33],[78,40,72,40,"b"],[78,41,72,41],[78,46,72,46],[78,54,72,54],[78,56,72,56],[79,6,73,8],[79,13,73,15],[79,18,73,20],[80,4,74,4],[81,4,75,4],[81,10,75,10,"keys"],[81,14,75,14],[81,17,75,17,"Object"],[81,23,75,23],[81,24,75,24,"keys"],[81,28,75,28],[81,29,75,29,"a"],[81,30,75,30],[81,31,75,31],[82,4,76,4],[82,11,76,11,"keys"],[82,15,76,15],[82,16,76,16,"length"],[82,22,76,22],[82,27,76,27,"Object"],[82,33,76,33],[82,34,76,34,"keys"],[82,38,76,38],[82,39,76,39,"b"],[82,40,76,40],[82,41,76,41],[82,42,76,42,"length"],[82,48,76,48],[82,52,76,52,"keys"],[82,56,76,56],[82,57,76,57,"every"],[82,62,76,62],[82,63,76,64,"key"],[82,66,76,67],[82,70,76,72,"deepEqual"],[82,79,76,81],[82,80,76,82,"a"],[82,81,76,83],[82,82,76,84,"key"],[82,85,76,87],[82,86,76,88],[82,88,76,90,"b"],[82,89,76,91],[82,90,76,92,"key"],[82,93,76,95],[82,94,76,96],[82,95,76,97],[82,96,76,98],[83,2,77,0],[84,0,77,1],[84,3]],"functionMap":{"names":["<global>","getTabPathFromRootStateByHref","navigationRoutes.forEach$argument_0","getPreloadedRouteFromRootStateByHref","stackState.preloadedRoutes.find$argument_0","deepEqual","keys.every$argument_0"],"mappings":"AAA;ACS;6BCY;KDW;CDE;AGC;+DCc;mKDC;CHa;AKC;+DCW,kCD;CLC"}},"type":"js/module"}]}