{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":36,"index":51}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../../../findNodeHandle","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":322},"end":{"line":9,"column":53,"index":375}}],"key":"k+xfarWxri7fB3IShKFMK0oi5UQ=","exportNames":["*"],"imports":1}},{"name":"./utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":254},"end":{"line":8,"column":67,"index":321}},{"start":{"line":8,"column":0,"index":254},"end":{"line":8,"column":67,"index":321}}],"key":"fIqjJ6Rx8c7Khc/wm9kX7hQXC5I=","exportNames":["*"],"imports":2}},{"name":"./needsToReattach","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":154},"end":{"line":6,"column":52,"index":206}}],"key":"AnC4N1Crd90FP+3Mxk358neOkRo=","exportNames":["*"],"imports":1}},{"name":"./dropHandlers","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":207},"end":{"line":7,"column":46,"index":253}}],"key":"3pg09hFbTrtcJ+KzQ97dAmmPlSE=","exportNames":["*"],"imports":1}},{"name":"./attachHandlers","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":52},"end":{"line":4,"column":50,"index":102}}],"key":"3mjR74KCCo5t43evU8Hvoyi9yu0=","exportNames":["*"],"imports":1}},{"name":"./updateHandlers","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":103},"end":{"line":5,"column":50,"index":153}}],"key":"lArlpaD/5d+RB4jQyU++60NVCc0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useDetectorUpdater = useDetectorUpdater;\n  var _react = require(_dependencyMap[1], \"react\");\n  var _findNodeHandle = _interopRequireDefault(require(_dependencyMap[2], \"../../../findNodeHandle\"));\n  // Returns a function that's responsible for updating the attached gestures\n  // If the view has changed, it will reattach the handlers to the new view\n  // If the view remains the same, it will update the handlers with the new config\n  function useDetectorUpdater(state, preparedGesture, gesturesToAttach, gestureConfig, webEventHandlersRef) {\n    const forceRender = (0, require(_dependencyMap[3], \"./utils\").useForceRender)();\n    const updateAttachedGestures = (0, _react.useCallback)(\n    // skipConfigUpdate is used to prevent unnecessary updates when only checking if the view has changed\n    skipConfigUpdate => {\n      // If the underlying view has changed we need to reattach handlers to the new view\n      const viewTag = (0, _findNodeHandle.default)(state.viewRef);\n      const didUnderlyingViewChange = viewTag !== state.previousViewTag;\n      if (didUnderlyingViewChange || (0, require(_dependencyMap[4], \"./needsToReattach\").needsToReattach)(preparedGesture, gesturesToAttach)) {\n        (0, require(_dependencyMap[3], \"./utils\").validateDetectorChildren)(state.viewRef);\n        (0, require(_dependencyMap[5], \"./dropHandlers\").dropHandlers)(preparedGesture);\n        (0, require(_dependencyMap[6], \"./attachHandlers\").attachHandlers)({\n          preparedGesture,\n          gestureConfig,\n          gesturesToAttach,\n          webEventHandlersRef,\n          viewTag\n        });\n        if (didUnderlyingViewChange) {\n          state.previousViewTag = viewTag;\n          state.forceRebuildReanimatedEvent = true;\n          forceRender();\n        }\n      } else if (!skipConfigUpdate) {\n        (0, require(_dependencyMap[7], \"./updateHandlers\").updateHandlers)(preparedGesture, gestureConfig, gesturesToAttach);\n      }\n    }, [forceRender, gestureConfig, gesturesToAttach, preparedGesture, state, webEventHandlersRef]);\n    return updateAttachedGestures;\n  }\n});","lineCount":43,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_interopRequireDefault"],[4,28,1,13],[4,31,1,13,"require"],[4,38,1,13],[4,39,1,13,"_dependencyMap"],[4,53,1,13],[5,2,1,13,"Object"],[5,8,1,13],[5,9,1,13,"defineProperty"],[5,23,1,13],[5,24,1,13,"exports"],[5,31,1,13],[6,4,1,13,"value"],[6,9,1,13],[7,2,1,13],[8,2,1,13,"exports"],[8,9,1,13],[8,10,1,13,"useDetectorUpdater"],[8,28,1,13],[8,31,1,13,"useDetectorUpdater"],[8,49,1,13],[9,2,3,0],[9,6,3,0,"_react"],[9,12,3,0],[9,15,3,0,"require"],[9,22,3,0],[9,23,3,0,"_dependencyMap"],[9,37,3,0],[10,2,9,0],[10,6,9,0,"_findNodeHandle"],[10,21,9,0],[10,24,9,0,"_interopRequireDefault"],[10,46,9,0],[10,47,9,0,"require"],[10,54,9,0],[10,55,9,0,"_dependencyMap"],[10,69,9,0],[11,2,11,0],[12,2,12,0],[13,2,13,0],[14,2,14,7],[14,11,14,16,"useDetectorUpdater"],[14,29,14,34,"useDetectorUpdater"],[14,30,14,35,"state"],[14,35,14,40],[14,37,14,42,"preparedGesture"],[14,52,14,57],[14,54,14,59,"gesturesToAttach"],[14,70,14,75],[14,72,14,77,"gestureConfig"],[14,85,14,90],[14,87,14,92,"webEventHandlersRef"],[14,106,14,111],[14,108,14,113],[15,4,15,2],[15,10,15,8,"forceRender"],[15,21,15,19],[15,24,15,22],[15,28,15,22,"useForceRender"],[15,54,15,22],[15,55,15,22,"useForceRender"],[15,80,15,36],[15,82,15,37],[15,83,15,38],[16,4,16,2],[16,10,16,8,"updateAttachedGestures"],[16,32,16,30],[16,35,16,33],[16,39,16,33,"useCallback"],[16,57,16,44],[17,4,17,2],[18,4,18,2,"skipConfigUpdate"],[18,20,18,18],[18,24,18,22],[19,6,19,4],[20,6,20,4],[20,12,20,10,"viewTag"],[20,19,20,17],[20,22,20,20],[20,26,20,20,"findNodeHandle"],[20,49,20,34],[20,51,20,35,"state"],[20,56,20,40],[20,57,20,41,"viewRef"],[20,64,20,48],[20,65,20,49],[21,6,21,4],[21,12,21,10,"didUnderlyingViewChange"],[21,35,21,33],[21,38,21,36,"viewTag"],[21,45,21,43],[21,50,21,48,"state"],[21,55,21,53],[21,56,21,54,"previousViewTag"],[21,71,21,69],[22,6,22,4],[22,10,22,8,"didUnderlyingViewChange"],[22,33,22,31],[22,37,22,35],[22,41,22,35,"needsToReattach"],[22,67,22,35],[22,68,22,35,"needsToReattach"],[22,104,22,50],[22,106,22,51,"preparedGesture"],[22,121,22,66],[22,123,22,68,"gesturesToAttach"],[22,139,22,84],[22,140,22,85],[22,142,22,87],[23,8,23,6],[23,12,23,6,"validateDetectorChildren"],[23,38,23,6],[23,39,23,6,"validateDetectorChildren"],[23,74,23,30],[23,76,23,31,"state"],[23,81,23,36],[23,82,23,37,"viewRef"],[23,89,23,44],[23,90,23,45],[24,8,24,6],[24,12,24,6,"dropHandlers"],[24,38,24,6],[24,39,24,6,"dropHandlers"],[24,69,24,18],[24,71,24,19,"preparedGesture"],[24,86,24,34],[24,87,24,35],[25,8,25,6],[25,12,25,6,"attachHandlers"],[25,38,25,6],[25,39,25,6,"attachHandlers"],[25,73,25,20],[25,75,25,21],[26,10,26,8,"preparedGesture"],[26,25,26,23],[27,10,27,8,"gestureConfig"],[27,23,27,21],[28,10,28,8,"gesturesToAttach"],[28,26,28,24],[29,10,29,8,"webEventHandlersRef"],[29,29,29,27],[30,10,30,8,"viewTag"],[31,8,31,6],[31,9,31,7],[31,10,31,8],[32,8,32,6],[32,12,32,10,"didUnderlyingViewChange"],[32,35,32,33],[32,37,32,35],[33,10,33,8,"state"],[33,15,33,13],[33,16,33,14,"previousViewTag"],[33,31,33,29],[33,34,33,32,"viewTag"],[33,41,33,39],[34,10,34,8,"state"],[34,15,34,13],[34,16,34,14,"forceRebuildReanimatedEvent"],[34,43,34,41],[34,46,34,44],[34,50,34,48],[35,10,35,8,"forceRender"],[35,21,35,19],[35,22,35,20],[35,23,35,21],[36,8,36,6],[37,6,37,4],[37,7,37,5],[37,13,37,11],[37,17,37,15],[37,18,37,16,"skipConfigUpdate"],[37,34,37,32],[37,36,37,34],[38,8,38,6],[38,12,38,6,"updateHandlers"],[38,38,38,6],[38,39,38,6,"updateHandlers"],[38,73,38,20],[38,75,38,21,"preparedGesture"],[38,90,38,36],[38,92,38,38,"gestureConfig"],[38,105,38,51],[38,107,38,53,"gesturesToAttach"],[38,123,38,69],[38,124,38,70],[39,6,39,4],[40,4,40,2],[40,5,40,3],[40,7,40,5],[40,8,40,6,"forceRender"],[40,19,40,17],[40,21,40,19,"gestureConfig"],[40,34,40,32],[40,36,40,34,"gesturesToAttach"],[40,52,40,50],[40,54,40,52,"preparedGesture"],[40,69,40,67],[40,71,40,69,"state"],[40,76,40,74],[40,78,40,76,"webEventHandlersRef"],[40,97,40,95],[40,98,40,96],[40,99,40,97],[41,4,41,2],[41,11,41,9,"updateAttachedGestures"],[41,33,41,31],[42,2,42,0],[43,0,42,1],[43,3]],"functionMap":{"names":["<global>","useDetectorUpdater","updateAttachedGestures"],"mappings":"AAA;OCa;ECI;GDsB;CDE"}},"type":"js/module"}]}