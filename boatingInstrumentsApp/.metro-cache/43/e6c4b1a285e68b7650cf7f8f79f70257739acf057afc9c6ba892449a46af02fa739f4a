{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"fnQVLibs90KHiJ7y48fLgPWzDS0=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"./to-json-schema.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":61},"end":{"line":2,"column":89,"index":150}},{"start":{"line":2,"column":0,"index":61},"end":{"line":2,"column":89,"index":150}},{"start":{"line":2,"column":0,"index":61},"end":{"line":2,"column":89,"index":150}},{"start":{"line":2,"column":0,"index":61},"end":{"line":2,"column":89,"index":150}}],"key":"+jG0B09vt7vkDa65ivf1XmgJgIE=","exportNames":["*"],"imports":4}},{"name":"./json-schema-processors.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":60,"index":60}}],"key":"3WOd2OgWUBhfvZ0UHfVfCMoW2FQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.JSONSchemaGenerator = void 0;\n  var _objectWithoutProperties2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/objectWithoutProperties\"));\n  var _classCallCheck2 = _interopRequireDefault(require(_dependencyMap[2], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(require(_dependencyMap[3], \"@babel/runtime/helpers/createClass\"));\n  var _excluded = [\"~standard\"];\n  /**\n   * Legacy class-based interface for JSON Schema generation.\n   * This class wraps the new functional implementation to provide backward compatibility.\n   *\n   * @deprecated Use the `toJSONSchema` function instead for new code.\n   *\n   * @example\n   * ```typescript\n   * // Legacy usage (still supported)\n   * const gen = new JSONSchemaGenerator({ target: \"draft-07\" });\n   * gen.process(schema);\n   * const result = gen.emit(schema);\n   *\n   * // Preferred modern usage\n   * const result = toJSONSchema(schema, { target: \"draft-07\" });\n   * ```\n   */\n  var JSONSchemaGenerator = exports.JSONSchemaGenerator = /*#__PURE__*/function () {\n    function JSONSchemaGenerator(params) {\n      (0, _classCallCheck2.default)(this, JSONSchemaGenerator);\n      // Normalize target for internal context\n      var normalizedTarget = params?.target ?? \"draft-2020-12\";\n      if (normalizedTarget === \"draft-4\") normalizedTarget = \"draft-04\";\n      if (normalizedTarget === \"draft-7\") normalizedTarget = \"draft-07\";\n      this.ctx = (0, require(_dependencyMap[4], \"./to-json-schema.js\").initializeContext)({\n        processors: require(_dependencyMap[5], \"./json-schema-processors.js\").allProcessors,\n        target: normalizedTarget,\n        ...(params?.metadata && {\n          metadata: params.metadata\n        }),\n        ...(params?.unrepresentable && {\n          unrepresentable: params.unrepresentable\n        }),\n        ...(params?.override && {\n          override: params.override\n        }),\n        ...(params?.io && {\n          io: params.io\n        })\n      });\n    }\n    /**\n     * Process a schema to prepare it for JSON Schema generation.\n     * This must be called before emit().\n     */\n    return (0, _createClass2.default)(JSONSchemaGenerator, [{\n      key: \"metadataRegistry\",\n      get: /** @deprecated Access via ctx instead */\n      function () {\n        return this.ctx.metadataRegistry;\n      }\n      /** @deprecated Access via ctx instead */\n    }, {\n      key: \"target\",\n      get: function () {\n        return this.ctx.target;\n      }\n      /** @deprecated Access via ctx instead */\n    }, {\n      key: \"unrepresentable\",\n      get: function () {\n        return this.ctx.unrepresentable;\n      }\n      /** @deprecated Access via ctx instead */\n    }, {\n      key: \"override\",\n      get: function () {\n        return this.ctx.override;\n      }\n      /** @deprecated Access via ctx instead */\n    }, {\n      key: \"io\",\n      get: function () {\n        return this.ctx.io;\n      }\n      /** @deprecated Access via ctx instead */\n    }, {\n      key: \"counter\",\n      get: function () {\n        return this.ctx.counter;\n      },\n      set: function (value) {\n        this.ctx.counter = value;\n      }\n      /** @deprecated Access via ctx instead */\n    }, {\n      key: \"seen\",\n      get: function () {\n        return this.ctx.seen;\n      }\n    }, {\n      key: \"process\",\n      value: function process(schema) {\n        var _params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n          path: [],\n          schemaPath: []\n        };\n        return (0, require(_dependencyMap[4], \"./to-json-schema.js\").process)(schema, this.ctx, _params);\n      }\n      /**\n       * Emit the final JSON Schema after processing.\n       * Must call process() first.\n       */\n    }, {\n      key: \"emit\",\n      value: function emit(schema, _params) {\n        // Apply emit params to the context\n        if (_params) {\n          if (_params.cycles) this.ctx.cycles = _params.cycles;\n          if (_params.reused) this.ctx.reused = _params.reused;\n          if (_params.external) this.ctx.external = _params.external;\n        }\n        (0, require(_dependencyMap[4], \"./to-json-schema.js\").extractDefs)(this.ctx, schema);\n        var result = (0, require(_dependencyMap[4], \"./to-json-schema.js\").finalize)(this.ctx, schema);\n        // Strip ~standard property to match old implementation's return type\n        var _ = result[\"~standard\"],\n          plainResult = (0, _objectWithoutProperties2.default)(result, _excluded);\n        return plainResult;\n      }\n    }]);\n  }();\n});","lineCount":132,"map":[[11,2,3,0],[12,0,4,0],[13,0,5,0],[14,0,6,0],[15,0,7,0],[16,0,8,0],[17,0,9,0],[18,0,10,0],[19,0,11,0],[20,0,12,0],[21,0,13,0],[22,0,14,0],[23,0,15,0],[24,0,16,0],[25,0,17,0],[26,0,18,0],[27,0,19,0],[28,2,3,0],[28,6,20,13,"JSONSchemaGenerator"],[28,25,20,32],[28,28,20,32,"exports"],[28,35,20,32],[28,36,20,32,"JSONSchemaGenerator"],[28,55,20,32],[29,4,52,4],[29,13,52,4,"JSONSchemaGenerator"],[29,33,52,16,"params"],[29,39,52,22],[29,41,52,24],[30,6,52,24],[30,10,52,24,"_classCallCheck2"],[30,26,52,24],[30,27,52,24,"default"],[30,34,52,24],[30,42,52,24,"JSONSchemaGenerator"],[30,61,52,24],[31,6,53,8],[32,6,54,8],[32,10,54,12,"normalizedTarget"],[32,26,54,28],[32,29,54,31,"params"],[32,35,54,37],[32,37,54,39,"target"],[32,43,54,45],[32,47,54,49],[32,62,54,64],[33,6,55,8],[33,10,55,12,"normalizedTarget"],[33,26,55,28],[33,31,55,33],[33,40,55,42],[33,42,56,12,"normalizedTarget"],[33,58,56,28],[33,61,56,31],[33,71,56,41],[34,6,57,8],[34,10,57,12,"normalizedTarget"],[34,26,57,28],[34,31,57,33],[34,40,57,42],[34,42,58,12,"normalizedTarget"],[34,58,58,28],[34,61,58,31],[34,71,58,41],[35,6,59,8],[35,10,59,12],[35,11,59,13,"ctx"],[35,14,59,16],[35,17,59,19],[35,21,59,19,"initializeContext"],[35,47,59,19],[35,48,59,19,"initializeContext"],[35,88,59,36],[35,90,59,37],[36,8,60,12,"processors"],[36,18,60,22],[36,20,60,24,"allProcessors"],[36,46,60,24],[36,47,60,24,"allProcessors"],[36,91,60,37],[37,8,61,12,"target"],[37,14,61,18],[37,16,61,20,"normalizedTarget"],[37,32,61,36],[38,8,62,12],[38,12,62,16,"params"],[38,18,62,22],[38,20,62,24,"metadata"],[38,28,62,32],[38,32,62,36],[39,10,62,38,"metadata"],[39,18,62,46],[39,20,62,48,"params"],[39,26,62,54],[39,27,62,55,"metadata"],[40,8,62,64],[40,9,62,65],[40,10,62,66],[41,8,63,12],[41,12,63,16,"params"],[41,18,63,22],[41,20,63,24,"unrepresentable"],[41,35,63,39],[41,39,63,43],[42,10,63,45,"unrepresentable"],[42,25,63,60],[42,27,63,62,"params"],[42,33,63,68],[42,34,63,69,"unrepresentable"],[43,8,63,85],[43,9,63,86],[43,10,63,87],[44,8,64,12],[44,12,64,16,"params"],[44,18,64,22],[44,20,64,24,"override"],[44,28,64,32],[44,32,64,36],[45,10,64,38,"override"],[45,18,64,46],[45,20,64,48,"params"],[45,26,64,54],[45,27,64,55,"override"],[46,8,64,64],[46,9,64,65],[46,10,64,66],[47,8,65,12],[47,12,65,16,"params"],[47,18,65,22],[47,20,65,24,"io"],[47,22,65,26],[47,26,65,30],[48,10,65,32,"io"],[48,12,65,34],[48,14,65,36,"params"],[48,20,65,42],[48,21,65,43,"io"],[49,8,65,46],[49,9,65,47],[50,6,66,8],[50,7,66,9],[50,8,66,10],[51,4,67,4],[52,4,68,4],[53,0,69,0],[54,0,70,0],[55,0,71,0],[56,4,68,4],[56,15,68,4,"_createClass2"],[56,28,68,4],[56,29,68,4,"default"],[56,36,68,4],[56,38,68,4,"JSONSchemaGenerator"],[56,57,68,4],[57,6,68,4,"key"],[57,9,68,4],[58,6,68,4,"get"],[58,9,68,4],[58,11,21,4],[59,6,22,4],[59,15,22,4,"get"],[59,16,22,4],[59,18,22,27],[60,8,23,8],[60,15,23,15],[60,19,23,19],[60,20,23,20,"ctx"],[60,23,23,23],[60,24,23,24,"metadataRegistry"],[60,40,23,40],[61,6,24,4],[62,6,25,4],[63,4,25,4],[64,6,25,4,"key"],[64,9,25,4],[65,6,25,4,"get"],[65,9,25,4],[65,11,26,4],[65,20,26,4,"get"],[65,21,26,4],[65,23,26,17],[66,8,27,8],[66,15,27,15],[66,19,27,19],[66,20,27,20,"ctx"],[66,23,27,23],[66,24,27,24,"target"],[66,30,27,30],[67,6,28,4],[68,6,29,4],[69,4,29,4],[70,6,29,4,"key"],[70,9,29,4],[71,6,29,4,"get"],[71,9,29,4],[71,11,30,4],[71,20,30,4,"get"],[71,21,30,4],[71,23,30,26],[72,8,31,8],[72,15,31,15],[72,19,31,19],[72,20,31,20,"ctx"],[72,23,31,23],[72,24,31,24,"unrepresentable"],[72,39,31,39],[73,6,32,4],[74,6,33,4],[75,4,33,4],[76,6,33,4,"key"],[76,9,33,4],[77,6,33,4,"get"],[77,9,33,4],[77,11,34,4],[77,20,34,4,"get"],[77,21,34,4],[77,23,34,19],[78,8,35,8],[78,15,35,15],[78,19,35,19],[78,20,35,20,"ctx"],[78,23,35,23],[78,24,35,24,"override"],[78,32,35,32],[79,6,36,4],[80,6,37,4],[81,4,37,4],[82,6,37,4,"key"],[82,9,37,4],[83,6,37,4,"get"],[83,9,37,4],[83,11,38,4],[83,20,38,4,"get"],[83,21,38,4],[83,23,38,13],[84,8,39,8],[84,15,39,15],[84,19,39,19],[84,20,39,20,"ctx"],[84,23,39,23],[84,24,39,24,"io"],[84,26,39,26],[85,6,40,4],[86,6,41,4],[87,4,41,4],[88,6,41,4,"key"],[88,9,41,4],[89,6,41,4,"get"],[89,9,41,4],[89,11,42,4],[89,20,42,4,"get"],[89,21,42,4],[89,23,42,18],[90,8,43,8],[90,15,43,15],[90,19,43,19],[90,20,43,20,"ctx"],[90,23,43,23],[90,24,43,24,"counter"],[90,31,43,31],[91,6,44,4],[91,7,44,5],[92,6,44,5,"set"],[92,9,44,5],[92,11,45,4],[92,20,45,4,"set"],[92,21,45,16,"value"],[92,26,45,21],[92,28,45,23],[93,8,46,8],[93,12,46,12],[93,13,46,13,"ctx"],[93,16,46,16],[93,17,46,17,"counter"],[93,24,46,24],[93,27,46,27,"value"],[93,32,46,32],[94,6,47,4],[95,6,48,4],[96,4,48,4],[97,6,48,4,"key"],[97,9,48,4],[98,6,48,4,"get"],[98,9,48,4],[98,11,49,4],[98,20,49,4,"get"],[98,21,49,4],[98,23,49,15],[99,8,50,8],[99,15,50,15],[99,19,50,19],[99,20,50,20,"ctx"],[99,23,50,23],[99,24,50,24,"seen"],[99,28,50,28],[100,6,51,4],[101,4,51,5],[102,6,51,5,"key"],[102,9,51,5],[103,6,51,5,"value"],[103,11,51,5],[103,13,72,4],[103,22,72,4,"process"],[103,29,72,11,"process"],[103,30,72,12,"schema"],[103,36,72,18],[103,38,72,60],[104,8,72,60],[104,12,72,20,"_params"],[104,19,72,27],[104,22,72,27,"arguments"],[104,31,72,27],[104,32,72,27,"length"],[104,38,72,27],[104,46,72,27,"arguments"],[104,55,72,27],[104,63,72,27,"undefined"],[104,72,72,27],[104,75,72,27,"arguments"],[104,84,72,27],[104,90,72,30],[105,10,72,32,"path"],[105,14,72,36],[105,16,72,38],[105,18,72,40],[106,10,72,42,"schemaPath"],[106,20,72,52],[106,22,72,54],[107,8,72,57],[107,9,72,58],[108,8,73,8],[108,15,73,15],[108,19,73,15,"process"],[108,45,73,15],[108,46,73,15,"process"],[108,76,73,22],[108,78,73,23,"schema"],[108,84,73,29],[108,86,73,31],[108,90,73,35],[108,91,73,36,"ctx"],[108,94,73,39],[108,96,73,41,"_params"],[108,103,73,48],[108,104,73,49],[109,6,74,4],[110,6,75,4],[111,0,76,0],[112,0,77,0],[113,0,78,0],[114,4,75,4],[115,6,75,4,"key"],[115,9,75,4],[116,6,75,4,"value"],[116,11,75,4],[116,13,79,4],[116,22,79,4,"emit"],[116,26,79,8,"emit"],[116,27,79,9,"schema"],[116,33,79,15],[116,35,79,17,"_params"],[116,42,79,24],[116,44,79,26],[117,8,80,8],[118,8,81,8],[118,12,81,12,"_params"],[118,19,81,19],[118,21,81,21],[119,10,82,12],[119,14,82,16,"_params"],[119,21,82,23],[119,22,82,24,"cycles"],[119,28,82,30],[119,30,83,16],[119,34,83,20],[119,35,83,21,"ctx"],[119,38,83,24],[119,39,83,25,"cycles"],[119,45,83,31],[119,48,83,34,"_params"],[119,55,83,41],[119,56,83,42,"cycles"],[119,62,83,48],[120,10,84,12],[120,14,84,16,"_params"],[120,21,84,23],[120,22,84,24,"reused"],[120,28,84,30],[120,30,85,16],[120,34,85,20],[120,35,85,21,"ctx"],[120,38,85,24],[120,39,85,25,"reused"],[120,45,85,31],[120,48,85,34,"_params"],[120,55,85,41],[120,56,85,42,"reused"],[120,62,85,48],[121,10,86,12],[121,14,86,16,"_params"],[121,21,86,23],[121,22,86,24,"external"],[121,30,86,32],[121,32,87,16],[121,36,87,20],[121,37,87,21,"ctx"],[121,40,87,24],[121,41,87,25,"external"],[121,49,87,33],[121,52,87,36,"_params"],[121,59,87,43],[121,60,87,44,"external"],[121,68,87,52],[122,8,88,8],[123,8,89,8],[123,12,89,8,"extractDefs"],[123,38,89,8],[123,39,89,8,"extractDefs"],[123,73,89,19],[123,75,89,20],[123,79,89,24],[123,80,89,25,"ctx"],[123,83,89,28],[123,85,89,30,"schema"],[123,91,89,36],[123,92,89,37],[124,8,90,8],[124,12,90,14,"result"],[124,18,90,20],[124,21,90,23],[124,25,90,23,"finalize"],[124,51,90,23],[124,52,90,23,"finalize"],[124,83,90,31],[124,85,90,32],[124,89,90,36],[124,90,90,37,"ctx"],[124,93,90,40],[124,95,90,42,"schema"],[124,101,90,48],[124,102,90,49],[125,8,91,8],[126,8,92,8],[126,12,92,29,"_"],[126,13,92,30],[126,16,92,51,"result"],[126,22,92,57],[126,23,92,16],[126,34,92,27],[127,10,92,35,"plainResult"],[127,21,92,46],[127,28,92,46,"_objectWithoutProperties2"],[127,53,92,46],[127,54,92,46,"default"],[127,61,92,46],[127,63,92,51,"result"],[127,69,92,57],[127,71,92,57,"_excluded"],[127,80,92,57],[128,8,93,8],[128,15,93,15,"plainResult"],[128,26,93,26],[129,6,94,4],[130,4,94,5],[131,2,94,5],[132,0,94,5],[132,3]],"functionMap":{"names":["<global>","JSONSchemaGenerator","JSONSchemaGenerator#get__metadataRegistry","JSONSchemaGenerator#get__target","JSONSchemaGenerator#get__unrepresentable","JSONSchemaGenerator#get__override","JSONSchemaGenerator#get__io","JSONSchemaGenerator#get__counter","JSONSchemaGenerator#set__counter","JSONSchemaGenerator#get__seen","JSONSchemaGenerator#constructor","JSONSchemaGenerator#process","JSONSchemaGenerator#emit"],"mappings":"AAA;OCmB;ICE;KDE;IEE;KFE;IGE;KHE;IIE;KJE;IKE;KLE;IME;KNE;IOC;KPE;IQE;KRE;ISC;KTe;IUK;KVE;IWK;KXe;CDC"}},"type":"js/module"}]}