{"dependencies":[{"name":"./PlatformChecker.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":103},"end":{"line":4,"column":64,"index":167}},{"start":{"line":4,"column":0,"index":103},"end":{"line":4,"column":64,"index":167}}],"key":"6AA7RQghlqlrd3hVWNoLh/rI420=","exportNames":["*"],"imports":2}},{"name":"./core.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":87,"index":102}},{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":87,"index":102}}],"key":"mJVVi7YU3vDVLm6ZethtbJGh1KY=","exportNames":["*"],"imports":2}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.updateLayoutAnimations = void 0;\n  function createUpdateManager() {\n    const animations = [];\n    // When a stack is rerendered we reconfigure all the shared elements.\n    // To do that we want them to appear in our batch in the correct order,\n    // so we defer some of the updates to appear at the end of the batch.\n    const deferredAnimations = [];\n    return {\n      update(batchItem, isUnmounting) {\n        if (isUnmounting) {\n          deferredAnimations.push(batchItem);\n        } else {\n          animations.push(batchItem);\n        }\n        if (animations.length + deferredAnimations.length === 1) {\n          (0, require(_dependencyMap[0], \"./PlatformChecker.js\").isFabric)() ? this.flush() : setImmediate(this.flush);\n        }\n      },\n      flush() {\n        (0, require(_dependencyMap[1], \"./core.js\").configureLayoutAnimationBatch)(animations.concat(deferredAnimations));\n        animations.length = 0;\n        deferredAnimations.length = 0;\n      }\n    };\n  }\n\n  /**\n   * Lets you update the current configuration of the layout animation or shared\n   * element transition for a given component. Configurations are batched and\n   * applied at the end of the current execution block, right before sending the\n   * response back to native.\n   *\n   * @param viewTag - The tag of the component you'd like to configure.\n   * @param type - The type of the animation you'd like to configure -\n   *   {@link LayoutAnimationType}.\n   * @param config - The animation configuration - {@link LayoutAnimationFunction},\n   *   {@link SharedTransitionAnimationsFunction}, {@link ProgressAnimationCallback}\n   *   or {@link Keyframe}. Passing `undefined` will remove the animation.\n   * @param sharedTransitionTag - The tag of the shared element transition you'd\n   *   like to configure. Passing `undefined` will remove the transition.\n   * @param isUnmounting - Determines whether the configuration should be included\n   *   at the end of the batch, after all the non-deferred configurations (even\n   *   those that were updated later). This is used to retain the correct ordering\n   *   of shared elements. Defaults to `false`.\n   */\n  let updateLayoutAnimations = exports.updateLayoutAnimations = void 0;\n  if ((0, require(_dependencyMap[0], \"./PlatformChecker.js\").shouldBeUseWeb)()) {\n    exports.updateLayoutAnimations = updateLayoutAnimations = () => {\n      // no-op\n    };\n  } else {\n    const updateLayoutAnimationsManager = createUpdateManager();\n    exports.updateLayoutAnimations = updateLayoutAnimations = (viewTag, type, config, sharedTransitionTag, isUnmounting) => updateLayoutAnimationsManager.update({\n      viewTag,\n      type,\n      config: config ? (0, require(_dependencyMap[1], \"./core.js\").makeShareableCloneRecursive)(config) : undefined,\n      sharedTransitionTag\n    }, isUnmounting);\n  }\n});","lineCount":66,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"updateLayoutAnimations"],[7,32,1,13],[8,2,5,0],[8,11,5,9,"createUpdateManager"],[8,30,5,28,"createUpdateManager"],[8,31,5,28],[8,33,5,31],[9,4,6,2],[9,10,6,8,"animations"],[9,20,6,18],[9,23,6,21],[9,25,6,23],[10,4,7,2],[11,4,8,2],[12,4,9,2],[13,4,10,2],[13,10,10,8,"deferredAnimations"],[13,28,10,26],[13,31,10,29],[13,33,10,31],[14,4,11,2],[14,11,11,9],[15,6,12,4,"update"],[15,12,12,10,"update"],[15,13,12,11,"batchItem"],[15,22,12,20],[15,24,12,22,"isUnmounting"],[15,36,12,34],[15,38,12,36],[16,8,13,6],[16,12,13,10,"isUnmounting"],[16,24,13,22],[16,26,13,24],[17,10,14,8,"deferredAnimations"],[17,28,14,26],[17,29,14,27,"push"],[17,33,14,31],[17,34,14,32,"batchItem"],[17,43,14,41],[17,44,14,42],[18,8,15,6],[18,9,15,7],[18,15,15,13],[19,10,16,8,"animations"],[19,20,16,18],[19,21,16,19,"push"],[19,25,16,23],[19,26,16,24,"batchItem"],[19,35,16,33],[19,36,16,34],[20,8,17,6],[21,8,18,6],[21,12,18,10,"animations"],[21,22,18,20],[21,23,18,21,"length"],[21,29,18,27],[21,32,18,30,"deferredAnimations"],[21,50,18,48],[21,51,18,49,"length"],[21,57,18,55],[21,62,18,60],[21,63,18,61],[21,65,18,63],[22,10,19,8],[22,14,19,8,"isFabric"],[22,40,19,8],[22,41,19,8,"isFabric"],[22,73,19,16],[22,75,19,17],[22,76,19,18],[22,79,19,21],[22,83,19,25],[22,84,19,26,"flush"],[22,89,19,31],[22,90,19,32],[22,91,19,33],[22,94,19,36,"setImmediate"],[22,106,19,48],[22,107,19,49],[22,111,19,53],[22,112,19,54,"flush"],[22,117,19,59],[22,118,19,60],[23,8,20,6],[24,6,21,4],[24,7,21,5],[25,6,22,4,"flush"],[25,11,22,9,"flush"],[25,12,22,9],[25,14,22,12],[26,8,23,6],[26,12,23,6,"configureLayoutAnimationBatch"],[26,38,23,6],[26,39,23,6,"configureLayoutAnimationBatch"],[26,81,23,35],[26,83,23,36,"animations"],[26,93,23,46],[26,94,23,47,"concat"],[26,100,23,53],[26,101,23,54,"deferredAnimations"],[26,119,23,72],[26,120,23,73],[26,121,23,74],[27,8,24,6,"animations"],[27,18,24,16],[27,19,24,17,"length"],[27,25,24,23],[27,28,24,26],[27,29,24,27],[28,8,25,6,"deferredAnimations"],[28,26,25,24],[28,27,25,25,"length"],[28,33,25,31],[28,36,25,34],[28,37,25,35],[29,6,26,4],[30,4,27,2],[30,5,27,3],[31,2,28,0],[33,2,30,0],[34,0,31,0],[35,0,32,0],[36,0,33,0],[37,0,34,0],[38,0,35,0],[39,0,36,0],[40,0,37,0],[41,0,38,0],[42,0,39,0],[43,0,40,0],[44,0,41,0],[45,0,42,0],[46,0,43,0],[47,0,44,0],[48,0,45,0],[49,0,46,0],[50,0,47,0],[51,0,48,0],[52,2,49,7],[52,6,49,11,"updateLayoutAnimations"],[52,28,49,33],[52,31,49,33,"exports"],[52,38,49,33],[52,39,49,33,"updateLayoutAnimations"],[52,61,49,33],[53,2,50,0],[53,6,50,4],[53,10,50,4,"shouldBeUseWeb"],[53,36,50,4],[53,37,50,4,"shouldBeUseWeb"],[53,75,50,18],[53,77,50,19],[53,78,50,20],[53,80,50,22],[54,4,51,2,"exports"],[54,11,51,2],[54,12,51,2,"updateLayoutAnimations"],[54,34,51,2],[54,37,51,2,"updateLayoutAnimations"],[54,59,51,24],[54,62,51,27,"updateLayoutAnimations"],[54,63,51,27],[54,68,51,33],[55,6,52,4],[56,4,52,4],[56,5,53,3],[57,2,54,0],[57,3,54,1],[57,9,54,7],[58,4,55,2],[58,10,55,8,"updateLayoutAnimationsManager"],[58,39,55,37],[58,42,55,40,"createUpdateManager"],[58,61,55,59],[58,62,55,60],[58,63,55,61],[59,4,56,2,"exports"],[59,11,56,2],[59,12,56,2,"updateLayoutAnimations"],[59,34,56,2],[59,37,56,2,"updateLayoutAnimations"],[59,59,56,24],[59,62,56,27,"updateLayoutAnimations"],[59,63,56,28,"viewTag"],[59,70,56,35],[59,72,56,37,"type"],[59,76,56,41],[59,78,56,43,"config"],[59,84,56,49],[59,86,56,51,"sharedTransitionTag"],[59,105,56,70],[59,107,56,72,"isUnmounting"],[59,119,56,84],[59,124,56,89,"updateLayoutAnimationsManager"],[59,153,56,118],[59,154,56,119,"update"],[59,160,56,125],[59,161,56,126],[60,6,57,4,"viewTag"],[60,13,57,11],[61,6,58,4,"type"],[61,10,58,8],[62,6,59,4,"config"],[62,12,59,10],[62,14,59,12,"config"],[62,20,59,18],[62,23,59,21],[62,27,59,21,"makeShareableCloneRecursive"],[62,53,59,21],[62,54,59,21,"makeShareableCloneRecursive"],[62,94,59,48],[62,96,59,49,"config"],[62,102,59,55],[62,103,59,56],[62,106,59,59,"undefined"],[62,115,59,68],[63,6,60,4,"sharedTransitionTag"],[64,4,61,2],[64,5,61,3],[64,7,61,5,"isUnmounting"],[64,19,61,17],[64,20,61,18],[65,2,62,0],[66,0,62,1],[66,3]],"functionMap":{"names":["<global>","createUpdateManager","update","flush","updateLayoutAnimations"],"mappings":"AAA;ACI;ICO;KDS;IEC;KFI;CDE;2BIuB;GJE;2BIG;kBJK"}},"type":"js/module"}]}