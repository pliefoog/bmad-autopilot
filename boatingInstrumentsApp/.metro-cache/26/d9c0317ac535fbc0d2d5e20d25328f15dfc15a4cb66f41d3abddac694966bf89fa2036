{"dependencies":[{"name":"./PlatformChecker.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":54,"index":69}}],"key":"6AA7RQghlqlrd3hVWNoLh/rI420=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.shareableMappingFlag = exports.shareableMappingCache = void 0;\n  const SHOULD_BE_USE_WEB = (0, require(_dependencyMap[0], \"./PlatformChecker.js\").shouldBeUseWeb)();\n\n  /**\n   * This symbol is used to represent a mapping from the value to itself.\n   *\n   * It's used to prevent converting a shareable that's already converted - for\n   * example a Shared Value that's in worklet's closure.\n   */\n  const shareableMappingFlag = exports.shareableMappingFlag = Symbol('shareable flag');\n\n  /*\n  During a fast refresh, React holds the same instance of a Mutable\n  (that's guaranteed by `useRef`) but `shareableCache` gets regenerated and thus\n  becoming empty. This happens when editing the file that contains the definition of this cache.\n  \n  Because of it, `makeShareableCloneRecursive` can't find given mapping\n  in `shareableCache` for the Mutable and tries to clone it as if it was a regular JS object.\n  During cloning we use `Object.entries` to iterate over the keys which throws an error on accessing `_value`.\n  For convenience we moved this cache to a separate file so it doesn't scare us with red squiggles.\n  */\n\n  const cache = SHOULD_BE_USE_WEB ? null : new WeakMap();\n  const shareableMappingCache = exports.shareableMappingCache = SHOULD_BE_USE_WEB ? {\n    set() {\n      // NOOP\n    },\n    get() {\n      return null;\n    }\n  } : {\n    set(shareable, shareableRef) {\n      cache.set(shareable, shareableRef || shareableMappingFlag);\n    },\n    get: cache.get.bind(cache)\n  };\n});","lineCount":43,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"shareableMappingFlag"],[7,30,1,13],[7,33,1,13,"exports"],[7,40,1,13],[7,41,1,13,"shareableMappingCache"],[7,62,1,13],[8,2,4,0],[8,8,4,6,"SHOULD_BE_USE_WEB"],[8,25,4,23],[8,28,4,26],[8,32,4,26,"shouldBeUseWeb"],[8,58,4,26],[8,59,4,26,"shouldBeUseWeb"],[8,97,4,40],[8,99,4,41],[8,100,4,42],[10,2,6,0],[11,0,7,0],[12,0,8,0],[13,0,9,0],[14,0,10,0],[15,0,11,0],[16,2,12,7],[16,8,12,13,"shareableMappingFlag"],[16,28,12,33],[16,31,12,33,"exports"],[16,38,12,33],[16,39,12,33,"shareableMappingFlag"],[16,59,12,33],[16,62,12,36,"Symbol"],[16,68,12,42],[16,69,12,43],[16,85,12,59],[16,86,12,60],[18,2,14,0],[19,0,15,0],[20,0,16,0],[21,0,17,0],[22,0,18,0],[23,0,19,0],[24,0,20,0],[25,0,21,0],[26,0,22,0],[27,0,23,0],[29,2,25,0],[29,8,25,6,"cache"],[29,13,25,11],[29,16,25,14,"SHOULD_BE_USE_WEB"],[29,33,25,31],[29,36,25,34],[29,40,25,38],[29,43,25,41],[29,47,25,45,"WeakMap"],[29,54,25,52],[29,55,25,53],[29,56,25,54],[30,2,26,7],[30,8,26,13,"shareableMappingCache"],[30,29,26,34],[30,32,26,34,"exports"],[30,39,26,34],[30,40,26,34,"shareableMappingCache"],[30,61,26,34],[30,64,26,37,"SHOULD_BE_USE_WEB"],[30,81,26,54],[30,84,26,57],[31,4,27,2,"set"],[31,7,27,5,"set"],[31,8,27,5],[31,10,27,8],[32,6,28,4],[33,4,28,4],[33,5,29,3],[34,4,30,2,"get"],[34,7,30,5,"get"],[34,8,30,5],[34,10,30,8],[35,6,31,4],[35,13,31,11],[35,17,31,15],[36,4,32,2],[37,2,33,0],[37,3,33,1],[37,6,33,4],[38,4,34,2,"set"],[38,7,34,5,"set"],[38,8,34,6,"shareable"],[38,17,34,15],[38,19,34,17,"shareableRef"],[38,31,34,29],[38,33,34,31],[39,6,35,4,"cache"],[39,11,35,9],[39,12,35,10,"set"],[39,15,35,13],[39,16,35,14,"shareable"],[39,25,35,23],[39,27,35,25,"shareableRef"],[39,39,35,37],[39,43,35,41,"shareableMappingFlag"],[39,63,35,61],[39,64,35,62],[40,4,36,2],[40,5,36,3],[41,4,37,2,"get"],[41,7,37,5],[41,9,37,7,"cache"],[41,14,37,12],[41,15,37,13,"get"],[41,18,37,16],[41,19,37,17,"bind"],[41,23,37,21],[41,24,37,22,"cache"],[41,29,37,27],[42,2,38,0],[42,3,38,1],[43,0,38,2],[43,3]],"functionMap":{"names":["<global>","set","get"],"mappings":"AAA;EC0B;GDE;EEC;GFE;ECE;GDE"}},"type":"js/module"}]}