{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":265},"end":{"line":9,"column":44,"index":309}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":310},"end":{"line":10,"column":69,"index":379}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useOnboarding = exports.resetOnboardingStatus = void 0;\n  var _react = require(_dependencyMap[1], \"react\");\n  var _asyncStorage = _interopRequireDefault(require(_dependencyMap[2], \"@react-native-async-storage/async-storage\"));\n  var _s = $RefreshSig$();\n  /**\n   * Onboarding Hook\n   * Story 4.4 AC11: First-run detection and onboarding state management\n   *\n   * Manages onboarding flow state using AsyncStorage to detect first-run users.\n   * Provides methods to trigger onboarding, mark complete, and replay from settings.\n   */\n  const ONBOARDING_STORAGE_KEY = '@bmad_autopilot:has_completed_onboarding';\n  const useOnboarding = () => {\n    _s();\n    const [isOnboardingVisible, setIsOnboardingVisible] = (0, _react.useState)(false);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkOnboardingStatus();\n    }, []);\n    const checkOnboardingStatus = async () => {\n      try {\n        const hasCompleted = await _asyncStorage.default.getItem(ONBOARDING_STORAGE_KEY);\n        if (hasCompleted !== 'true') {\n          // First-run user - show onboarding\n          setIsOnboardingVisible(true);\n        }\n      } catch (error) {\n        console.error('Failed to check onboarding status:', error);\n        // On error, don't show onboarding to avoid blocking the app\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const showOnboarding = () => {\n      setIsOnboardingVisible(true);\n    };\n    const completeOnboarding = async () => {\n      try {\n        await _asyncStorage.default.setItem(ONBOARDING_STORAGE_KEY, 'true');\n        setIsOnboardingVisible(false);\n      } catch (error) {\n        console.error('Failed to save onboarding completion:', error);\n        // Still hide onboarding even if save fails\n        setIsOnboardingVisible(false);\n      }\n    };\n    const skipOnboarding = async () => {\n      // Skipping also marks as complete so user isn't prompted again\n      await completeOnboarding();\n    };\n    const replayOnboarding = () => {\n      setIsOnboardingVisible(true);\n    };\n    return {\n      isOnboardingVisible,\n      isLoading,\n      showOnboarding,\n      completeOnboarding,\n      skipOnboarding,\n      replayOnboarding\n    };\n  };\n\n  /**\n   * Reset onboarding status (for testing)\n   * Call this to simulate first-run experience\n   */\n  exports.useOnboarding = useOnboarding;\n  _s(useOnboarding, \"hIflIqa8yVhwEyLRz2YKZ6uYqW4=\");\n  const resetOnboardingStatus = async () => {\n    try {\n      await _asyncStorage.default.removeItem(ONBOARDING_STORAGE_KEY);\n    } catch (error) {\n      console.error('Failed to reset onboarding status:', error);\n      throw error;\n    }\n  };\n  exports.resetOnboardingStatus = resetOnboardingStatus;\n});","lineCount":84,"map":[[7,2,9,0],[7,6,9,0,"_react"],[7,12,9,0],[7,15,9,0,"require"],[7,22,9,0],[7,23,9,0,"_dependencyMap"],[7,37,9,0],[8,2,10,0],[8,6,10,0,"_asyncStorage"],[8,19,10,0],[8,22,10,0,"_interopRequireDefault"],[8,44,10,0],[8,45,10,0,"require"],[8,52,10,0],[8,53,10,0,"_dependencyMap"],[8,67,10,0],[9,2,10,69],[9,6,10,69,"_s"],[9,8,10,69],[9,11,10,69,"$RefreshSig$"],[9,23,10,69],[10,2,1,0],[11,0,2,0],[12,0,3,0],[13,0,4,0],[14,0,5,0],[15,0,6,0],[16,0,7,0],[17,2,12,0],[17,8,12,6,"ONBOARDING_STORAGE_KEY"],[17,30,12,28],[17,33,12,31],[17,75,12,73],[18,2,29,7],[18,8,29,13,"useOnboarding"],[18,21,29,26],[18,24,29,29,"useOnboarding"],[18,25,29,29],[18,30,29,56],[19,4,29,56,"_s"],[19,6,29,56],[20,4,30,2],[20,10,30,8],[20,11,30,9,"isOnboardingVisible"],[20,30,30,28],[20,32,30,30,"setIsOnboardingVisible"],[20,54,30,52],[20,55,30,53],[20,58,30,56],[20,62,30,56,"useState"],[20,77,30,64],[20,79,30,65],[20,84,30,70],[20,85,30,71],[21,4,31,2],[21,10,31,8],[21,11,31,9,"isLoading"],[21,20,31,18],[21,22,31,20,"setIsLoading"],[21,34,31,32],[21,35,31,33],[21,38,31,36],[21,42,31,36,"useState"],[21,57,31,44],[21,59,31,45],[21,63,31,49],[21,64,31,50],[22,4,33,2],[22,8,33,2,"useEffect"],[22,24,33,11],[22,26,33,12],[22,32,33,18],[23,6,34,4,"checkOnboardingStatus"],[23,27,34,25],[23,28,34,26],[23,29,34,27],[24,4,35,2],[24,5,35,3],[24,7,35,5],[24,9,35,7],[24,10,35,8],[25,4,37,2],[25,10,37,8,"checkOnboardingStatus"],[25,31,37,29],[25,34,37,32],[25,40,37,32,"checkOnboardingStatus"],[25,41,37,32],[25,46,37,44],[26,6,38,4],[26,10,38,8],[27,8,39,6],[27,14,39,12,"hasCompleted"],[27,26,39,24],[27,29,39,27],[27,35,39,33,"AsyncStorage"],[27,56,39,45],[27,57,39,46,"getItem"],[27,64,39,53],[27,65,39,54,"ONBOARDING_STORAGE_KEY"],[27,87,39,76],[27,88,39,77],[28,8,41,6],[28,12,41,10,"hasCompleted"],[28,24,41,22],[28,29,41,27],[28,35,41,33],[28,37,41,35],[29,10,42,8],[30,10,43,8,"setIsOnboardingVisible"],[30,32,43,30],[30,33,43,31],[30,37,43,35],[30,38,43,36],[31,8,44,6],[32,6,45,4],[32,7,45,5],[32,8,45,6],[32,15,45,13,"error"],[32,20,45,18],[32,22,45,20],[33,8,46,6,"console"],[33,15,46,13],[33,16,46,14,"error"],[33,21,46,19],[33,22,46,20],[33,58,46,56],[33,60,46,58,"error"],[33,65,46,63],[33,66,46,64],[34,8,47,6],[35,6,48,4],[35,7,48,5],[35,16,48,14],[36,8,49,6,"setIsLoading"],[36,20,49,18],[36,21,49,19],[36,26,49,24],[36,27,49,25],[37,6,50,4],[38,4,51,2],[38,5,51,3],[39,4,53,2],[39,10,53,8,"showOnboarding"],[39,24,53,22],[39,27,53,25,"showOnboarding"],[39,28,53,25],[39,33,53,31],[40,6,54,4,"setIsOnboardingVisible"],[40,28,54,26],[40,29,54,27],[40,33,54,31],[40,34,54,32],[41,4,55,2],[41,5,55,3],[42,4,57,2],[42,10,57,8,"completeOnboarding"],[42,28,57,26],[42,31,57,29],[42,37,57,29,"completeOnboarding"],[42,38,57,29],[42,43,57,41],[43,6,58,4],[43,10,58,8],[44,8,59,6],[44,14,59,12,"AsyncStorage"],[44,35,59,24],[44,36,59,25,"setItem"],[44,43,59,32],[44,44,59,33,"ONBOARDING_STORAGE_KEY"],[44,66,59,55],[44,68,59,57],[44,74,59,63],[44,75,59,64],[45,8,60,6,"setIsOnboardingVisible"],[45,30,60,28],[45,31,60,29],[45,36,60,34],[45,37,60,35],[46,6,61,4],[46,7,61,5],[46,8,61,6],[46,15,61,13,"error"],[46,20,61,18],[46,22,61,20],[47,8,62,6,"console"],[47,15,62,13],[47,16,62,14,"error"],[47,21,62,19],[47,22,62,20],[47,61,62,59],[47,63,62,61,"error"],[47,68,62,66],[47,69,62,67],[48,8,63,6],[49,8,64,6,"setIsOnboardingVisible"],[49,30,64,28],[49,31,64,29],[49,36,64,34],[49,37,64,35],[50,6,65,4],[51,4,66,2],[51,5,66,3],[52,4,68,2],[52,10,68,8,"skipOnboarding"],[52,24,68,22],[52,27,68,25],[52,33,68,25,"skipOnboarding"],[52,34,68,25],[52,39,68,37],[53,6,69,4],[54,6,70,4],[54,12,70,10,"completeOnboarding"],[54,30,70,28],[54,31,70,29],[54,32,70,30],[55,4,71,2],[55,5,71,3],[56,4,73,2],[56,10,73,8,"replayOnboarding"],[56,26,73,24],[56,29,73,27,"replayOnboarding"],[56,30,73,27],[56,35,73,33],[57,6,74,4,"setIsOnboardingVisible"],[57,28,74,26],[57,29,74,27],[57,33,74,31],[57,34,74,32],[58,4,75,2],[58,5,75,3],[59,4,77,2],[59,11,77,9],[60,6,78,4,"isOnboardingVisible"],[60,25,78,23],[61,6,79,4,"isLoading"],[61,15,79,13],[62,6,80,4,"showOnboarding"],[62,20,80,18],[63,6,81,4,"completeOnboarding"],[63,24,81,22],[64,6,82,4,"skipOnboarding"],[64,20,82,18],[65,6,83,4,"replayOnboarding"],[66,4,84,2],[66,5,84,3],[67,2,85,0],[67,3,85,1],[69,2,87,0],[70,0,88,0],[71,0,89,0],[72,0,90,0],[73,2,87,0,"exports"],[73,9,87,0],[73,10,87,0,"useOnboarding"],[73,23,87,0],[73,26,87,0,"useOnboarding"],[73,39,87,0],[74,2,87,0,"_s"],[74,4,87,0],[74,5,29,13,"useOnboarding"],[74,18,29,26],[75,2,91,7],[75,8,91,13,"resetOnboardingStatus"],[75,29,91,34],[75,32,91,37],[75,38,91,37,"resetOnboardingStatus"],[75,39,91,37],[75,44,91,64],[76,4,92,2],[76,8,92,6],[77,6,93,4],[77,12,93,10,"AsyncStorage"],[77,33,93,22],[77,34,93,23,"removeItem"],[77,44,93,33],[77,45,93,34,"ONBOARDING_STORAGE_KEY"],[77,67,93,56],[77,68,93,57],[78,4,94,2],[78,5,94,3],[78,6,94,4],[78,13,94,11,"error"],[78,18,94,16],[78,20,94,18],[79,6,95,4,"console"],[79,13,95,11],[79,14,95,12,"error"],[79,19,95,17],[79,20,95,18],[79,56,95,54],[79,58,95,56,"error"],[79,63,95,61],[79,64,95,62],[80,6,96,4],[80,12,96,10,"error"],[80,17,96,15],[81,4,97,2],[82,2,98,0],[82,3,98,1],[83,2,98,2,"exports"],[83,9,98,2],[83,10,98,2,"resetOnboardingStatus"],[83,31,98,2],[83,34,98,2,"resetOnboardingStatus"],[83,55,98,2],[84,0,98,2],[84,3]],"functionMap":{"names":["<global>","useOnboarding","useEffect$argument_0","checkOnboardingStatus","showOnboarding","completeOnboarding","skipOnboarding","replayOnboarding","resetOnboardingStatus"],"mappings":"AAA;6BC4B;YCI;GDE;gCEE;GFc;yBGE;GHE;6BIE;GJS;yBKE;GLG;2BME;GNE;CDU;qCQM;CRO"}},"type":"js/module"}]}