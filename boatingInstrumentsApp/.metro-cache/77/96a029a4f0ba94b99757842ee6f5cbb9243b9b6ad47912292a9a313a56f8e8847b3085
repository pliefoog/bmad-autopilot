{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"fGo7mEc/tw/OblLqGBCp3J3h+jY=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":39,"index":39}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../components/PrimaryMetricCell","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":144},"end":{"line":4,"column":64,"index":208}}],"key":"3DDzLsdfTvTNBmG8Spe0u9r7zdA=","exportNames":["*"],"imports":1}},{"name":"../components/SecondaryMetricCell","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":209},"end":{"line":5,"column":68,"index":277}}],"key":"wcV0jWEo7RPAw1zYxnixmE82xSU=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}},{"name":"../store/nmeaStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":93},"end":{"line":3,"column":50,"index":143}},{"start":{"line":3,"column":0,"index":93},"end":{"line":3,"column":50,"index":143}},{"start":{"line":3,"column":0,"index":93},"end":{"line":3,"column":50,"index":143}},{"start":{"line":3,"column":0,"index":93},"end":{"line":3,"column":50,"index":143}}],"key":"yzZczWKas9lrOaIoMdO4acDolm0=","exportNames":["*"],"imports":4}},{"name":"../components/TemplatedWidget","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":278},"end":{"line":6,"column":64,"index":342}}],"key":"GY3Z932A/ZLytDwxP+vWRoaj6WY=","exportNames":["*"],"imports":1}},{"name":"../components/TrendLine","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":40},"end":{"line":2,"column":52,"index":92}}],"key":"55VyAXKlbRN/idBspGLZ9LoFELY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireWildcard = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireWildcard\").default;\n  var _interopRequireDefault = require(_dependencyMap[1], \"@babel/runtime/helpers/interopRequireDefault\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = exports.DepthWidget = void 0;\n  var _react = _interopRequireWildcard(require(_dependencyMap[2], \"react\"));\n  var _PrimaryMetricCell = _interopRequireDefault(require(_dependencyMap[3], \"../components/PrimaryMetricCell\"));\n  var _SecondaryMetricCell = _interopRequireDefault(require(_dependencyMap[4], \"../components/SecondaryMetricCell\"));\n  var _jsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  var _jsxFileName = \"/Volumes/SSD_I/Dev/JSDev/bmad-autopilot/boatingInstrumentsApp/src/widgets/DepthWidget.tsx\",\n    _s = $RefreshSig$();\n  /**\n   * Depth Widget - Registry-First Declarative Implementation\n   *\n   * **Before (263 lines):**\n   * - Manual metric extraction\n   * - Manual display value creation\n   * - Manual alarm state extraction\n   * - Manual source info parsing\n   * - UnifiedWidgetGrid setup\n   *\n   * **After (~85 lines):**\n   * - Pure configuration\n   * - Auto-fetch everything\n   * - TemplatedWidget handles layout\n   * - MetricCells handle display\n   * - TrendLine self-subscribes\n   *\n   * **Layout:** 2Rx1C primary (depth value + TrendLine) + 2Rx1C secondary (min/max stats)\n   *\n   * **Virtual Metrics Pattern (Single Sensor):**\n   * - Current depth: `metricKey=\"depth\"` (no sensorKey needed - primary sensor implicit)\n   * - Session minimum: `metricKey=\"depth.min\"` (calculated from history buffer)\n   * - Session maximum: `metricKey=\"depth.max\"` (calculated from history buffer)\n   * - Session average: `metricKey=\"depth.avg\"` (calculated from history buffer)\n   *\n   * **How Virtual Metrics Work:**\n   * 1. SecondaryMetricCell receives `metricKey=\"depth.min\"`\n   * 2. Strips `.min` suffix to look up \"depth\" field config in SensorConfigRegistry\n   * 3. Calls `sensorInstance.getMetric('depth.min')` which:\n   *    - Parses suffix using regex `/\\.(min|max|avg)$/`\n   *    - Fetches history buffer via `getHistory('depth')`\n   *    - Calculates `Math.min(...values)` across all history points\n   *    - Returns enriched MetricValue with proper units/formatting\n   * 4. Component adds stat prefix to mnemonic: \"DEPTH\" â†’ \"MIN DEPTH\"\n   *\n   * **TrendLine Integration:**\n   * - TrendLine component also supports virtual metrics with same dot notation\n   * - Can render trends of min/max/avg values: `<TrendLine metricKey=\"depth.max\" />`\n   */\n  var DepthWidget = exports.DepthWidget = /*#__PURE__*/_s(/*#__PURE__*/_react.default.memo(_c = _s(_ref => {\n    _s();\n    var id = _ref.id;\n    // Extract instance number from widget ID\n    var instanceNumber = (0, _react.useMemo)(() => {\n      var match = id.match(/depth-(\\d+)/);\n      return match ? parseInt(match[1], 10) : 0;\n    }, [id]);\n\n    // Get SensorInstance - single source of truth\n    var depthSensorInstance = (0, require(_dependencyMap[6], \"../store/nmeaStore\").useNmeaStore)(state => state.nmeaData.sensors.depth?.[instanceNumber]);\n\n    // Subscribe to timestamp to trigger re-renders when data changes\n    var _timestamp = (0, require(_dependencyMap[6], \"../store/nmeaStore\").useNmeaStore)(state => state.nmeaData.sensors.depth?.[instanceNumber]?.timestamp);\n    return /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(require(_dependencyMap[7], \"../components/TemplatedWidget\").TemplatedWidget, {\n      template: \"2Rx1C-SEP-2Rx1C\",\n      sensorInstance: depthSensorInstance,\n      sensorType: \"depth\",\n      testID: `depth-widget-${instanceNumber}`,\n      children: [/*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(_PrimaryMetricCell.default, {\n        metricKey: \"depth\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(require(_dependencyMap[8], \"../components/TrendLine\").TrendLine, {\n        metricKey: \"depth\",\n        timeWindowMs: 5 * 60 * 1000,\n        usePrimaryLine: true,\n        showXAxis: true,\n        showYAxis: true,\n        xAxisPosition: \"top\",\n        yAxisDirection: \"down\",\n        showTimeLabels: true,\n        strokeWidth: 2,\n        forceZero: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(_SecondaryMetricCell.default, {\n        metricKey: \"depth.min\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(_SecondaryMetricCell.default, {\n        metricKey: \"depth.max\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }, this);\n  }, \"EbvkvRHvBBI43qahx8Ic2DMbKg4=\", false, function () {\n    return [require(_dependencyMap[6], \"../store/nmeaStore\").useNmeaStore, require(_dependencyMap[6], \"../store/nmeaStore\").useNmeaStore];\n  })), \"EbvkvRHvBBI43qahx8Ic2DMbKg4=\", false, function () {\n    return [useNmeaStore, useNmeaStore];\n  });\n  _c2 = DepthWidget;\n  var _default = exports.default = DepthWidget;\n  var _c, _c2;\n  $RefreshReg$(_c, \"DepthWidget$React.memo\");\n  $RefreshReg$(_c2, \"DepthWidget\");\n});","lineCount":121,"map":[[8,2,1,0],[8,6,1,0,"_react"],[8,12,1,0],[8,15,1,0,"_interopRequireWildcard"],[8,38,1,0],[8,39,1,0,"require"],[8,46,1,0],[8,47,1,0,"_dependencyMap"],[8,61,1,0],[9,2,4,0],[9,6,4,0,"_PrimaryMetricCell"],[9,24,4,0],[9,27,4,0,"_interopRequireDefault"],[9,49,4,0],[9,50,4,0,"require"],[9,57,4,0],[9,58,4,0,"_dependencyMap"],[9,72,4,0],[10,2,5,0],[10,6,5,0,"_SecondaryMetricCell"],[10,26,5,0],[10,29,5,0,"_interopRequireDefault"],[10,51,5,0],[10,52,5,0,"require"],[10,59,5,0],[10,60,5,0,"_dependencyMap"],[10,74,5,0],[11,2,5,68],[11,6,5,68,"_jsxDevRuntime"],[11,20,5,68],[11,23,5,68,"require"],[11,30,5,68],[11,31,5,68,"_dependencyMap"],[11,45,5,68],[12,2,5,68],[12,6,5,68,"_jsxFileName"],[12,18,5,68],[13,4,5,68,"_s"],[13,6,5,68],[13,9,5,68,"$RefreshSig$"],[13,21,5,68],[14,2,14,0],[15,0,15,0],[16,0,16,0],[17,0,17,0],[18,0,18,0],[19,0,19,0],[20,0,20,0],[21,0,21,0],[22,0,22,0],[23,0,23,0],[24,0,24,0],[25,0,25,0],[26,0,26,0],[27,0,27,0],[28,0,28,0],[29,0,29,0],[30,0,30,0],[31,0,31,0],[32,0,32,0],[33,0,33,0],[34,0,34,0],[35,0,35,0],[36,0,36,0],[37,0,37,0],[38,0,38,0],[39,0,39,0],[40,0,40,0],[41,0,41,0],[42,0,42,0],[43,0,43,0],[44,0,44,0],[45,0,45,0],[46,0,46,0],[47,0,47,0],[48,0,48,0],[49,0,49,0],[50,0,50,0],[51,0,51,0],[52,0,52,0],[53,2,53,7],[53,6,53,13,"DepthWidget"],[53,17,53,52],[53,20,53,52,"exports"],[53,27,53,52],[53,28,53,52,"DepthWidget"],[53,39,53,52],[53,55,53,52,"_s"],[53,57,53,52],[53,71,53,55,"React"],[53,85,53,60],[53,86,53,61,"memo"],[53,90,53,65],[53,91,53,65,"_c"],[53,93,53,65],[53,96,53,65,"_s"],[53,98,53,65],[53,99,53,66,"_ref"],[53,103,53,66],[53,107,53,78],[54,4,53,78,"_s"],[54,6,53,78],[55,4,53,78],[55,8,53,69,"id"],[55,10,53,71],[55,13,53,71,"_ref"],[55,17,53,71],[55,18,53,69,"id"],[55,20,53,71],[56,4,54,2],[57,4,55,2],[57,8,55,8,"instanceNumber"],[57,22,55,22],[57,25,55,25],[57,29,55,25,"useMemo"],[57,43,55,32],[57,45,55,33],[57,51,55,39],[58,6,56,4],[58,10,56,10,"match"],[58,15,56,15],[58,18,56,18,"id"],[58,20,56,20],[58,21,56,21,"match"],[58,26,56,26],[58,27,56,27],[58,40,56,40],[58,41,56,41],[59,6,57,4],[59,13,57,11,"match"],[59,18,57,16],[59,21,57,19,"parseInt"],[59,29,57,27],[59,30,57,28,"match"],[59,35,57,33],[59,36,57,34],[59,37,57,35],[59,38,57,36],[59,40,57,38],[59,42,57,40],[59,43,57,41],[59,46,57,44],[59,47,57,45],[60,4,58,2],[60,5,58,3],[60,7,58,5],[60,8,58,6,"id"],[60,10,58,8],[60,11,58,9],[60,12,58,10],[62,4,60,2],[63,4,61,2],[63,8,61,8,"depthSensorInstance"],[63,27,61,27],[63,30,61,30],[63,34,61,30,"useNmeaStore"],[63,60,61,30],[63,61,61,30,"useNmeaStore"],[63,95,61,42],[63,97,62,5,"state"],[63,102,62,10],[63,106,62,15,"state"],[63,111,62,20],[63,112,62,21,"nmeaData"],[63,120,62,29],[63,121,62,30,"sensors"],[63,128,62,37],[63,129,62,38,"depth"],[63,134,62,43],[63,137,62,46,"instanceNumber"],[63,151,62,60],[63,152,63,2],[63,153,63,3],[65,4,65,2],[66,4,66,2],[66,8,66,8,"_timestamp"],[66,18,66,18],[66,21,66,21],[66,25,66,21,"useNmeaStore"],[66,51,66,21],[66,52,66,21,"useNmeaStore"],[66,86,66,33],[66,88,67,5,"state"],[66,93,67,10],[66,97,67,15,"state"],[66,102,67,20],[66,103,67,21,"nmeaData"],[66,111,67,29],[66,112,67,30,"sensors"],[66,119,67,37],[66,120,67,38,"depth"],[66,125,67,43],[66,128,67,46,"instanceNumber"],[66,142,67,60],[66,143,67,61],[66,145,67,63,"timestamp"],[66,154,68,2],[66,155,68,3],[67,4,70,2],[67,24,71,4],[67,28,71,4,"_jsxDevRuntime"],[67,42,71,4],[67,43,71,4,"jsxDEV"],[67,49,71,4],[67,51,71,5,"require"],[67,58,71,5],[67,59,71,5,"_dependencyMap"],[67,73,71,5],[67,111,71,5,"TemplatedWidget"],[67,126,71,20],[68,6,72,6,"template"],[68,14,72,14],[68,16,72,15],[68,33,72,32],[69,6,73,6,"sensorInstance"],[69,20,73,20],[69,22,73,22,"depthSensorInstance"],[69,41,73,42],[70,6,74,6,"sensorType"],[70,16,74,16],[70,18,74,17],[70,25,74,24],[71,6,75,6,"testID"],[71,12,75,12],[71,14,75,14],[71,30,75,30,"instanceNumber"],[71,44,75,44],[71,46,75,47],[72,6,75,47,"children"],[72,14,75,47],[72,30,78,6],[72,34,78,6,"_jsxDevRuntime"],[72,48,78,6],[72,49,78,6,"jsxDEV"],[72,55,78,6],[72,57,78,7,"_PrimaryMetricCell"],[72,75,78,7],[72,76,78,7,"default"],[72,83,78,24],[73,8,78,25,"metricKey"],[73,17,78,34],[73,19,78,35],[74,6,78,42],[75,8,78,42,"fileName"],[75,16,78,42],[75,18,78,42,"_jsxFileName"],[75,30,78,42],[76,8,78,42,"lineNumber"],[76,18,78,42],[77,8,78,42,"columnNumber"],[77,20,78,42],[78,6,78,42],[78,13,78,44],[78,14,78,45],[78,29,81,6],[78,33,81,6,"_jsxDevRuntime"],[78,47,81,6],[78,48,81,6,"jsxDEV"],[78,54,81,6],[78,56,81,7,"require"],[78,63,81,7],[78,64,81,7,"_dependencyMap"],[78,78,81,7],[78,110,81,7,"TrendLine"],[78,119,81,16],[79,8,82,8,"metricKey"],[79,17,82,17],[79,19,82,18],[79,26,82,25],[80,8,83,8,"timeWindowMs"],[80,20,83,20],[80,22,83,22],[80,23,83,23],[80,26,83,26],[80,28,83,28],[80,31,83,31],[80,35,83,36],[81,8,84,8,"usePrimaryLine"],[81,22,84,22],[82,8,85,8,"showXAxis"],[82,17,85,17],[83,8,86,8,"showYAxis"],[83,17,86,17],[84,8,87,8,"xAxisPosition"],[84,21,87,21],[84,23,87,22],[84,28,87,27],[85,8,88,8,"yAxisDirection"],[85,22,88,22],[85,24,88,23],[85,30,88,29],[86,8,89,8,"showTimeLabels"],[86,22,89,22],[87,8,90,8,"strokeWidth"],[87,19,90,19],[87,21,90,21],[87,22,90,23],[88,8,91,8,"forceZero"],[88,17,91,17],[89,6,91,17],[90,8,91,17,"fileName"],[90,16,91,17],[90,18,91,17,"_jsxFileName"],[90,30,91,17],[91,8,91,17,"lineNumber"],[91,18,91,17],[92,8,91,17,"columnNumber"],[92,20,91,17],[93,6,91,17],[93,13,92,7],[93,14,92,8],[93,29,95,6],[93,33,95,6,"_jsxDevRuntime"],[93,47,95,6],[93,48,95,6,"jsxDEV"],[93,54,95,6],[93,56,95,7,"_SecondaryMetricCell"],[93,76,95,7],[93,77,95,7,"default"],[93,84,95,26],[94,8,95,27,"metricKey"],[94,17,95,36],[94,19,95,37],[95,6,95,48],[96,8,95,48,"fileName"],[96,16,95,48],[96,18,95,48,"_jsxFileName"],[96,30,95,48],[97,8,95,48,"lineNumber"],[97,18,95,48],[98,8,95,48,"columnNumber"],[98,20,95,48],[99,6,95,48],[99,13,95,50],[99,14,95,51],[99,29,96,6],[99,33,96,6,"_jsxDevRuntime"],[99,47,96,6],[99,48,96,6,"jsxDEV"],[99,54,96,6],[99,56,96,7,"_SecondaryMetricCell"],[99,76,96,7],[99,77,96,7,"default"],[99,84,96,26],[100,8,96,27,"metricKey"],[100,17,96,36],[100,19,96,37],[101,6,96,48],[102,8,96,48,"fileName"],[102,16,96,48],[102,18,96,48,"_jsxFileName"],[102,30,96,48],[103,8,96,48,"lineNumber"],[103,18,96,48],[104,8,96,48,"columnNumber"],[104,20,96,48],[105,6,96,48],[105,13,96,50],[105,14,96,51],[106,4,96,51],[107,6,96,51,"fileName"],[107,14,96,51],[107,16,96,51,"_jsxFileName"],[107,28,96,51],[108,6,96,51,"lineNumber"],[108,16,96,51],[109,6,96,51,"columnNumber"],[109,18,96,51],[110,4,96,51],[110,11,97,21],[110,12,97,22],[111,2,99,0],[111,3,99,1],[112,4,99,1],[112,12,61,30,"useNmeaStore"],[112,38,61,30],[112,39,61,30,"useNmeaStore"],[112,73,61,42],[112,75,66,21,"useNmeaStore"],[112,101,66,21],[112,102,66,21,"useNmeaStore"],[112,136,66,33],[113,2,66,33],[113,4,99,1],[113,5,99,2],[114,4,99,2],[114,12,61,30,"useNmeaStore"],[114,24,61,42],[114,26,66,21,"useNmeaStore"],[114,38,66,33],[115,2,66,33],[115,4,99,2],[116,2,99,3,"_c2"],[116,5,99,3],[116,8,53,13,"DepthWidget"],[116,19,53,52],[117,2,53,52],[117,6,53,52,"_default"],[117,14,53,52],[117,17,53,52,"exports"],[117,24,53,52],[117,25,53,52,"default"],[117,32,53,52],[117,35,101,15,"DepthWidget"],[117,46,101,26],[118,2,101,26],[118,6,101,26,"_c"],[118,8,101,26],[118,10,101,26,"_c2"],[118,13,101,26],[119,2,101,26,"$RefreshReg$"],[119,14,101,26],[119,15,101,26,"_c"],[119,17,101,26],[120,2,101,26,"$RefreshReg$"],[120,14,101,26],[120,15,101,26,"_c2"],[120,18,101,26],[121,0,101,26],[121,3]],"functionMap":{"names":["<global>","React.memo$argument_0","useMemo$argument_0","useNmeaStore$argument_0"],"mappings":"AAA;kECoD;iCCE;GDG;IEI,yDF;IEK,oEF;CDgC"}},"type":"js/module"}]}