{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/callSuper","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"378KbBHdmndC3iMXZ2Ix8oB3LeE=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/superPropGet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"b4Lel0pEiTM8mvZZX/d05uR+OmU=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/inherits","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"y0uNg4LxF1CLscQChxzgo5dfjvA=","exportNames":["*"],"imports":1}},{"name":"./Animation","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":15,"column":0},"end":{"line":15,"column":36}}],"key":"IpfQWRKePvRqyvs8Q+vGFqyieVw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _classCallCheck2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n  var _callSuper2 = _interopRequireDefault(require(_dependencyMap[3], \"@babel/runtime/helpers/callSuper\"));\n  var _superPropGet2 = _interopRequireDefault(require(_dependencyMap[4], \"@babel/runtime/helpers/superPropGet\"));\n  var _inherits2 = _interopRequireDefault(require(_dependencyMap[5], \"@babel/runtime/helpers/inherits\"));\n  var _Animation2 = _interopRequireDefault(require(_dependencyMap[6], \"./Animation\"));\n  var DecayAnimation = exports.default = /*#__PURE__*/function (_Animation) {\n    function DecayAnimation(config) {\n      var _this;\n      (0, _classCallCheck2.default)(this, DecayAnimation);\n      _this = (0, _callSuper2.default)(this, DecayAnimation, [config]);\n      _this._deceleration = config.deceleration ?? 0.998;\n      _this._velocity = config.velocity;\n      _this._platformConfig = config.platformConfig;\n      return _this;\n    }\n    (0, _inherits2.default)(DecayAnimation, _Animation);\n    return (0, _createClass2.default)(DecayAnimation, [{\n      key: \"__getNativeAnimationConfig\",\n      value: function __getNativeAnimationConfig() {\n        return {\n          type: 'decay',\n          deceleration: this._deceleration,\n          velocity: this._velocity,\n          iterations: this.__iterations,\n          platformConfig: this._platformConfig,\n          debugID: this.__getDebugID()\n        };\n      }\n    }, {\n      key: \"start\",\n      value: function start(fromValue, onUpdate, onEnd, previousAnimation, animatedValue) {\n        (0, _superPropGet2.default)(DecayAnimation, \"start\", this, 3)([fromValue, onUpdate, onEnd, previousAnimation, animatedValue]);\n        this._lastValue = fromValue;\n        this._fromValue = fromValue;\n        this._onUpdate = onUpdate;\n        this._startTime = Date.now();\n        var useNativeDriver = this.__startAnimationIfNative(animatedValue);\n        if (!useNativeDriver) {\n          this._animationFrame = requestAnimationFrame(() => this.onUpdate());\n        }\n      }\n    }, {\n      key: \"onUpdate\",\n      value: function onUpdate() {\n        var now = Date.now();\n        var value = this._fromValue + this._velocity / (1 - this._deceleration) * (1 - Math.exp(-(1 - this._deceleration) * (now - this._startTime)));\n        this._onUpdate(value);\n        if (Math.abs(this._lastValue - value) < 0.1) {\n          this.__notifyAnimationEnd({\n            finished: true\n          });\n          return;\n        }\n        this._lastValue = value;\n        if (this.__active) {\n          this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));\n        }\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        (0, _superPropGet2.default)(DecayAnimation, \"stop\", this, 3)([]);\n        if (this._animationFrame != null) {\n          global.cancelAnimationFrame(this._animationFrame);\n        }\n        this.__notifyAnimationEnd({\n          finished: false\n        });\n      }\n    }]);\n  }(_Animation2.default);\n});","lineCount":79,"map":[[12,2,15,0],[12,6,15,0,"_Animation2"],[12,17,15,0],[12,20,15,0,"_interopRequireDefault"],[12,42,15,0],[12,43,15,0,"require"],[12,50,15,0],[12,51,15,0,"_dependencyMap"],[12,65,15,0],[13,2,15,36],[13,6,37,21,"DecayAnimation"],[13,20,37,35],[13,23,37,35,"exports"],[13,30,37,35],[13,31,37,35,"default"],[13,38,37,35],[13,64,37,35,"_Animation"],[13,74,37,35],[14,4,47,2],[14,13,47,2,"DecayAnimation"],[14,28,47,14,"config"],[14,34,47,48],[14,36,47,50],[15,6,47,50],[15,10,47,50,"_this"],[15,15,47,50],[16,6,47,50],[16,10,47,50,"_classCallCheck2"],[16,26,47,50],[16,27,47,50,"default"],[16,34,47,50],[16,42,47,50,"DecayAnimation"],[16,56,47,50],[17,6,48,4,"_this"],[17,11,48,4],[17,18,48,4,"_callSuper2"],[17,29,48,4],[17,30,48,4,"default"],[17,37,48,4],[17,45,48,4,"DecayAnimation"],[17,59,48,4],[17,62,48,10,"config"],[17,68,48,16],[18,6,50,4,"_this"],[18,11,50,4],[18,12,50,9,"_deceleration"],[18,25,50,22],[18,28,50,25,"config"],[18,34,50,31],[18,35,50,32,"deceleration"],[18,47,50,44],[18,51,50,48],[18,56,50,53],[19,6,51,4,"_this"],[19,11,51,4],[19,12,51,9,"_velocity"],[19,21,51,18],[19,24,51,21,"config"],[19,30,51,27],[19,31,51,28,"velocity"],[19,39,51,36],[20,6,52,4,"_this"],[20,11,52,4],[20,12,52,9,"_platformConfig"],[20,27,52,24],[20,30,52,27,"config"],[20,36,52,33],[20,37,52,34,"platformConfig"],[20,51,52,48],[21,6,52,49],[21,13,52,49,"_this"],[21,18,52,49],[22,4,53,2],[23,4,53,3],[23,8,53,3,"_inherits2"],[23,18,53,3],[23,19,53,3,"default"],[23,26,53,3],[23,28,53,3,"DecayAnimation"],[23,42,53,3],[23,44,53,3,"_Animation"],[23,54,53,3],[24,4,53,3],[24,15,53,3,"_createClass2"],[24,28,53,3],[24,29,53,3,"default"],[24,36,53,3],[24,38,53,3,"DecayAnimation"],[24,52,53,3],[25,6,53,3,"key"],[25,9,53,3],[26,6,53,3,"value"],[26,11,53,3],[26,13,55,2],[26,22,55,2,"__getNativeAnimationConfig"],[26,48,55,28,"__getNativeAnimationConfig"],[26,49,55,28],[26,51,62,5],[27,8,63,4],[27,15,63,11],[28,10,64,6,"type"],[28,14,64,10],[28,16,64,12],[28,23,64,19],[29,10,65,6,"deceleration"],[29,22,65,18],[29,24,65,20],[29,28,65,24],[29,29,65,25,"_deceleration"],[29,42,65,38],[30,10,66,6,"velocity"],[30,18,66,14],[30,20,66,16],[30,24,66,20],[30,25,66,21,"_velocity"],[30,34,66,30],[31,10,67,6,"iterations"],[31,20,67,16],[31,22,67,18],[31,26,67,22],[31,27,67,23,"__iterations"],[31,39,67,35],[32,10,68,6,"platformConfig"],[32,24,68,20],[32,26,68,22],[32,30,68,26],[32,31,68,27,"_platformConfig"],[32,46,68,42],[33,10,69,6,"debugID"],[33,17,69,13],[33,19,69,15],[33,23,69,19],[33,24,69,20,"__getDebugID"],[33,36,69,32],[33,37,69,33],[34,8,70,4],[34,9,70,5],[35,6,71,2],[36,4,71,3],[37,6,71,3,"key"],[37,9,71,3],[38,6,71,3,"value"],[38,11,71,3],[38,13,73,2],[38,22,73,2,"start"],[38,27,73,7,"start"],[38,28,74,4,"fromValue"],[38,37,74,21],[38,39,75,4,"onUpdate"],[38,47,75,37],[38,49,76,4,"onEnd"],[38,54,76,23],[38,56,77,4,"previousAnimation"],[38,73,77,33],[38,75,78,4,"animatedValue"],[38,88,78,32],[38,90,79,10],[39,8,80,4],[39,12,80,4,"_superPropGet2"],[39,26,80,4],[39,27,80,4,"default"],[39,34,80,4],[39,36,80,4,"DecayAnimation"],[39,50,80,4],[39,71,80,16,"fromValue"],[39,80,80,25],[39,82,80,27,"onUpdate"],[39,90,80,35],[39,92,80,37,"onEnd"],[39,97,80,42],[39,99,80,44,"previousAnimation"],[39,116,80,61],[39,118,80,63,"animatedValue"],[39,131,80,76],[40,8,82,4],[40,12,82,8],[40,13,82,9,"_lastValue"],[40,23,82,19],[40,26,82,22,"fromValue"],[40,35,82,31],[41,8,83,4],[41,12,83,8],[41,13,83,9,"_fromValue"],[41,23,83,19],[41,26,83,22,"fromValue"],[41,35,83,31],[42,8,84,4],[42,12,84,8],[42,13,84,9,"_onUpdate"],[42,22,84,18],[42,25,84,21,"onUpdate"],[42,33,84,29],[43,8,85,4],[43,12,85,8],[43,13,85,9,"_startTime"],[43,23,85,19],[43,26,85,22,"Date"],[43,30,85,26],[43,31,85,27,"now"],[43,34,85,30],[43,35,85,31],[43,36,85,32],[44,8,87,4],[44,12,87,10,"useNativeDriver"],[44,27,87,25],[44,30,87,28],[44,34,87,32],[44,35,87,33,"__startAnimationIfNative"],[44,59,87,57],[44,60,87,58,"animatedValue"],[44,73,87,71],[44,74,87,72],[45,8,88,4],[45,12,88,8],[45,13,88,9,"useNativeDriver"],[45,28,88,24],[45,30,88,26],[46,10,89,6],[46,14,89,10],[46,15,89,11,"_animationFrame"],[46,30,89,26],[46,33,89,29,"requestAnimationFrame"],[46,54,89,50],[46,55,89,51],[46,61,89,57],[46,65,89,61],[46,66,89,62,"onUpdate"],[46,74,89,70],[46,75,89,71],[46,76,89,72],[46,77,89,73],[47,8,90,4],[48,6,91,2],[49,4,91,3],[50,6,91,3,"key"],[50,9,91,3],[51,6,91,3,"value"],[51,11,91,3],[51,13,93,2],[51,22,93,2,"onUpdate"],[51,30,93,10,"onUpdate"],[51,31,93,10],[51,33,93,19],[52,8,94,4],[52,12,94,10,"now"],[52,15,94,13],[52,18,94,16,"Date"],[52,22,94,20],[52,23,94,21,"now"],[52,26,94,24],[52,27,94,25],[52,28,94,26],[53,8,96,4],[53,12,96,10,"value"],[53,17,96,15],[53,20,97,6],[53,24,97,10],[53,25,97,11,"_fromValue"],[53,35,97,21],[53,38,98,7],[53,42,98,11],[53,43,98,12,"_velocity"],[53,52,98,21],[53,56,98,25],[53,57,98,26],[53,60,98,29],[53,64,98,33],[53,65,98,34,"_deceleration"],[53,78,98,47],[53,79,98,48],[53,83,99,9],[53,84,99,10],[53,87,99,13,"Math"],[53,91,99,17],[53,92,99,18,"exp"],[53,95,99,21],[53,96,99,22],[53,98,99,24],[53,99,99,25],[53,102,99,28],[53,106,99,32],[53,107,99,33,"_deceleration"],[53,120,99,46],[53,121,99,47],[53,125,99,51,"now"],[53,128,99,54],[53,131,99,57],[53,135,99,61],[53,136,99,62,"_startTime"],[53,146,99,72],[53,147,99,73],[53,148,99,74],[53,149,99,75],[54,8,101,4],[54,12,101,8],[54,13,101,9,"_onUpdate"],[54,22,101,18],[54,23,101,19,"value"],[54,28,101,24],[54,29,101,25],[55,8,103,4],[55,12,103,8,"Math"],[55,16,103,12],[55,17,103,13,"abs"],[55,20,103,16],[55,21,103,17],[55,25,103,21],[55,26,103,22,"_lastValue"],[55,36,103,32],[55,39,103,35,"value"],[55,44,103,40],[55,45,103,41],[55,48,103,44],[55,51,103,47],[55,53,103,49],[56,10,104,6],[56,14,104,10],[56,15,104,11,"__notifyAnimationEnd"],[56,35,104,31],[56,36,104,32],[57,12,104,33,"finished"],[57,20,104,41],[57,22,104,43],[58,10,104,47],[58,11,104,48],[58,12,104,49],[59,10,105,6],[60,8,106,4],[61,8,108,4],[61,12,108,8],[61,13,108,9,"_lastValue"],[61,23,108,19],[61,26,108,22,"value"],[61,31,108,27],[62,8,109,4],[62,12,109,8],[62,16,109,12],[62,17,109,13,"__active"],[62,25,109,21],[62,27,109,23],[63,10,111,6],[63,14,111,10],[63,15,111,11,"_animationFrame"],[63,30,111,26],[63,33,111,29,"requestAnimationFrame"],[63,54,111,50],[63,55,111,51],[63,59,111,55],[63,60,111,56,"onUpdate"],[63,68,111,64],[63,69,111,65,"bind"],[63,73,111,69],[63,74,111,70],[63,78,111,74],[63,79,111,75],[63,80,111,76],[64,8,112,4],[65,6,113,2],[66,4,113,3],[67,6,113,3,"key"],[67,9,113,3],[68,6,113,3,"value"],[68,11,113,3],[68,13,115,2],[68,22,115,2,"stop"],[68,26,115,6,"stop"],[68,27,115,6],[68,29,115,15],[69,8,116,4],[69,12,116,4,"_superPropGet2"],[69,26,116,4],[69,27,116,4,"default"],[69,34,116,4],[69,36,116,4,"DecayAnimation"],[69,50,116,4],[70,8,117,4],[70,12,117,8],[70,16,117,12],[70,17,117,13,"_animationFrame"],[70,32,117,28],[70,36,117,32],[70,40,117,36],[70,42,117,38],[71,10,118,6,"global"],[71,16,118,12],[71,17,118,13,"cancelAnimationFrame"],[71,37,118,33],[71,38,118,34],[71,42,118,38],[71,43,118,39,"_animationFrame"],[71,58,118,54],[71,59,118,55],[72,8,119,4],[73,8,120,4],[73,12,120,8],[73,13,120,9,"__notifyAnimationEnd"],[73,33,120,29],[73,34,120,30],[74,10,120,31,"finished"],[74,18,120,39],[74,20,120,41],[75,8,120,46],[75,9,120,47],[75,10,120,48],[76,6,121,2],[77,4,121,3],[78,2,121,3],[78,4,37,44,"Animation"],[78,23,37,53],[79,0,37,53],[79,3]],"functionMap":{"names":["<global>","DecayAnimation","constructor","__getNativeAnimationConfig","start","requestAnimationFrame$argument_0","onUpdate","stop"],"mappings":"AAA;eCoC;ECU;GDM;EEE;GFgB;EGE;mDCgB,qBD;GHE;EKE;GLoB;EME;GNM"}},"type":"js/module"}]}