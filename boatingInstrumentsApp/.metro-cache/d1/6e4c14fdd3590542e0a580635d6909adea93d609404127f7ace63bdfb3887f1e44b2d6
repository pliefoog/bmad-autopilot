{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":39,"index":39}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../components/PrimaryMetricCell","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":156},"end":{"line":4,"column":64,"index":220}}],"key":"3DDzLsdfTvTNBmG8Spe0u9r7zdA=","exportNames":["*"],"imports":1}},{"name":"../components/SecondaryMetricCell","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":221},"end":{"line":5,"column":68,"index":289}}],"key":"wcV0jWEo7RPAw1zYxnixmE82xSU=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}},{"name":"../store/nmeaStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":40},"end":{"line":2,"column":50,"index":90}},{"start":{"line":2,"column":0,"index":40},"end":{"line":2,"column":50,"index":90}},{"start":{"line":2,"column":0,"index":40},"end":{"line":2,"column":50,"index":90}},{"start":{"line":2,"column":0,"index":40},"end":{"line":2,"column":50,"index":90}}],"key":"yzZczWKas9lrOaIoMdO4acDolm0=","exportNames":["*"],"imports":4}},{"name":"../components/TemplatedWidget","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":91},"end":{"line":3,"column":64,"index":155}}],"key":"GY3Z932A/ZLytDwxP+vWRoaj6WY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = exports.CompassWidget = void 0;\n  var _react = _interopRequireWildcard(require(_dependencyMap[1], \"react\"));\n  var _PrimaryMetricCell = _interopRequireDefault(require(_dependencyMap[2], \"../components/PrimaryMetricCell\"));\n  var _SecondaryMetricCell = _interopRequireDefault(require(_dependencyMap[3], \"../components/SecondaryMetricCell\"));\n  var _jsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  var _jsxFileName = \"/Volumes/SSD_I/Dev/JSDev/bmad-autopilot/boatingInstrumentsApp/src/widgets/CompassWidget.tsx\",\n    _s = $RefreshSig$();\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  /**\n   * CompassWidget - Registry-First Declarative Implementation\n   *\n   * **Before (351 lines):**\n   * - Manual metric extraction for headings, variation, deviation\n   * - Manual display value creation and formatting\n   * - Manual stale data detection\n   * - UnifiedWidgetGrid with explicit props\n   * - Complex heading calculation logic\n   *\n   * **After (~60 lines):**\n   * - Pure declarative configuration\n   * - Auto-fetch via MetricCells\n   * - TemplatedWidget handles layout\n   * - All formatting in ConversionRegistry\n   *\n   * **Layout:** 2Rx1C primary (TRUE/MAG headings) + 2Rx1C secondary (VAR/DEV)\n   *\n   * **Removed features:**\n   * - Interactive mode toggle (TRUE/MAGNETIC) - not used in practice\n   * - SVG CompassRose visualization - could be added back if needed\n   * - Manual cardinal direction calculation - handled by formatter\n   */\n  const CompassWidget = exports.CompassWidget = /*#__PURE__*/_s(/*#__PURE__*/_react.default.memo(_c = _s(({\n    id\n  }) => {\n    _s();\n    // Extract instance number from widget ID\n    const instanceNumber = (0, _react.useMemo)(() => {\n      const match = id.match(/compass-(\\d+)/);\n      return match ? parseInt(match[1], 10) : 0;\n    }, [id]);\n\n    // Get sensor instance\n    const compassInstance = (0, require(_dependencyMap[5], \"../store/nmeaStore\").useNmeaStore)(state => state.nmeaData.sensors.compass?.[instanceNumber]);\n\n    // Subscribe to timestamp to trigger re-renders (SensorInstance is mutable)\n    const _timestamp = (0, require(_dependencyMap[5], \"../store/nmeaStore\").useNmeaStore)(state => state.nmeaData.sensors.compass?.[instanceNumber]?.timestamp);\n    return /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(require(_dependencyMap[6], \"../components/TemplatedWidget\").TemplatedWidget, {\n      template: \"2Rx1C-SEP-2Rx1C\",\n      sensorInstance: compassInstance,\n      sensorType: \"compass\",\n      testID: `compass-widget-${instanceNumber}`,\n      children: [/*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(_PrimaryMetricCell.default, {\n        metricKey: \"trueHeading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(_PrimaryMetricCell.default, {\n        metricKey: \"magneticHeading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(_SecondaryMetricCell.default, {\n        metricKey: \"variation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(_SecondaryMetricCell.default, {\n        metricKey: \"deviation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }, this);\n  }, \"fpqPbgInUGHv96pdCWIIlmICAQI=\", false, function () {\n    return [require(_dependencyMap[5], \"../store/nmeaStore\").useNmeaStore, require(_dependencyMap[5], \"../store/nmeaStore\").useNmeaStore];\n  })), \"fpqPbgInUGHv96pdCWIIlmICAQI=\", false, function () {\n    return [useNmeaStore, useNmeaStore];\n  });\n  _c2 = CompassWidget;\n  CompassWidget.displayName = 'CompassWidget';\n  var _default = exports.default = CompassWidget;\n  var _c, _c2;\n  $RefreshReg$(_c, \"CompassWidget$React.memo\");\n  $RefreshReg$(_c2, \"CompassWidget\");\n});","lineCount":98,"map":[[7,2,1,0],[7,6,1,0,"_react"],[7,12,1,0],[7,15,1,0,"_interopRequireWildcard"],[7,38,1,0],[7,39,1,0,"require"],[7,46,1,0],[7,47,1,0,"_dependencyMap"],[7,61,1,0],[8,2,4,0],[8,6,4,0,"_PrimaryMetricCell"],[8,24,4,0],[8,27,4,0,"_interopRequireDefault"],[8,49,4,0],[8,50,4,0,"require"],[8,57,4,0],[8,58,4,0,"_dependencyMap"],[8,72,4,0],[9,2,5,0],[9,6,5,0,"_SecondaryMetricCell"],[9,26,5,0],[9,29,5,0,"_interopRequireDefault"],[9,51,5,0],[9,52,5,0,"require"],[9,59,5,0],[9,60,5,0,"_dependencyMap"],[9,74,5,0],[10,2,5,68],[10,6,5,68,"_jsxDevRuntime"],[10,20,5,68],[10,23,5,68,"require"],[10,30,5,68],[10,31,5,68,"_dependencyMap"],[10,45,5,68],[11,2,5,68],[11,6,5,68,"_jsxFileName"],[11,18,5,68],[12,4,5,68,"_s"],[12,6,5,68],[12,9,5,68,"$RefreshSig$"],[12,21,5,68],[13,2,5,68],[13,11,5,68,"_interopRequireWildcard"],[13,35,5,68,"e"],[13,36,5,68],[13,38,5,68,"t"],[13,39,5,68],[13,68,5,68,"WeakMap"],[13,75,5,68],[13,81,5,68,"r"],[13,82,5,68],[13,89,5,68,"WeakMap"],[13,96,5,68],[13,100,5,68,"n"],[13,101,5,68],[13,108,5,68,"WeakMap"],[13,115,5,68],[13,127,5,68,"_interopRequireWildcard"],[13,150,5,68],[13,162,5,68,"_interopRequireWildcard"],[13,163,5,68,"e"],[13,164,5,68],[13,166,5,68,"t"],[13,167,5,68],[13,176,5,68,"t"],[13,177,5,68],[13,181,5,68,"e"],[13,182,5,68],[13,186,5,68,"e"],[13,187,5,68],[13,188,5,68,"__esModule"],[13,198,5,68],[13,207,5,68,"e"],[13,208,5,68],[13,214,5,68,"o"],[13,215,5,68],[13,217,5,68,"i"],[13,218,5,68],[13,220,5,68,"f"],[13,221,5,68],[13,226,5,68,"__proto__"],[13,235,5,68],[13,243,5,68,"default"],[13,250,5,68],[13,252,5,68,"e"],[13,253,5,68],[13,270,5,68,"e"],[13,271,5,68],[13,294,5,68,"e"],[13,295,5,68],[13,320,5,68,"e"],[13,321,5,68],[13,330,5,68,"f"],[13,331,5,68],[13,337,5,68,"o"],[13,338,5,68],[13,341,5,68,"t"],[13,342,5,68],[13,345,5,68,"n"],[13,346,5,68],[13,349,5,68,"r"],[13,350,5,68],[13,358,5,68,"o"],[13,359,5,68],[13,360,5,68,"has"],[13,363,5,68],[13,364,5,68,"e"],[13,365,5,68],[13,375,5,68,"o"],[13,376,5,68],[13,377,5,68,"get"],[13,380,5,68],[13,381,5,68,"e"],[13,382,5,68],[13,385,5,68,"o"],[13,386,5,68],[13,387,5,68,"set"],[13,390,5,68],[13,391,5,68,"e"],[13,392,5,68],[13,394,5,68,"f"],[13,395,5,68],[13,411,5,68,"t"],[13,412,5,68],[13,416,5,68,"e"],[13,417,5,68],[13,433,5,68,"t"],[13,434,5,68],[13,441,5,68,"hasOwnProperty"],[13,455,5,68],[13,456,5,68,"call"],[13,460,5,68],[13,461,5,68,"e"],[13,462,5,68],[13,464,5,68,"t"],[13,465,5,68],[13,472,5,68,"i"],[13,473,5,68],[13,477,5,68,"o"],[13,478,5,68],[13,481,5,68,"Object"],[13,487,5,68],[13,488,5,68,"defineProperty"],[13,502,5,68],[13,507,5,68,"Object"],[13,513,5,68],[13,514,5,68,"getOwnPropertyDescriptor"],[13,538,5,68],[13,539,5,68,"e"],[13,540,5,68],[13,542,5,68,"t"],[13,543,5,68],[13,550,5,68,"i"],[13,551,5,68],[13,552,5,68,"get"],[13,555,5,68],[13,559,5,68,"i"],[13,560,5,68],[13,561,5,68,"set"],[13,564,5,68],[13,568,5,68,"o"],[13,569,5,68],[13,570,5,68,"f"],[13,571,5,68],[13,573,5,68,"t"],[13,574,5,68],[13,576,5,68,"i"],[13,577,5,68],[13,581,5,68,"f"],[13,582,5,68],[13,583,5,68,"t"],[13,584,5,68],[13,588,5,68,"e"],[13,589,5,68],[13,590,5,68,"t"],[13,591,5,68],[13,602,5,68,"f"],[13,603,5,68],[13,608,5,68,"e"],[13,609,5,68],[13,611,5,68,"t"],[13,612,5,68],[14,2,12,0],[15,0,13,0],[16,0,14,0],[17,0,15,0],[18,0,16,0],[19,0,17,0],[20,0,18,0],[21,0,19,0],[22,0,20,0],[23,0,21,0],[24,0,22,0],[25,0,23,0],[26,0,24,0],[27,0,25,0],[28,0,26,0],[29,0,27,0],[30,0,28,0],[31,0,29,0],[32,0,30,0],[33,0,31,0],[34,0,32,0],[35,0,33,0],[36,0,34,0],[37,2,35,7],[37,8,35,13,"CompassWidget"],[37,21,35,56],[37,24,35,56,"exports"],[37,31,35,56],[37,32,35,56,"CompassWidget"],[37,45,35,56],[37,61,35,56,"_s"],[37,63,35,56],[37,77,35,59,"React"],[37,91,35,64],[37,92,35,65,"memo"],[37,96,35,69],[37,97,35,69,"_c"],[37,99,35,69],[37,102,35,69,"_s"],[37,104,35,69],[37,105,35,70],[37,106,35,71],[38,4,35,73,"id"],[39,2,35,76],[39,3,35,77],[39,8,35,82],[40,4,35,82,"_s"],[40,6,35,82],[41,4,36,2],[42,4,37,2],[42,10,37,8,"instanceNumber"],[42,24,37,22],[42,27,37,25],[42,31,37,25,"useMemo"],[42,45,37,32],[42,47,37,33],[42,53,37,39],[43,6,38,4],[43,12,38,10,"match"],[43,17,38,15],[43,20,38,18,"id"],[43,22,38,20],[43,23,38,21,"match"],[43,28,38,26],[43,29,38,27],[43,44,38,42],[43,45,38,43],[44,6,39,4],[44,13,39,11,"match"],[44,18,39,16],[44,21,39,19,"parseInt"],[44,29,39,27],[44,30,39,28,"match"],[44,35,39,33],[44,36,39,34],[44,37,39,35],[44,38,39,36],[44,40,39,38],[44,42,39,40],[44,43,39,41],[44,46,39,44],[44,47,39,45],[45,4,40,2],[45,5,40,3],[45,7,40,5],[45,8,40,6,"id"],[45,10,40,8],[45,11,40,9],[45,12,40,10],[47,4,42,2],[48,4,43,2],[48,10,43,8,"compassInstance"],[48,25,43,23],[48,28,43,26],[48,32,43,26,"useNmeaStore"],[48,58,43,26],[48,59,43,26,"useNmeaStore"],[48,93,43,38],[48,95,43,40,"state"],[48,100,43,45],[48,104,43,50,"state"],[48,109,43,55],[48,110,43,56,"nmeaData"],[48,118,43,64],[48,119,43,65,"sensors"],[48,126,43,72],[48,127,43,73,"compass"],[48,134,43,80],[48,137,43,83,"instanceNumber"],[48,151,43,97],[48,152,43,98],[48,153,43,99],[50,4,45,2],[51,4,46,2],[51,10,46,8,"_timestamp"],[51,20,46,18],[51,23,46,21],[51,27,46,21,"useNmeaStore"],[51,53,46,21],[51,54,46,21,"useNmeaStore"],[51,88,46,33],[51,90,47,5,"state"],[51,95,47,10],[51,99,47,15,"state"],[51,104,47,20],[51,105,47,21,"nmeaData"],[51,113,47,29],[51,114,47,30,"sensors"],[51,121,47,37],[51,122,47,38,"compass"],[51,129,47,45],[51,132,47,48,"instanceNumber"],[51,146,47,62],[51,147,47,63],[51,149,47,65,"timestamp"],[51,158,48,2],[51,159,48,3],[52,4,50,2],[52,24,51,4],[52,28,51,4,"_jsxDevRuntime"],[52,42,51,4],[52,43,51,4,"jsxDEV"],[52,49,51,4],[52,51,51,5,"require"],[52,58,51,5],[52,59,51,5,"_dependencyMap"],[52,73,51,5],[52,111,51,5,"TemplatedWidget"],[52,126,51,20],[53,6,52,6,"template"],[53,14,52,14],[53,16,52,15],[53,33,52,32],[54,6,53,6,"sensorInstance"],[54,20,53,20],[54,22,53,22,"compassInstance"],[54,37,53,38],[55,6,54,6,"sensorType"],[55,16,54,16],[55,18,54,17],[55,27,54,26],[56,6,55,6,"testID"],[56,12,55,12],[56,14,55,14],[56,32,55,32,"instanceNumber"],[56,46,55,46],[56,48,55,49],[57,6,55,49,"children"],[57,14,55,49],[57,30,58,6],[57,34,58,6,"_jsxDevRuntime"],[57,48,58,6],[57,49,58,6,"jsxDEV"],[57,55,58,6],[57,57,58,7,"_PrimaryMetricCell"],[57,75,58,7],[57,76,58,7,"default"],[57,83,58,24],[58,8,58,25,"metricKey"],[58,17,58,34],[58,19,58,35],[59,6,58,48],[60,8,58,48,"fileName"],[60,16,58,48],[60,18,58,48,"_jsxFileName"],[60,30,58,48],[61,8,58,48,"lineNumber"],[61,18,58,48],[62,8,58,48,"columnNumber"],[62,20,58,48],[63,6,58,48],[63,13,58,50],[63,14,58,51],[63,29,59,6],[63,33,59,6,"_jsxDevRuntime"],[63,47,59,6],[63,48,59,6,"jsxDEV"],[63,54,59,6],[63,56,59,7,"_PrimaryMetricCell"],[63,74,59,7],[63,75,59,7,"default"],[63,82,59,24],[64,8,59,25,"metricKey"],[64,17,59,34],[64,19,59,35],[65,6,59,52],[66,8,59,52,"fileName"],[66,16,59,52],[66,18,59,52,"_jsxFileName"],[66,30,59,52],[67,8,59,52,"lineNumber"],[67,18,59,52],[68,8,59,52,"columnNumber"],[68,20,59,52],[69,6,59,52],[69,13,59,54],[69,14,59,55],[69,29,62,6],[69,33,62,6,"_jsxDevRuntime"],[69,47,62,6],[69,48,62,6,"jsxDEV"],[69,54,62,6],[69,56,62,7,"_SecondaryMetricCell"],[69,76,62,7],[69,77,62,7,"default"],[69,84,62,26],[70,8,62,27,"metricKey"],[70,17,62,36],[70,19,62,37],[71,6,62,48],[72,8,62,48,"fileName"],[72,16,62,48],[72,18,62,48,"_jsxFileName"],[72,30,62,48],[73,8,62,48,"lineNumber"],[73,18,62,48],[74,8,62,48,"columnNumber"],[74,20,62,48],[75,6,62,48],[75,13,62,50],[75,14,62,51],[75,29,63,6],[75,33,63,6,"_jsxDevRuntime"],[75,47,63,6],[75,48,63,6,"jsxDEV"],[75,54,63,6],[75,56,63,7,"_SecondaryMetricCell"],[75,76,63,7],[75,77,63,7,"default"],[75,84,63,26],[76,8,63,27,"metricKey"],[76,17,63,36],[76,19,63,37],[77,6,63,48],[78,8,63,48,"fileName"],[78,16,63,48],[78,18,63,48,"_jsxFileName"],[78,30,63,48],[79,8,63,48,"lineNumber"],[79,18,63,48],[80,8,63,48,"columnNumber"],[80,20,63,48],[81,6,63,48],[81,13,63,50],[81,14,63,51],[82,4,63,51],[83,6,63,51,"fileName"],[83,14,63,51],[83,16,63,51,"_jsxFileName"],[83,28,63,51],[84,6,63,51,"lineNumber"],[84,16,63,51],[85,6,63,51,"columnNumber"],[85,18,63,51],[86,4,63,51],[86,11,64,21],[86,12,64,22],[87,2,66,0],[87,3,66,1],[88,4,66,1],[88,12,43,26,"useNmeaStore"],[88,38,43,26],[88,39,43,26,"useNmeaStore"],[88,73,43,38],[88,75,46,21,"useNmeaStore"],[88,101,46,21],[88,102,46,21,"useNmeaStore"],[88,136,46,33],[89,2,46,33],[89,4,66,1],[89,5,66,2],[90,4,66,2],[90,12,43,26,"useNmeaStore"],[90,24,43,38],[90,26,46,21,"useNmeaStore"],[90,38,46,33],[91,2,46,33],[91,4,66,2],[92,2,66,3,"_c2"],[92,5,66,3],[92,8,35,13,"CompassWidget"],[92,21,35,56],[93,2,68,0,"CompassWidget"],[93,15,68,13],[93,16,68,14,"displayName"],[93,27,68,25],[93,30,68,28],[93,45,68,43],[94,2,68,44],[94,6,68,44,"_default"],[94,14,68,44],[94,17,68,44,"exports"],[94,24,68,44],[94,25,68,44,"default"],[94,32,68,44],[94,35,70,15,"CompassWidget"],[94,48,70,28],[95,2,70,28],[95,6,70,28,"_c"],[95,8,70,28],[95,10,70,28,"_c2"],[95,13,70,28],[96,2,70,28,"$RefreshReg$"],[96,14,70,28],[96,15,70,28,"_c"],[96,17,70,28],[97,2,70,28,"$RefreshReg$"],[97,14,70,28],[97,15,70,28,"_c2"],[97,18,70,28],[98,0,70,28],[98,3]],"functionMap":{"names":["<global>","React.memo$argument_0","useMemo$argument_0","useNmeaStore$argument_0"],"mappings":"AAA;sECkC;iCCE;GDG;uCEG,2DF;IEI,sEF;CDmB"}},"type":"js/module"}]}