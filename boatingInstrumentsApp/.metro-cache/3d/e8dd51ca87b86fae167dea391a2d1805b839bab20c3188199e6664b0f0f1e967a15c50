{"dependencies":[{"name":"../services/WidgetRegistrationService","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":13,"column":0,"index":429},"end":{"line":13,"column":82,"index":511}},{"start":{"line":13,"column":0,"index":429},"end":{"line":13,"column":82,"index":511}},{"start":{"line":13,"column":0,"index":429},"end":{"line":13,"column":82,"index":511}},{"start":{"line":13,"column":0,"index":429},"end":{"line":13,"column":82,"index":511}},{"start":{"line":13,"column":0,"index":429},"end":{"line":13,"column":82,"index":511}},{"start":{"line":13,"column":0,"index":429},"end":{"line":13,"column":82,"index":511}}],"key":"MObs7gkjwXi12Ip6+3M9E4fmcw4=","exportNames":["*"],"imports":6}},{"name":"../presentation/presentationStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":16,"column":0,"index":670},"end":{"line":16,"column":80,"index":750}}],"key":"BamEkPJVRrxYlxmHCpwPFKoMCe8=","exportNames":["*"],"imports":1}},{"name":"../config/builtInWidgetRegistrations","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":14,"column":0,"index":512},"end":{"line":14,"column":78,"index":590}}],"key":"xuyVeJF48896nsqlrIFXBvJlKxo=","exportNames":["*"],"imports":1}},{"name":"../config/defaultCustomWidgets","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":15,"column":0,"index":591},"end":{"line":15,"column":78,"index":669}}],"key":"pzG5ueVxMtksDSoXmYMdPmBvN64=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.cleanupWidgetSystem = cleanupWidgetSystem;\n  exports.initializeWidgetSystem = initializeWidgetSystem;\n  exports.resetWidgetSystem = resetWidgetSystem;\n  /**\n   * Widget System Initialization\n   *\n   * Simplified initialization for the widget registration system.\n   * Call this once during app startup to register all widgets and start detection.\n   *\n   * Order of operations:\n   * 1. Register built-in widgets with WidgetRegistrationService\n   * 2. Register default custom widgets (Sailing Dashboard)\n   * 3. Initialize WidgetRegistrationService (subscribes to nmeaStore, updates widgetStore)\n   */\n\n  var isInitialized = false;\n\n  /**\n   * Cleanup widget system (for factory reset or app cleanup)\n   */\n  function cleanupWidgetSystem() {\n    if (!isInitialized) return;\n\n    // Cleanup registration service (unsubscribes from nmeaStore)\n    require(_dependencyMap[0], \"../services/WidgetRegistrationService\").widgetRegistrationService.cleanup();\n    isInitialized = false;\n  }\n\n  /**\n   * Initialize the widget system\n   * Should be called once during app startup, before rendering the dashboard\n   */\n  function initializeWidgetSystem() {\n    if (isInitialized) {\n      console.warn('[WidgetSystem] ⚠️ Widget system already initialized');\n      return;\n    }\n\n    // Step 0: Validate presentation system configuration (dev mode only)\n    (0, require(_dependencyMap[1], \"../presentation/presentationStore\").validateAndLogConfiguration)();\n\n    // Step 1: Register all built-in widget types\n    (0, require(_dependencyMap[2], \"../config/builtInWidgetRegistrations\").registerBuiltInWidgets)(require(_dependencyMap[0], \"../services/WidgetRegistrationService\").widgetRegistrationService);\n\n    // Step 2: Register default custom widgets\n    (0, require(_dependencyMap[3], \"../config/defaultCustomWidgets\").registerDefaultCustomWidgets)(require(_dependencyMap[0], \"../services/WidgetRegistrationService\").widgetRegistrationService);\n\n    // Step 3: Initialize registration service\n    // This subscribes to nmeaStore and directly updates widgetStore\n    require(_dependencyMap[0], \"../services/WidgetRegistrationService\").widgetRegistrationService.initialize();\n    isInitialized = true;\n  }\n\n  /**\n   * Reset the widget system (useful for testing or reconnection)\n   */\n  function resetWidgetSystem() {\n    require(_dependencyMap[0], \"../services/WidgetRegistrationService\").widgetRegistrationService.reset();\n    require(_dependencyMap[0], \"../services/WidgetRegistrationService\").widgetRegistrationService.initialize();\n  }\n});","lineCount":65,"map":[[8,2,1,0],[9,0,2,0],[10,0,3,0],[11,0,4,0],[12,0,5,0],[13,0,6,0],[14,0,7,0],[15,0,8,0],[16,0,9,0],[17,0,10,0],[18,0,11,0],[20,2,18,0],[20,6,18,4,"isInitialized"],[20,19,18,17],[20,22,18,20],[20,27,18,25],[22,2,20,0],[23,0,21,0],[24,0,22,0],[25,2,23,7],[25,11,23,16,"cleanupWidgetSystem"],[25,30,23,35,"cleanupWidgetSystem"],[25,31,23,35],[25,33,23,44],[26,4,24,2],[26,8,24,6],[26,9,24,7,"isInitialized"],[26,22,24,20],[26,24,24,22],[28,4,26,2],[29,4,27,2,"widgetRegistrationService"],[29,30,27,2],[29,31,27,2,"widgetRegistrationService"],[29,97,27,27],[29,98,27,28,"cleanup"],[29,105,27,35],[29,106,27,36],[29,107,27,37],[30,4,29,2,"isInitialized"],[30,17,29,15],[30,20,29,18],[30,25,29,23],[31,2,30,0],[33,2,32,0],[34,0,33,0],[35,0,34,0],[36,0,35,0],[37,2,36,7],[37,11,36,16,"initializeWidgetSystem"],[37,33,36,38,"initializeWidgetSystem"],[37,34,36,38],[37,36,36,47],[38,4,37,2],[38,8,37,6,"isInitialized"],[38,21,37,19],[38,23,37,21],[39,6,38,4,"console"],[39,13,38,11],[39,14,38,12,"warn"],[39,18,38,16],[39,19,38,17],[39,72,38,70],[39,73,38,71],[40,6,39,4],[41,4,40,2],[43,4,42,2],[44,4,43,2],[44,8,43,2,"validateAndLogConfiguration"],[44,34,43,2],[44,35,43,2,"validateAndLogConfiguration"],[44,99,43,29],[44,101,43,30],[44,102,43,31],[46,4,45,2],[47,4,46,2],[47,8,46,2,"registerBuiltInWidgets"],[47,34,46,2],[47,35,46,2,"registerBuiltInWidgets"],[47,97,46,24],[47,99,46,25,"widgetRegistrationService"],[47,125,46,25],[47,126,46,25,"widgetRegistrationService"],[47,192,46,50],[47,193,46,51],[49,4,48,2],[50,4,49,2],[50,8,49,2,"registerDefaultCustomWidgets"],[50,34,49,2],[50,35,49,2,"registerDefaultCustomWidgets"],[50,97,49,30],[50,99,49,31,"widgetRegistrationService"],[50,125,49,31],[50,126,49,31,"widgetRegistrationService"],[50,192,49,56],[50,193,49,57],[52,4,51,2],[53,4,52,2],[54,4,53,2,"widgetRegistrationService"],[54,30,53,2],[54,31,53,2,"widgetRegistrationService"],[54,97,53,27],[54,98,53,28,"initialize"],[54,108,53,38],[54,109,53,39],[54,110,53,40],[55,4,55,2,"isInitialized"],[55,17,55,15],[55,20,55,18],[55,24,55,22],[56,2,56,0],[58,2,58,0],[59,0,59,0],[60,0,60,0],[61,2,61,7],[61,11,61,16,"resetWidgetSystem"],[61,28,61,33,"resetWidgetSystem"],[61,29,61,33],[61,31,61,42],[62,4,62,2,"widgetRegistrationService"],[62,30,62,2],[62,31,62,2,"widgetRegistrationService"],[62,97,62,27],[62,98,62,28,"reset"],[62,103,62,33],[62,104,62,34],[62,105,62,35],[63,4,63,2,"widgetRegistrationService"],[63,30,63,2],[63,31,63,2,"widgetRegistrationService"],[63,97,63,27],[63,98,63,28,"initialize"],[63,108,63,38],[63,109,63,39],[63,110,63,40],[64,2,64,0],[65,0,64,1],[65,3]],"functionMap":{"names":["<global>","cleanupWidgetSystem","initializeWidgetSystem","resetWidgetSystem"],"mappings":"AAA;OCsB;CDO;OEM;CFoB;OGK;CHG"}},"type":"js/module"}]}