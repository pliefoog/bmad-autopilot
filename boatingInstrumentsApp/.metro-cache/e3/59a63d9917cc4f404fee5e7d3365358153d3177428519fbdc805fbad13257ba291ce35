{"dependencies":[{"name":"./util/assertString","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":43,"index":149},"end":{"line":7,"column":73,"index":179}}],"key":"P4/WUkZf4wG7vvxohtCCt+jMlh0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = isISIN;\n  var _assertString = _interopRequireDefault(require(_dependencyMap[0], \"./util/assertString\"));\n  function _interopRequireDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  var isin = /^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;\n\n  // this link details how the check digit is calculated:\n  // https://www.isin.org/isin-format/. it is a little bit\n  // odd in that it works with digits, not numbers. in order\n  // to make only one pass through the ISIN characters, the\n  // each alpha character is handled as 2 characters within\n  // the loop.\n\n  function isISIN(str) {\n    (0, _assertString.default)(str);\n    if (!isin.test(str)) {\n      return false;\n    }\n    var double = true;\n    var sum = 0;\n    // convert values\n    for (var i = str.length - 2; i >= 0; i--) {\n      if (str[i] >= 'A' && str[i] <= 'Z') {\n        var value = str[i].charCodeAt(0) - 55;\n        var lo = value % 10;\n        var hi = Math.trunc(value / 10);\n        // letters have two digits, so handle the low order\n        // and high order digits separately.\n        for (var _i = 0, _arr = [lo, hi]; _i < _arr.length; _i++) {\n          var digit = _arr[_i];\n          if (double) {\n            if (digit >= 5) {\n              sum += 1 + (digit - 5) * 2;\n            } else {\n              sum += digit * 2;\n            }\n          } else {\n            sum += digit;\n          }\n          double = !double;\n        }\n      } else {\n        var _digit = str[i].charCodeAt(0) - '0'.charCodeAt(0);\n        if (double) {\n          if (_digit >= 5) {\n            sum += 1 + (_digit - 5) * 2;\n          } else {\n            sum += _digit * 2;\n          }\n        } else {\n          sum += _digit;\n        }\n        double = !double;\n      }\n    }\n    var check = Math.trunc((sum + 9) / 10) * 10 - sum;\n    return +str[str.length - 1] === check;\n  }\n  module.exports = exports.default;\n  module.exports.default = exports.default;\n});","lineCount":70,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"default"],[7,17,6,15],[7,20,6,18,"isISIN"],[7,26,6,24],[8,2,7,0],[8,6,7,4,"_assertString"],[8,19,7,17],[8,22,7,20,"_interopRequireDefault"],[8,44,7,42],[8,45,7,43,"require"],[8,52,7,50],[8,53,7,50,"_dependencyMap"],[8,67,7,50],[8,93,7,72],[8,94,7,73],[8,95,7,74],[9,2,8,0],[9,11,8,9,"_interopRequireDefault"],[9,33,8,31,"_interopRequireDefault"],[9,34,8,32,"e"],[9,35,8,33],[9,37,8,35],[10,4,8,37],[10,11,8,44,"e"],[10,12,8,45],[10,16,8,49,"e"],[10,17,8,50],[10,18,8,51,"__esModule"],[10,28,8,61],[10,31,8,64,"e"],[10,32,8,65],[10,35,8,68],[11,6,8,70,"default"],[11,13,8,77],[11,15,8,79,"e"],[12,4,8,81],[12,5,8,82],[13,2,8,84],[14,2,9,0],[14,6,9,4,"isin"],[14,10,9,8],[14,13,9,11],[14,41,9,39],[16,2,11,0],[17,2,12,0],[18,2,13,0],[19,2,14,0],[20,2,15,0],[21,2,16,0],[23,2,18,0],[23,11,18,9,"isISIN"],[23,17,18,15,"isISIN"],[23,18,18,16,"str"],[23,21,18,19],[23,23,18,21],[24,4,19,2],[24,5,19,3],[24,6,19,4],[24,8,19,6,"_assertString"],[24,21,19,19],[24,22,19,20,"default"],[24,29,19,27],[24,31,19,29,"str"],[24,34,19,32],[24,35,19,33],[25,4,20,2],[25,8,20,6],[25,9,20,7,"isin"],[25,13,20,11],[25,14,20,12,"test"],[25,18,20,16],[25,19,20,17,"str"],[25,22,20,20],[25,23,20,21],[25,25,20,23],[26,6,21,4],[26,13,21,11],[26,18,21,16],[27,4,22,2],[28,4,23,2],[28,8,23,6,"double"],[28,14,23,12],[28,17,23,15],[28,21,23,19],[29,4,24,2],[29,8,24,6,"sum"],[29,11,24,9],[29,14,24,12],[29,15,24,13],[30,4,25,2],[31,4,26,2],[31,9,26,7],[31,13,26,11,"i"],[31,14,26,12],[31,17,26,15,"str"],[31,20,26,18],[31,21,26,19,"length"],[31,27,26,25],[31,30,26,28],[31,31,26,29],[31,33,26,31,"i"],[31,34,26,32],[31,38,26,36],[31,39,26,37],[31,41,26,39,"i"],[31,42,26,40],[31,44,26,42],[31,46,26,44],[32,6,27,4],[32,10,27,8,"str"],[32,13,27,11],[32,14,27,12,"i"],[32,15,27,13],[32,16,27,14],[32,20,27,18],[32,23,27,21],[32,27,27,25,"str"],[32,30,27,28],[32,31,27,29,"i"],[32,32,27,30],[32,33,27,31],[32,37,27,35],[32,40,27,38],[32,42,27,40],[33,8,28,6],[33,12,28,10,"value"],[33,17,28,15],[33,20,28,18,"str"],[33,23,28,21],[33,24,28,22,"i"],[33,25,28,23],[33,26,28,24],[33,27,28,25,"charCodeAt"],[33,37,28,35],[33,38,28,36],[33,39,28,37],[33,40,28,38],[33,43,28,41],[33,45,28,43],[34,8,29,6],[34,12,29,10,"lo"],[34,14,29,12],[34,17,29,15,"value"],[34,22,29,20],[34,25,29,23],[34,27,29,25],[35,8,30,6],[35,12,30,10,"hi"],[35,14,30,12],[35,17,30,15,"Math"],[35,21,30,19],[35,22,30,20,"trunc"],[35,27,30,25],[35,28,30,26,"value"],[35,33,30,31],[35,36,30,34],[35,38,30,36],[35,39,30,37],[36,8,31,6],[37,8,32,6],[38,8,33,6],[38,13,33,11],[38,17,33,15,"_i"],[38,19,33,17],[38,22,33,20],[38,23,33,21],[38,25,33,23,"_arr"],[38,29,33,27],[38,32,33,30],[38,33,33,31,"lo"],[38,35,33,33],[38,37,33,35,"hi"],[38,39,33,37],[38,40,33,38],[38,42,33,40,"_i"],[38,44,33,42],[38,47,33,45,"_arr"],[38,51,33,49],[38,52,33,50,"length"],[38,58,33,56],[38,60,33,58,"_i"],[38,62,33,60],[38,64,33,62],[38,66,33,64],[39,10,34,8],[39,14,34,12,"digit"],[39,19,34,17],[39,22,34,20,"_arr"],[39,26,34,24],[39,27,34,25,"_i"],[39,29,34,27],[39,30,34,28],[40,10,35,8],[40,14,35,12,"double"],[40,20,35,18],[40,22,35,20],[41,12,36,10],[41,16,36,14,"digit"],[41,21,36,19],[41,25,36,23],[41,26,36,24],[41,28,36,26],[42,14,37,12,"sum"],[42,17,37,15],[42,21,37,19],[42,22,37,20],[42,25,37,23],[42,26,37,24,"digit"],[42,31,37,29],[42,34,37,32],[42,35,37,33],[42,39,37,37],[42,40,37,38],[43,12,38,10],[43,13,38,11],[43,19,38,17],[44,14,39,12,"sum"],[44,17,39,15],[44,21,39,19,"digit"],[44,26,39,24],[44,29,39,27],[44,30,39,28],[45,12,40,10],[46,10,41,8],[46,11,41,9],[46,17,41,15],[47,12,42,10,"sum"],[47,15,42,13],[47,19,42,17,"digit"],[47,24,42,22],[48,10,43,8],[49,10,44,8,"double"],[49,16,44,14],[49,19,44,17],[49,20,44,18,"double"],[49,26,44,24],[50,8,45,6],[51,6,46,4],[51,7,46,5],[51,13,46,11],[52,8,47,6],[52,12,47,10,"_digit"],[52,18,47,16],[52,21,47,19,"str"],[52,24,47,22],[52,25,47,23,"i"],[52,26,47,24],[52,27,47,25],[52,28,47,26,"charCodeAt"],[52,38,47,36],[52,39,47,37],[52,40,47,38],[52,41,47,39],[52,44,47,42],[52,47,47,45],[52,48,47,46,"charCodeAt"],[52,58,47,56],[52,59,47,57],[52,60,47,58],[52,61,47,59],[53,8,48,6],[53,12,48,10,"double"],[53,18,48,16],[53,20,48,18],[54,10,49,8],[54,14,49,12,"_digit"],[54,20,49,18],[54,24,49,22],[54,25,49,23],[54,27,49,25],[55,12,50,10,"sum"],[55,15,50,13],[55,19,50,17],[55,20,50,18],[55,23,50,21],[55,24,50,22,"_digit"],[55,30,50,28],[55,33,50,31],[55,34,50,32],[55,38,50,36],[55,39,50,37],[56,10,51,8],[56,11,51,9],[56,17,51,15],[57,12,52,10,"sum"],[57,15,52,13],[57,19,52,17,"_digit"],[57,25,52,23],[57,28,52,26],[57,29,52,27],[58,10,53,8],[59,8,54,6],[59,9,54,7],[59,15,54,13],[60,10,55,8,"sum"],[60,13,55,11],[60,17,55,15,"_digit"],[60,23,55,21],[61,8,56,6],[62,8,57,6,"double"],[62,14,57,12],[62,17,57,15],[62,18,57,16,"double"],[62,24,57,22],[63,6,58,4],[64,4,59,2],[65,4,60,2],[65,8,60,6,"check"],[65,13,60,11],[65,16,60,14,"Math"],[65,20,60,18],[65,21,60,19,"trunc"],[65,26,60,24],[65,27,60,25],[65,28,60,26,"sum"],[65,31,60,29],[65,34,60,32],[65,35,60,33],[65,39,60,37],[65,41,60,39],[65,42,60,40],[65,45,60,43],[65,47,60,45],[65,50,60,48,"sum"],[65,53,60,51],[66,4,61,2],[66,11,61,9],[66,12,61,10,"str"],[66,15,61,13],[66,16,61,14,"str"],[66,19,61,17],[66,20,61,18,"length"],[66,26,61,24],[66,29,61,27],[66,30,61,28],[66,31,61,29],[66,36,61,34,"check"],[66,41,61,39],[67,2,62,0],[68,2,63,0,"module"],[68,8,63,6],[68,9,63,7,"exports"],[68,16,63,14],[68,19,63,17,"exports"],[68,26,63,24],[68,27,63,25,"default"],[68,34,63,32],[69,2,64,0,"module"],[69,8,64,6],[69,9,64,7,"exports"],[69,16,64,14],[69,17,64,15,"default"],[69,24,64,22],[69,27,64,25,"exports"],[69,34,64,32],[69,35,64,33,"default"],[69,42,64,40],[70,0,64,41],[70,3]],"functionMap":{"names":["<global>","_interopRequireDefault","isISIN"],"mappings":"AAA;ACO,qFD;AEU;CF4C"}},"type":"js/module"}]}