{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./NavigationBuilderContext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":141},"end":{"line":5,"column":73,"index":214}}],"key":"vvb+tbs8cGp9hlTxgL5PZCjRz5E=","exportNames":["*"],"imports":1}},{"name":"./DeprecatedNavigationInChildContext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":47},"end":{"line":4,"column":93,"index":140}}],"key":"q52xm1L6GcwAHIDdgCYRmHsHIPQ=","exportNames":["*"],"imports":1}},{"name":"./useOnPreventRemove.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":215},"end":{"line":6,"column":82,"index":297}},{"start":{"line":6,"column":0,"index":215},"end":{"line":6,"column":82,"index":297}}],"key":"PbhCaGdR39Jz0OkkS237FN1qkxU=","exportNames":["*"],"imports":2}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useOnAction = useOnAction;\n  var React = _interopRequireWildcard(require(_dependencyMap[0], \"react\"));\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  /**\n   * Hook to handle actions for a navigator, including state updates and bubbling.\n   *\n   * Bubbling an action is achieved in 2 ways:\n   * 1. To bubble action to parent, we expose the action handler in context and then access the parent context\n   * 2. To bubble action to child, child adds event listeners subscribing to actions from parent\n   *\n   * When the action handler handles as action, it returns `true`, otherwise `false`.\n   */\n  function useOnAction({\n    router,\n    getState,\n    setState,\n    key,\n    actionListeners,\n    beforeRemoveListeners,\n    routerConfigOptions,\n    emitter\n  }) {\n    const {\n      onAction: onActionParent,\n      onRouteFocus: onRouteFocusParent,\n      addListener: addListenerParent,\n      onDispatchAction\n    } = React.useContext(require(_dependencyMap[1], \"./NavigationBuilderContext.js\").NavigationBuilderContext);\n    const navigationInChildEnabled = React.useContext(require(_dependencyMap[2], \"./DeprecatedNavigationInChildContext.js\").DeprecatedNavigationInChildContext);\n    const routerConfigOptionsRef = React.useRef(routerConfigOptions);\n    React.useEffect(() => {\n      routerConfigOptionsRef.current = routerConfigOptions;\n    });\n    const onAction = React.useCallback((action, visitedNavigators = new Set()) => {\n      const state = getState();\n\n      // Since actions can bubble both up and down, they could come to the same navigator again\n      // We keep track of navigators which have already tried to handle the action and return if it's already visited\n      if (visitedNavigators.has(state.key)) {\n        return false;\n      }\n      visitedNavigators.add(state.key);\n      if (typeof action.target !== 'string' || action.target === state.key) {\n        let result = router.getStateForAction(state, action, routerConfigOptionsRef.current);\n\n        // If a target is specified and set to current navigator, the action shouldn't bubble\n        // So instead of `null`, we use the state object for such cases to signal that action was handled\n        result = result === null && action.target === state.key ? state : result;\n        if (result !== null) {\n          onDispatchAction(action, state === result);\n          if (state !== result) {\n            const isPrevented = (0, require(_dependencyMap[3], \"./useOnPreventRemove.js\").shouldPreventRemove)(emitter, beforeRemoveListeners, state.routes, result.routes, action);\n            if (isPrevented) {\n              return true;\n            }\n            setState(result);\n          }\n          if (onRouteFocusParent !== undefined) {\n            // Some actions such as `NAVIGATE` also want to bring the navigated route to focus in the whole tree\n            // This means we need to focus all of the parent navigators of this navigator as well\n            const shouldFocus = router.shouldActionChangeFocus(action);\n            if (shouldFocus && key !== undefined) {\n              onRouteFocusParent(key);\n            }\n          }\n          return true;\n        }\n      }\n      if (onActionParent !== undefined) {\n        // Bubble action to the parent if the current navigator didn't handle it\n        if (onActionParent(action, visitedNavigators)) {\n          return true;\n        }\n      }\n      if (typeof action.target === 'string' ||\n      // For backward compatibility\n      action.type === 'NAVIGATE_DEPRECATED' || navigationInChildEnabled) {\n        // If the action wasn't handled by current navigator or a parent navigator, let children handle it\n        // Handling this when target isn't specified is deprecated and will be removed in the future\n        for (let i = actionListeners.length - 1; i >= 0; i--) {\n          const listener = actionListeners[i];\n          if (listener(action, visitedNavigators)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    }, [actionListeners, beforeRemoveListeners, emitter, getState, navigationInChildEnabled, key, onActionParent, onDispatchAction, onRouteFocusParent, router, setState]);\n    (0, require(_dependencyMap[3], \"./useOnPreventRemove.js\").useOnPreventRemove)({\n      getState,\n      emitter,\n      beforeRemoveListeners\n    });\n    React.useEffect(() => addListenerParent?.('action', onAction), [addListenerParent, onAction]);\n    return onAction;\n  }\n});","lineCount":103,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"useOnAction"],[7,21,1,13],[7,24,1,13,"useOnAction"],[7,35,1,13],[8,2,3,0],[8,6,3,0,"React"],[8,11,3,0],[8,14,3,0,"_interopRequireWildcard"],[8,37,3,0],[8,38,3,0,"require"],[8,45,3,0],[8,46,3,0,"_dependencyMap"],[8,60,3,0],[9,2,3,31],[9,11,3,31,"_interopRequireWildcard"],[9,35,3,31,"e"],[9,36,3,31],[9,38,3,31,"t"],[9,39,3,31],[9,68,3,31,"WeakMap"],[9,75,3,31],[9,81,3,31,"r"],[9,82,3,31],[9,89,3,31,"WeakMap"],[9,96,3,31],[9,100,3,31,"n"],[9,101,3,31],[9,108,3,31,"WeakMap"],[9,115,3,31],[9,127,3,31,"_interopRequireWildcard"],[9,150,3,31],[9,162,3,31,"_interopRequireWildcard"],[9,163,3,31,"e"],[9,164,3,31],[9,166,3,31,"t"],[9,167,3,31],[9,176,3,31,"t"],[9,177,3,31],[9,181,3,31,"e"],[9,182,3,31],[9,186,3,31,"e"],[9,187,3,31],[9,188,3,31,"__esModule"],[9,198,3,31],[9,207,3,31,"e"],[9,208,3,31],[9,214,3,31,"o"],[9,215,3,31],[9,217,3,31,"i"],[9,218,3,31],[9,220,3,31,"f"],[9,221,3,31],[9,226,3,31,"__proto__"],[9,235,3,31],[9,243,3,31,"default"],[9,250,3,31],[9,252,3,31,"e"],[9,253,3,31],[9,270,3,31,"e"],[9,271,3,31],[9,294,3,31,"e"],[9,295,3,31],[9,320,3,31,"e"],[9,321,3,31],[9,330,3,31,"f"],[9,331,3,31],[9,337,3,31,"o"],[9,338,3,31],[9,341,3,31,"t"],[9,342,3,31],[9,345,3,31,"n"],[9,346,3,31],[9,349,3,31,"r"],[9,350,3,31],[9,358,3,31,"o"],[9,359,3,31],[9,360,3,31,"has"],[9,363,3,31],[9,364,3,31,"e"],[9,365,3,31],[9,375,3,31,"o"],[9,376,3,31],[9,377,3,31,"get"],[9,380,3,31],[9,381,3,31,"e"],[9,382,3,31],[9,385,3,31,"o"],[9,386,3,31],[9,387,3,31,"set"],[9,390,3,31],[9,391,3,31,"e"],[9,392,3,31],[9,394,3,31,"f"],[9,395,3,31],[9,411,3,31,"t"],[9,412,3,31],[9,416,3,31,"e"],[9,417,3,31],[9,433,3,31,"t"],[9,434,3,31],[9,441,3,31,"hasOwnProperty"],[9,455,3,31],[9,456,3,31,"call"],[9,460,3,31],[9,461,3,31,"e"],[9,462,3,31],[9,464,3,31,"t"],[9,465,3,31],[9,472,3,31,"i"],[9,473,3,31],[9,477,3,31,"o"],[9,478,3,31],[9,481,3,31,"Object"],[9,487,3,31],[9,488,3,31,"defineProperty"],[9,502,3,31],[9,507,3,31,"Object"],[9,513,3,31],[9,514,3,31,"getOwnPropertyDescriptor"],[9,538,3,31],[9,539,3,31,"e"],[9,540,3,31],[9,542,3,31,"t"],[9,543,3,31],[9,550,3,31,"i"],[9,551,3,31],[9,552,3,31,"get"],[9,555,3,31],[9,559,3,31,"i"],[9,560,3,31],[9,561,3,31,"set"],[9,564,3,31],[9,568,3,31,"o"],[9,569,3,31],[9,570,3,31,"f"],[9,571,3,31],[9,573,3,31,"t"],[9,574,3,31],[9,576,3,31,"i"],[9,577,3,31],[9,581,3,31,"f"],[9,582,3,31],[9,583,3,31,"t"],[9,584,3,31],[9,588,3,31,"e"],[9,589,3,31],[9,590,3,31,"t"],[9,591,3,31],[9,602,3,31,"f"],[9,603,3,31],[9,608,3,31,"e"],[9,609,3,31],[9,611,3,31,"t"],[9,612,3,31],[10,2,7,0],[11,0,8,0],[12,0,9,0],[13,0,10,0],[14,0,11,0],[15,0,12,0],[16,0,13,0],[17,0,14,0],[18,0,15,0],[19,2,16,7],[19,11,16,16,"useOnAction"],[19,22,16,27,"useOnAction"],[19,23,16,28],[20,4,17,2,"router"],[20,10,17,8],[21,4,18,2,"getState"],[21,12,18,10],[22,4,19,2,"setState"],[22,12,19,10],[23,4,20,2,"key"],[23,7,20,5],[24,4,21,2,"actionListeners"],[24,19,21,17],[25,4,22,2,"beforeRemoveListeners"],[25,25,22,23],[26,4,23,2,"routerConfigOptions"],[26,23,23,21],[27,4,24,2,"emitter"],[28,2,25,0],[28,3,25,1],[28,5,25,3],[29,4,26,2],[29,10,26,8],[30,6,27,4,"onAction"],[30,14,27,12],[30,16,27,14,"onActionParent"],[30,30,27,28],[31,6,28,4,"onRouteFocus"],[31,18,28,16],[31,20,28,18,"onRouteFocusParent"],[31,38,28,36],[32,6,29,4,"addListener"],[32,17,29,15],[32,19,29,17,"addListenerParent"],[32,36,29,34],[33,6,30,4,"onDispatchAction"],[34,4,31,2],[34,5,31,3],[34,8,31,6,"React"],[34,13,31,11],[34,14,31,12,"useContext"],[34,24,31,22],[34,25,31,23,"NavigationBuilderContext"],[34,51,31,23],[34,52,31,23,"NavigationBuilderContext"],[34,109,31,47],[34,110,31,48],[35,4,32,2],[35,10,32,8,"navigationInChildEnabled"],[35,34,32,32],[35,37,32,35,"React"],[35,42,32,40],[35,43,32,41,"useContext"],[35,53,32,51],[35,54,32,52,"DeprecatedNavigationInChildContext"],[35,80,32,52],[35,81,32,52,"DeprecatedNavigationInChildContext"],[35,158,32,86],[35,159,32,87],[36,4,33,2],[36,10,33,8,"routerConfigOptionsRef"],[36,32,33,30],[36,35,33,33,"React"],[36,40,33,38],[36,41,33,39,"useRef"],[36,47,33,45],[36,48,33,46,"routerConfigOptions"],[36,67,33,65],[36,68,33,66],[37,4,34,2,"React"],[37,9,34,7],[37,10,34,8,"useEffect"],[37,19,34,17],[37,20,34,18],[37,26,34,24],[38,6,35,4,"routerConfigOptionsRef"],[38,28,35,26],[38,29,35,27,"current"],[38,36,35,34],[38,39,35,37,"routerConfigOptions"],[38,58,35,56],[39,4,36,2],[39,5,36,3],[39,6,36,4],[40,4,37,2],[40,10,37,8,"onAction"],[40,18,37,16],[40,21,37,19,"React"],[40,26,37,24],[40,27,37,25,"useCallback"],[40,38,37,36],[40,39,37,37],[40,40,37,38,"action"],[40,46,37,44],[40,48,37,46,"visitedNavigators"],[40,65,37,63],[40,68,37,66],[40,72,37,70,"Set"],[40,75,37,73],[40,76,37,74],[40,77,37,75],[40,82,37,80],[41,6,38,4],[41,12,38,10,"state"],[41,17,38,15],[41,20,38,18,"getState"],[41,28,38,26],[41,29,38,27],[41,30,38,28],[43,6,40,4],[44,6,41,4],[45,6,42,4],[45,10,42,8,"visitedNavigators"],[45,27,42,25],[45,28,42,26,"has"],[45,31,42,29],[45,32,42,30,"state"],[45,37,42,35],[45,38,42,36,"key"],[45,41,42,39],[45,42,42,40],[45,44,42,42],[46,8,43,6],[46,15,43,13],[46,20,43,18],[47,6,44,4],[48,6,45,4,"visitedNavigators"],[48,23,45,21],[48,24,45,22,"add"],[48,27,45,25],[48,28,45,26,"state"],[48,33,45,31],[48,34,45,32,"key"],[48,37,45,35],[48,38,45,36],[49,6,46,4],[49,10,46,8],[49,17,46,15,"action"],[49,23,46,21],[49,24,46,22,"target"],[49,30,46,28],[49,35,46,33],[49,43,46,41],[49,47,46,45,"action"],[49,53,46,51],[49,54,46,52,"target"],[49,60,46,58],[49,65,46,63,"state"],[49,70,46,68],[49,71,46,69,"key"],[49,74,46,72],[49,76,46,74],[50,8,47,6],[50,12,47,10,"result"],[50,18,47,16],[50,21,47,19,"router"],[50,27,47,25],[50,28,47,26,"getStateForAction"],[50,45,47,43],[50,46,47,44,"state"],[50,51,47,49],[50,53,47,51,"action"],[50,59,47,57],[50,61,47,59,"routerConfigOptionsRef"],[50,83,47,81],[50,84,47,82,"current"],[50,91,47,89],[50,92,47,90],[52,8,49,6],[53,8,50,6],[54,8,51,6,"result"],[54,14,51,12],[54,17,51,15,"result"],[54,23,51,21],[54,28,51,26],[54,32,51,30],[54,36,51,34,"action"],[54,42,51,40],[54,43,51,41,"target"],[54,49,51,47],[54,54,51,52,"state"],[54,59,51,57],[54,60,51,58,"key"],[54,63,51,61],[54,66,51,64,"state"],[54,71,51,69],[54,74,51,72,"result"],[54,80,51,78],[55,8,52,6],[55,12,52,10,"result"],[55,18,52,16],[55,23,52,21],[55,27,52,25],[55,29,52,27],[56,10,53,8,"onDispatchAction"],[56,26,53,24],[56,27,53,25,"action"],[56,33,53,31],[56,35,53,33,"state"],[56,40,53,38],[56,45,53,43,"result"],[56,51,53,49],[56,52,53,50],[57,10,54,8],[57,14,54,12,"state"],[57,19,54,17],[57,24,54,22,"result"],[57,30,54,28],[57,32,54,30],[58,12,55,10],[58,18,55,16,"isPrevented"],[58,29,55,27],[58,32,55,30],[58,36,55,30,"shouldPreventRemove"],[58,62,55,30],[58,63,55,30,"shouldPreventRemove"],[58,109,55,49],[58,111,55,50,"emitter"],[58,118,55,57],[58,120,55,59,"beforeRemoveListeners"],[58,141,55,80],[58,143,55,82,"state"],[58,148,55,87],[58,149,55,88,"routes"],[58,155,55,94],[58,157,55,96,"result"],[58,163,55,102],[58,164,55,103,"routes"],[58,170,55,109],[58,172,55,111,"action"],[58,178,55,117],[58,179,55,118],[59,12,56,10],[59,16,56,14,"isPrevented"],[59,27,56,25],[59,29,56,27],[60,14,57,12],[60,21,57,19],[60,25,57,23],[61,12,58,10],[62,12,59,10,"setState"],[62,20,59,18],[62,21,59,19,"result"],[62,27,59,25],[62,28,59,26],[63,10,60,8],[64,10,61,8],[64,14,61,12,"onRouteFocusParent"],[64,32,61,30],[64,37,61,35,"undefined"],[64,46,61,44],[64,48,61,46],[65,12,62,10],[66,12,63,10],[67,12,64,10],[67,18,64,16,"shouldFocus"],[67,29,64,27],[67,32,64,30,"router"],[67,38,64,36],[67,39,64,37,"shouldActionChangeFocus"],[67,62,64,60],[67,63,64,61,"action"],[67,69,64,67],[67,70,64,68],[68,12,65,10],[68,16,65,14,"shouldFocus"],[68,27,65,25],[68,31,65,29,"key"],[68,34,65,32],[68,39,65,37,"undefined"],[68,48,65,46],[68,50,65,48],[69,14,66,12,"onRouteFocusParent"],[69,32,66,30],[69,33,66,31,"key"],[69,36,66,34],[69,37,66,35],[70,12,67,10],[71,10,68,8],[72,10,69,8],[72,17,69,15],[72,21,69,19],[73,8,70,6],[74,6,71,4],[75,6,72,4],[75,10,72,8,"onActionParent"],[75,24,72,22],[75,29,72,27,"undefined"],[75,38,72,36],[75,40,72,38],[76,8,73,6],[77,8,74,6],[77,12,74,10,"onActionParent"],[77,26,74,24],[77,27,74,25,"action"],[77,33,74,31],[77,35,74,33,"visitedNavigators"],[77,52,74,50],[77,53,74,51],[77,55,74,53],[78,10,75,8],[78,17,75,15],[78,21,75,19],[79,8,76,6],[80,6,77,4],[81,6,78,4],[81,10,78,8],[81,17,78,15,"action"],[81,23,78,21],[81,24,78,22,"target"],[81,30,78,28],[81,35,78,33],[81,43,78,41],[82,6,79,4],[83,6,80,4,"action"],[83,12,80,10],[83,13,80,11,"type"],[83,17,80,15],[83,22,80,20],[83,43,80,41],[83,47,80,45,"navigationInChildEnabled"],[83,71,80,69],[83,73,80,71],[84,8,81,6],[85,8,82,6],[86,8,83,6],[86,13,83,11],[86,17,83,15,"i"],[86,18,83,16],[86,21,83,19,"actionListeners"],[86,36,83,34],[86,37,83,35,"length"],[86,43,83,41],[86,46,83,44],[86,47,83,45],[86,49,83,47,"i"],[86,50,83,48],[86,54,83,52],[86,55,83,53],[86,57,83,55,"i"],[86,58,83,56],[86,60,83,58],[86,62,83,60],[87,10,84,8],[87,16,84,14,"listener"],[87,24,84,22],[87,27,84,25,"actionListeners"],[87,42,84,40],[87,43,84,41,"i"],[87,44,84,42],[87,45,84,43],[88,10,85,8],[88,14,85,12,"listener"],[88,22,85,20],[88,23,85,21,"action"],[88,29,85,27],[88,31,85,29,"visitedNavigators"],[88,48,85,46],[88,49,85,47],[88,51,85,49],[89,12,86,10],[89,19,86,17],[89,23,86,21],[90,10,87,8],[91,8,88,6],[92,6,89,4],[93,6,90,4],[93,13,90,11],[93,18,90,16],[94,4,91,2],[94,5,91,3],[94,7,91,5],[94,8,91,6,"actionListeners"],[94,23,91,21],[94,25,91,23,"beforeRemoveListeners"],[94,46,91,44],[94,48,91,46,"emitter"],[94,55,91,53],[94,57,91,55,"getState"],[94,65,91,63],[94,67,91,65,"navigationInChildEnabled"],[94,91,91,89],[94,93,91,91,"key"],[94,96,91,94],[94,98,91,96,"onActionParent"],[94,112,91,110],[94,114,91,112,"onDispatchAction"],[94,130,91,128],[94,132,91,130,"onRouteFocusParent"],[94,150,91,148],[94,152,91,150,"router"],[94,158,91,156],[94,160,91,158,"setState"],[94,168,91,166],[94,169,91,167],[94,170,91,168],[95,4,92,2],[95,8,92,2,"useOnPreventRemove"],[95,34,92,2],[95,35,92,2,"useOnPreventRemove"],[95,80,92,20],[95,82,92,21],[96,6,93,4,"getState"],[96,14,93,12],[97,6,94,4,"emitter"],[97,13,94,11],[98,6,95,4,"beforeRemoveListeners"],[99,4,96,2],[99,5,96,3],[99,6,96,4],[100,4,97,2,"React"],[100,9,97,7],[100,10,97,8,"useEffect"],[100,19,97,17],[100,20,97,18],[100,26,97,24,"addListenerParent"],[100,43,97,41],[100,46,97,44],[100,54,97,52],[100,56,97,54,"onAction"],[100,64,97,62],[100,65,97,63],[100,67,97,65],[100,68,97,66,"addListenerParent"],[100,85,97,83],[100,87,97,85,"onAction"],[100,95,97,93],[100,96,97,94],[100,97,97,95],[101,4,98,2],[101,11,98,9,"onAction"],[101,19,98,17],[102,2,99,0],[103,0,99,1],[103,3]],"functionMap":{"names":["<global>","useOnAction","React.useEffect$argument_0","onAction"],"mappings":"AAA;OCe;kBCkB;GDE;qCEC;GFsD;kBCM,6CD;CDE"}},"type":"js/module"}]}