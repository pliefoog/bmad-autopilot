{"dependencies":[{"name":"lodash/fp","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":13,"index":258},"end":{"line":4,"column":33,"index":278}}],"key":"LevDUHeagenhA978YRPYCCCyCiU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.parseEncode = exports.encodeCanIdString = exports.canIdString = exports.encodeCanId = exports.buildCanId = exports.parseCanIdStr = exports.parseCanId = void 0;\n  // Decode CAN Identifier (canId). ISO 11783 (CAN 2.0 B Extended Frame Format)\n  var parseCanId = id => {\n    var PF = id >> 16 & 0xff; // PDU Format\n    var PS = id >> 8 & 0xff; // PDU Specific\n    var DP = id >> 24 & 1; // Data Page\n    var dst, pgn;\n    if (PF < 240) {\n      /* PDU1 format, the PS contains the destination address */\n      dst = PS;\n      pgn = (DP << 16) + (PF << 8);\n    } else {\n      /* PDU2 format, the destination is implied global and the PGN is extended */\n      dst = 0xff;\n      pgn = (DP << 16) + (PF << 8) + PS;\n    }\n    return {\n      canId: id,\n      // Include original canId in return object.\n      prio: id >> 26 & 0x7,\n      // Priority\n      src: id & 0xff,\n      // Source Address (SA),\n      pgn,\n      dst\n    };\n  };\n  exports.parseCanId = parseCanId;\n  // canId should be a hex encoded string without spaces or commas.\n  var parseCanIdStr = canId => (0, exports.parseCanId)(parseInt(canId, 16));\n  exports.parseCanIdStr = parseCanIdStr;\n  var buildCanId = (prio, pgn, dst, src) => ({\n    prio: Number(prio),\n    pgn: Number(pgn),\n    dst: Number(dst),\n    src: Number(src)\n  });\n  exports.buildCanId = buildCanId;\n  // Encode CAN Identifier (canId)\n  var encodeCanId = id => {\n    var canId = id.src & 0xff;\n    //I can't get this to work, but things seem ok??\n    //let canId = ((src & 0xff) | 0x80000000)) // src bits are the lowest ones of the CAN ID. Also set the highest bit to 1 as n2k uses\n    // only extended frames (EFF bit).\n    var PF = id.pgn >> 8 & 0xff;\n    if (PF < 240) {\n      // PDU 1\n      canId = canId | (id.dst & 0xff) << 8;\n      canId = canId | id.pgn << 8;\n    } else {\n      // PDU 2\n      canId = canId | id.pgn << 8;\n    }\n    canId = canId | id.prio << 26;\n    return canId;\n  };\n  exports.encodeCanId = encodeCanId;\n  var canIdString = canId => canId.toString(16).padStart(8, '0');\n  exports.canIdString = canIdString;\n  exports.encodeCanIdString = (0, require(_dependencyMap[0], \"lodash/fp\").flow)(exports.encodeCanId, exports.canIdString);\n  // Utility function that parses and re-encodes. Compare result to original.\n  var parseEncode = x => (0, exports.encodeCanId)((0, exports.parseCanId)(x));\n  exports.parseEncode = parseEncode;\n});","lineCount":70,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"parseEncode"],[7,21,3,19],[7,24,3,22,"exports"],[7,31,3,29],[7,32,3,30,"encodeCanIdString"],[7,49,3,47],[7,52,3,50,"exports"],[7,59,3,57],[7,60,3,58,"canIdString"],[7,71,3,69],[7,74,3,72,"exports"],[7,81,3,79],[7,82,3,80,"encodeCanId"],[7,93,3,91],[7,96,3,94,"exports"],[7,103,3,101],[7,104,3,102,"buildCanId"],[7,114,3,112],[7,117,3,115,"exports"],[7,124,3,122],[7,125,3,123,"parseCanIdStr"],[7,138,3,136],[7,141,3,139,"exports"],[7,148,3,146],[7,149,3,147,"parseCanId"],[7,159,3,157],[7,162,3,160],[7,167,3,165],[7,168,3,166],[8,2,5,0],[9,2,6,0],[9,6,6,6,"parseCanId"],[9,16,6,16],[9,19,6,20,"id"],[9,21,6,22],[9,25,6,27],[10,4,7,4],[10,8,7,10,"PF"],[10,10,7,12],[10,13,7,16,"id"],[10,15,7,18],[10,19,7,22],[10,21,7,24],[10,24,7,28],[10,28,7,32],[10,29,7,33],[10,30,7,34],[11,4,8,4],[11,8,8,10,"PS"],[11,10,8,12],[11,13,8,16,"id"],[11,15,8,18],[11,19,8,22],[11,20,8,23],[11,23,8,27],[11,27,8,31],[11,28,8,32],[11,29,8,33],[12,4,9,4],[12,8,9,10,"DP"],[12,10,9,12],[12,13,9,16,"id"],[12,15,9,18],[12,19,9,22],[12,21,9,24],[12,24,9,28],[12,25,9,29],[12,26,9,30],[12,27,9,31],[13,4,10,4],[13,8,10,8,"dst"],[13,11,10,11],[13,13,10,13,"pgn"],[13,16,10,16],[14,4,11,4],[14,8,11,8,"PF"],[14,10,11,10],[14,13,11,13],[14,16,11,16],[14,18,11,18],[15,6,12,8],[16,6,13,8,"dst"],[16,9,13,11],[16,12,13,14,"PS"],[16,14,13,16],[17,6,14,8,"pgn"],[17,9,14,11],[17,12,14,14],[17,13,14,15,"DP"],[17,15,14,17],[17,19,14,21],[17,21,14,23],[17,26,14,28,"PF"],[17,28,14,30],[17,32,14,34],[17,33,14,35],[17,34,14,36],[18,4,15,4],[18,5,15,5],[18,11,16,9],[19,6,17,8],[20,6,18,8,"dst"],[20,9,18,11],[20,12,18,14],[20,16,18,18],[21,6,19,8,"pgn"],[21,9,19,11],[21,12,19,14],[21,13,19,15,"DP"],[21,15,19,17],[21,19,19,21],[21,21,19,23],[21,26,19,28,"PF"],[21,28,19,30],[21,32,19,34],[21,33,19,35],[21,34,19,36],[21,37,19,39,"PS"],[21,39,19,41],[22,4,20,4],[23,4,21,4],[23,11,21,11],[24,6,22,8,"canId"],[24,11,22,13],[24,13,22,15,"id"],[24,15,22,17],[25,6,22,19],[26,6,23,8,"prio"],[26,10,23,12],[26,12,23,15,"id"],[26,14,23,17],[26,18,23,21],[26,20,23,23],[26,23,23,27],[26,26,23,30],[27,6,23,32],[28,6,24,8,"src"],[28,9,24,11],[28,11,24,13,"id"],[28,13,24,15],[28,16,24,18],[28,20,24,22],[29,6,24,24],[30,6,25,8,"pgn"],[30,9,25,11],[31,6,26,8,"dst"],[32,4,27,4],[32,5,27,5],[33,2,28,0],[33,3,28,1],[34,2,29,0,"exports"],[34,9,29,7],[34,10,29,8,"parseCanId"],[34,20,29,18],[34,23,29,21,"parseCanId"],[34,33,29,31],[35,2,30,0],[36,2,31,0],[36,6,31,6,"parseCanIdStr"],[36,19,31,19],[36,22,31,23,"canId"],[36,27,31,28],[36,31,31,33],[36,32,31,34],[36,33,31,35],[36,35,31,37,"exports"],[36,42,31,44],[36,43,31,45,"parseCanId"],[36,53,31,55],[36,55,31,57,"parseInt"],[36,63,31,65],[36,64,31,66,"canId"],[36,69,31,71],[36,71,31,73],[36,73,31,75],[36,74,31,76],[36,75,31,77],[37,2,32,0,"exports"],[37,9,32,7],[37,10,32,8,"parseCanIdStr"],[37,23,32,21],[37,26,32,24,"parseCanIdStr"],[37,39,32,37],[38,2,33,0],[38,6,33,6,"buildCanId"],[38,16,33,16],[38,19,33,19,"buildCanId"],[38,20,33,20,"prio"],[38,24,33,24],[38,26,33,26,"pgn"],[38,29,33,29],[38,31,33,31,"dst"],[38,34,33,34],[38,36,33,36,"src"],[38,39,33,39],[38,45,33,45],[39,4,34,4,"prio"],[39,8,34,8],[39,10,34,10,"Number"],[39,16,34,16],[39,17,34,17,"prio"],[39,21,34,21],[39,22,34,22],[40,4,35,4,"pgn"],[40,7,35,7],[40,9,35,9,"Number"],[40,15,35,15],[40,16,35,16,"pgn"],[40,19,35,19],[40,20,35,20],[41,4,36,4,"dst"],[41,7,36,7],[41,9,36,9,"Number"],[41,15,36,15],[41,16,36,16,"dst"],[41,19,36,19],[41,20,36,20],[42,4,37,4,"src"],[42,7,37,7],[42,9,37,9,"Number"],[42,15,37,15],[42,16,37,16,"src"],[42,19,37,19],[43,2,38,0],[43,3,38,1],[43,4,38,2],[44,2,39,0,"exports"],[44,9,39,7],[44,10,39,8,"buildCanId"],[44,20,39,18],[44,23,39,21,"buildCanId"],[44,33,39,31],[45,2,40,0],[46,2,41,0],[46,6,41,6,"encodeCanId"],[46,17,41,17],[46,20,41,21,"id"],[46,22,41,23],[46,26,41,28],[47,4,42,4],[47,8,42,8,"canId"],[47,13,42,13],[47,16,42,16,"id"],[47,18,42,18],[47,19,42,19,"src"],[47,22,42,22],[47,25,42,25],[47,29,42,29],[48,4,43,4],[49,4,44,4],[50,4,45,4],[51,4,46,4],[51,8,46,10,"PF"],[51,10,46,12],[51,13,46,16,"id"],[51,15,46,18],[51,16,46,19,"pgn"],[51,19,46,22],[51,23,46,26],[51,24,46,27],[51,27,46,31],[51,31,46,35],[52,4,47,4],[52,8,47,8,"PF"],[52,10,47,10],[52,13,47,13],[52,16,47,16],[52,18,47,18],[53,6,48,8],[54,6,49,8,"canId"],[54,11,49,13],[54,14,49,16,"canId"],[54,19,49,21],[54,22,49,25],[54,23,49,26,"id"],[54,25,49,28],[54,26,49,29,"dst"],[54,29,49,32],[54,32,49,35],[54,36,49,39],[54,41,49,44],[54,42,49,46],[55,6,50,8,"canId"],[55,11,50,13],[55,14,50,16,"canId"],[55,19,50,21],[55,22,50,25,"id"],[55,24,50,27],[55,25,50,28,"pgn"],[55,28,50,31],[55,32,50,35],[55,33,50,37],[56,4,51,4],[56,5,51,5],[56,11,52,9],[57,6,53,8],[58,6,54,8,"canId"],[58,11,54,13],[58,14,54,16,"canId"],[58,19,54,21],[58,22,54,25,"id"],[58,24,54,27],[58,25,54,28,"pgn"],[58,28,54,31],[58,32,54,35],[58,33,54,37],[59,4,55,4],[60,4,56,4,"canId"],[60,9,56,9],[60,12,56,12,"canId"],[60,17,56,17],[60,20,56,21,"id"],[60,22,56,23],[60,23,56,24,"prio"],[60,27,56,28],[60,31,56,32],[60,33,56,35],[61,4,57,4],[61,11,57,11,"canId"],[61,16,57,16],[62,2,58,0],[62,3,58,1],[63,2,59,0,"exports"],[63,9,59,7],[63,10,59,8,"encodeCanId"],[63,21,59,19],[63,24,59,22,"encodeCanId"],[63,35,59,33],[64,2,60,0],[64,6,60,6,"canIdString"],[64,17,60,17],[64,20,60,21,"canId"],[64,25,60,26],[64,29,60,31,"canId"],[64,34,60,36],[64,35,60,37,"toString"],[64,43,60,45],[64,44,60,46],[64,46,60,48],[64,47,60,49],[64,48,60,50,"padStart"],[64,56,60,58],[64,57,60,59],[64,58,60,60],[64,60,60,62],[64,63,60,65],[64,64,60,66],[65,2,61,0,"exports"],[65,9,61,7],[65,10,61,8,"canIdString"],[65,21,61,19],[65,24,61,22,"canIdString"],[65,35,61,33],[66,2,62,0,"exports"],[66,9,62,7],[66,10,62,8,"encodeCanIdString"],[66,27,62,25],[66,30,62,28],[66,31,62,29],[66,32,62,30],[66,34,62,32,"require"],[66,41,62,32],[66,42,62,32,"_dependencyMap"],[66,56,62,32],[66,74,62,37,"flow"],[66,78,62,41],[66,80,62,43,"exports"],[66,87,62,50],[66,88,62,51,"encodeCanId"],[66,99,62,62],[66,101,62,64,"exports"],[66,108,62,71],[66,109,62,72,"canIdString"],[66,120,62,83],[66,121,62,84],[67,2,63,0],[68,2,64,0],[68,6,64,6,"parseEncode"],[68,17,64,17],[68,20,64,21,"x"],[68,21,64,22],[68,25,64,27],[68,26,64,28],[68,27,64,29],[68,29,64,31,"exports"],[68,36,64,38],[68,37,64,39,"encodeCanId"],[68,48,64,50],[68,50,64,52],[68,51,64,53],[68,52,64,54],[68,54,64,56,"exports"],[68,61,64,63],[68,62,64,64,"parseCanId"],[68,72,64,74],[68,74,64,76,"x"],[68,75,64,77],[68,76,64,78],[68,77,64,79],[69,2,65,0,"exports"],[69,9,65,7],[69,10,65,8,"parseEncode"],[69,21,65,19],[69,24,65,22,"parseEncode"],[69,35,65,33],[70,0,65,34],[70,3]],"functionMap":{"names":["<global>","parseCanId","parseCanIdStr","buildCanId","encodeCanId","canIdString","parseEncode"],"mappings":"AAA;mBCK;CDsB;sBEG,uDF;mBGE;EHK;oBIG;CJiB;oBKE,8CL;oBMI,2DN"}},"type":"js/module"}]}