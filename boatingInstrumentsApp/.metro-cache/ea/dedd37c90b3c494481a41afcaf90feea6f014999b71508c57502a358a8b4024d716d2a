{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":265},"end":{"line":9,"column":44,"index":309}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":310},"end":{"line":10,"column":69,"index":379}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useOnboarding = exports.resetOnboardingStatus = void 0;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _slicedToArray2 = _interopRequireDefault(require(_dependencyMap[2], \"@babel/runtime/helpers/slicedToArray\"));\n  var _react = require(_dependencyMap[3], \"react\");\n  var _asyncStorage = _interopRequireDefault(require(_dependencyMap[4], \"@react-native-async-storage/async-storage\"));\n  var _s = $RefreshSig$();\n  /**\n   * Onboarding Hook\n   * Story 4.4 AC11: First-run detection and onboarding state management\n   *\n   * Manages onboarding flow state using AsyncStorage to detect first-run users.\n   * Provides methods to trigger onboarding, mark complete, and replay from settings.\n   */\n  var ONBOARDING_STORAGE_KEY = '@bmad_autopilot:has_completed_onboarding';\n  var useOnboarding = () => {\n    _s();\n    var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      isOnboardingVisible = _useState2[0],\n      setIsOnboardingVisible = _useState2[1];\n    var _useState3 = (0, _react.useState)(true),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      isLoading = _useState4[0],\n      setIsLoading = _useState4[1];\n    (0, _react.useEffect)(() => {\n      checkOnboardingStatus();\n    }, []);\n    var checkOnboardingStatus = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator2.default)(function* () {\n        try {\n          var hasCompleted = yield _asyncStorage.default.getItem(ONBOARDING_STORAGE_KEY);\n          if (hasCompleted !== 'true') {\n            // First-run user - show onboarding\n            setIsOnboardingVisible(true);\n          }\n        } catch (error) {\n          console.error('Failed to check onboarding status:', error);\n          // On error, don't show onboarding to avoid blocking the app\n        } finally {\n          setIsLoading(false);\n        }\n      });\n      return function checkOnboardingStatus() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var showOnboarding = () => {\n      setIsOnboardingVisible(true);\n    };\n    var completeOnboarding = /*#__PURE__*/function () {\n      var _ref2 = (0, _asyncToGenerator2.default)(function* () {\n        try {\n          yield _asyncStorage.default.setItem(ONBOARDING_STORAGE_KEY, 'true');\n          setIsOnboardingVisible(false);\n        } catch (error) {\n          console.error('Failed to save onboarding completion:', error);\n          // Still hide onboarding even if save fails\n          setIsOnboardingVisible(false);\n        }\n      });\n      return function completeOnboarding() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    var skipOnboarding = /*#__PURE__*/function () {\n      var _ref3 = (0, _asyncToGenerator2.default)(function* () {\n        // Skipping also marks as complete so user isn't prompted again\n        yield completeOnboarding();\n      });\n      return function skipOnboarding() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    var replayOnboarding = () => {\n      setIsOnboardingVisible(true);\n    };\n    return {\n      isOnboardingVisible,\n      isLoading,\n      showOnboarding,\n      completeOnboarding,\n      skipOnboarding,\n      replayOnboarding\n    };\n  };\n\n  /**\n   * Reset onboarding status (for testing)\n   * Call this to simulate first-run experience\n   */\n  exports.useOnboarding = useOnboarding;\n  _s(useOnboarding, \"hIflIqa8yVhwEyLRz2YKZ6uYqW4=\");\n  var resetOnboardingStatus = exports.resetOnboardingStatus = /*#__PURE__*/function () {\n    var _ref4 = (0, _asyncToGenerator2.default)(function* () {\n      try {\n        yield _asyncStorage.default.removeItem(ONBOARDING_STORAGE_KEY);\n      } catch (error) {\n        console.error('Failed to reset onboarding status:', error);\n        throw error;\n      }\n    });\n    return function resetOnboardingStatus() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n});","lineCount":111,"map":[[9,2,9,0],[9,6,9,0,"_react"],[9,12,9,0],[9,15,9,0,"require"],[9,22,9,0],[9,23,9,0,"_dependencyMap"],[9,37,9,0],[10,2,10,0],[10,6,10,0,"_asyncStorage"],[10,19,10,0],[10,22,10,0,"_interopRequireDefault"],[10,44,10,0],[10,45,10,0,"require"],[10,52,10,0],[10,53,10,0,"_dependencyMap"],[10,67,10,0],[11,2,10,69],[11,6,10,69,"_s"],[11,8,10,69],[11,11,10,69,"$RefreshSig$"],[11,23,10,69],[12,2,1,0],[13,0,2,0],[14,0,3,0],[15,0,4,0],[16,0,5,0],[17,0,6,0],[18,0,7,0],[19,2,12,0],[19,6,12,6,"ONBOARDING_STORAGE_KEY"],[19,28,12,28],[19,31,12,31],[19,73,12,73],[20,2,29,7],[20,6,29,13,"useOnboarding"],[20,19,29,26],[20,22,29,29,"useOnboarding"],[20,23,29,29],[20,28,29,56],[21,4,29,56,"_s"],[21,6,29,56],[22,4,30,2],[22,8,30,2,"_useState"],[22,17,30,2],[22,20,30,56],[22,24,30,56,"useState"],[22,39,30,64],[22,41,30,65],[22,46,30,70],[22,47,30,71],[23,6,30,71,"_useState2"],[23,16,30,71],[23,23,30,71,"_slicedToArray2"],[23,38,30,71],[23,39,30,71,"default"],[23,46,30,71],[23,48,30,71,"_useState"],[23,57,30,71],[24,6,30,9,"isOnboardingVisible"],[24,25,30,28],[24,28,30,28,"_useState2"],[24,38,30,28],[25,6,30,30,"setIsOnboardingVisible"],[25,28,30,52],[25,31,30,52,"_useState2"],[25,41,30,52],[26,4,31,2],[26,8,31,2,"_useState3"],[26,18,31,2],[26,21,31,36],[26,25,31,36,"useState"],[26,40,31,44],[26,42,31,45],[26,46,31,49],[26,47,31,50],[27,6,31,50,"_useState4"],[27,16,31,50],[27,23,31,50,"_slicedToArray2"],[27,38,31,50],[27,39,31,50,"default"],[27,46,31,50],[27,48,31,50,"_useState3"],[27,58,31,50],[28,6,31,9,"isLoading"],[28,15,31,18],[28,18,31,18,"_useState4"],[28,28,31,18],[29,6,31,20,"setIsLoading"],[29,18,31,32],[29,21,31,32,"_useState4"],[29,31,31,32],[30,4,33,2],[30,8,33,2,"useEffect"],[30,24,33,11],[30,26,33,12],[30,32,33,18],[31,6,34,4,"checkOnboardingStatus"],[31,27,34,25],[31,28,34,26],[31,29,34,27],[32,4,35,2],[32,5,35,3],[32,7,35,5],[32,9,35,7],[32,10,35,8],[33,4,37,2],[33,8,37,8,"checkOnboardingStatus"],[33,29,37,29],[34,6,37,29],[34,10,37,29,"_ref"],[34,14,37,29],[34,21,37,29,"_asyncToGenerator2"],[34,39,37,29],[34,40,37,29,"default"],[34,47,37,29],[34,49,37,32],[34,62,37,44],[35,8,38,4],[35,12,38,8],[36,10,39,6],[36,14,39,12,"hasCompleted"],[36,26,39,24],[36,35,39,33,"AsyncStorage"],[36,56,39,45],[36,57,39,46,"getItem"],[36,64,39,53],[36,65,39,54,"ONBOARDING_STORAGE_KEY"],[36,87,39,76],[36,88,39,77],[37,10,41,6],[37,14,41,10,"hasCompleted"],[37,26,41,22],[37,31,41,27],[37,37,41,33],[37,39,41,35],[38,12,42,8],[39,12,43,8,"setIsOnboardingVisible"],[39,34,43,30],[39,35,43,31],[39,39,43,35],[39,40,43,36],[40,10,44,6],[41,8,45,4],[41,9,45,5],[41,10,45,6],[41,17,45,13,"error"],[41,22,45,18],[41,24,45,20],[42,10,46,6,"console"],[42,17,46,13],[42,18,46,14,"error"],[42,23,46,19],[42,24,46,20],[42,60,46,56],[42,62,46,58,"error"],[42,67,46,63],[42,68,46,64],[43,10,47,6],[44,8,48,4],[44,9,48,5],[44,18,48,14],[45,10,49,6,"setIsLoading"],[45,22,49,18],[45,23,49,19],[45,28,49,24],[45,29,49,25],[46,8,50,4],[47,6,51,2],[47,7,51,3],[48,6,51,3],[48,22,37,8,"checkOnboardingStatus"],[48,43,37,29,"checkOnboardingStatus"],[48,44,37,29],[49,8,37,29],[49,15,37,29,"_ref"],[49,19,37,29],[49,20,37,29,"apply"],[49,25,37,29],[49,32,37,29,"arguments"],[49,41,37,29],[50,6,37,29],[51,4,37,29],[51,7,51,3],[52,4,53,2],[52,8,53,8,"showOnboarding"],[52,22,53,22],[52,25,53,25,"showOnboarding"],[52,26,53,25],[52,31,53,31],[53,6,54,4,"setIsOnboardingVisible"],[53,28,54,26],[53,29,54,27],[53,33,54,31],[53,34,54,32],[54,4,55,2],[54,5,55,3],[55,4,57,2],[55,8,57,8,"completeOnboarding"],[55,26,57,26],[56,6,57,26],[56,10,57,26,"_ref2"],[56,15,57,26],[56,22,57,26,"_asyncToGenerator2"],[56,40,57,26],[56,41,57,26,"default"],[56,48,57,26],[56,50,57,29],[56,63,57,41],[57,8,58,4],[57,12,58,8],[58,10,59,6],[58,16,59,12,"AsyncStorage"],[58,37,59,24],[58,38,59,25,"setItem"],[58,45,59,32],[58,46,59,33,"ONBOARDING_STORAGE_KEY"],[58,68,59,55],[58,70,59,57],[58,76,59,63],[58,77,59,64],[59,10,60,6,"setIsOnboardingVisible"],[59,32,60,28],[59,33,60,29],[59,38,60,34],[59,39,60,35],[60,8,61,4],[60,9,61,5],[60,10,61,6],[60,17,61,13,"error"],[60,22,61,18],[60,24,61,20],[61,10,62,6,"console"],[61,17,62,13],[61,18,62,14,"error"],[61,23,62,19],[61,24,62,20],[61,63,62,59],[61,65,62,61,"error"],[61,70,62,66],[61,71,62,67],[62,10,63,6],[63,10,64,6,"setIsOnboardingVisible"],[63,32,64,28],[63,33,64,29],[63,38,64,34],[63,39,64,35],[64,8,65,4],[65,6,66,2],[65,7,66,3],[66,6,66,3],[66,22,57,8,"completeOnboarding"],[66,40,57,26,"completeOnboarding"],[66,41,57,26],[67,8,57,26],[67,15,57,26,"_ref2"],[67,20,57,26],[67,21,57,26,"apply"],[67,26,57,26],[67,33,57,26,"arguments"],[67,42,57,26],[68,6,57,26],[69,4,57,26],[69,7,66,3],[70,4,68,2],[70,8,68,8,"skipOnboarding"],[70,22,68,22],[71,6,68,22],[71,10,68,22,"_ref3"],[71,15,68,22],[71,22,68,22,"_asyncToGenerator2"],[71,40,68,22],[71,41,68,22,"default"],[71,48,68,22],[71,50,68,25],[71,63,68,37],[72,8,69,4],[73,8,70,4],[73,14,70,10,"completeOnboarding"],[73,32,70,28],[73,33,70,29],[73,34,70,30],[74,6,71,2],[74,7,71,3],[75,6,71,3],[75,22,68,8,"skipOnboarding"],[75,36,68,22,"skipOnboarding"],[75,37,68,22],[76,8,68,22],[76,15,68,22,"_ref3"],[76,20,68,22],[76,21,68,22,"apply"],[76,26,68,22],[76,33,68,22,"arguments"],[76,42,68,22],[77,6,68,22],[78,4,68,22],[78,7,71,3],[79,4,73,2],[79,8,73,8,"replayOnboarding"],[79,24,73,24],[79,27,73,27,"replayOnboarding"],[79,28,73,27],[79,33,73,33],[80,6,74,4,"setIsOnboardingVisible"],[80,28,74,26],[80,29,74,27],[80,33,74,31],[80,34,74,32],[81,4,75,2],[81,5,75,3],[82,4,77,2],[82,11,77,9],[83,6,78,4,"isOnboardingVisible"],[83,25,78,23],[84,6,79,4,"isLoading"],[84,15,79,13],[85,6,80,4,"showOnboarding"],[85,20,80,18],[86,6,81,4,"completeOnboarding"],[86,24,81,22],[87,6,82,4,"skipOnboarding"],[87,20,82,18],[88,6,83,4,"replayOnboarding"],[89,4,84,2],[89,5,84,3],[90,2,85,0],[90,3,85,1],[92,2,87,0],[93,0,88,0],[94,0,89,0],[95,0,90,0],[96,2,87,0,"exports"],[96,9,87,0],[96,10,87,0,"useOnboarding"],[96,23,87,0],[96,26,87,0,"useOnboarding"],[96,39,87,0],[97,2,87,0,"_s"],[97,4,87,0],[97,5,29,13,"useOnboarding"],[97,18,29,26],[98,2,91,7],[98,6,91,13,"resetOnboardingStatus"],[98,27,91,34],[98,30,91,34,"exports"],[98,37,91,34],[98,38,91,34,"resetOnboardingStatus"],[98,59,91,34],[99,4,91,34],[99,8,91,34,"_ref4"],[99,13,91,34],[99,20,91,34,"_asyncToGenerator2"],[99,38,91,34],[99,39,91,34,"default"],[99,46,91,34],[99,48,91,37],[99,61,91,64],[100,6,92,2],[100,10,92,6],[101,8,93,4],[101,14,93,10,"AsyncStorage"],[101,35,93,22],[101,36,93,23,"removeItem"],[101,46,93,33],[101,47,93,34,"ONBOARDING_STORAGE_KEY"],[101,69,93,56],[101,70,93,57],[102,6,94,2],[102,7,94,3],[102,8,94,4],[102,15,94,11,"error"],[102,20,94,16],[102,22,94,18],[103,8,95,4,"console"],[103,15,95,11],[103,16,95,12,"error"],[103,21,95,17],[103,22,95,18],[103,58,95,54],[103,60,95,56,"error"],[103,65,95,61],[103,66,95,62],[104,8,96,4],[104,14,96,10,"error"],[104,19,96,15],[105,6,97,2],[106,4,98,0],[106,5,98,1],[107,4,98,1],[107,20,91,13,"resetOnboardingStatus"],[107,41,91,34,"resetOnboardingStatus"],[107,42,91,34],[108,6,91,34],[108,13,91,34,"_ref4"],[108,18,91,34],[108,19,91,34,"apply"],[108,24,91,34],[108,31,91,34,"arguments"],[108,40,91,34],[109,4,91,34],[110,2,91,34],[110,5,98,1],[111,0,98,2],[111,3]],"functionMap":{"names":["<global>","useOnboarding","useEffect$argument_0","checkOnboardingStatus","showOnboarding","completeOnboarding","skipOnboarding","replayOnboarding","resetOnboardingStatus"],"mappings":"AAA;6BC4B;YCI;GDE;gCEE;GFc;yBGE;GHE;6BIE;GJS;yBKE;GLG;2BME;GNE;CDU;qCQM;CRO"}},"type":"js/module"}]}