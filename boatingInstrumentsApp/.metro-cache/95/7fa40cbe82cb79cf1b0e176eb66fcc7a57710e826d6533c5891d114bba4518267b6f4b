{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":127},"end":{"line":5,"column":34,"index":161}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../../utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":55,"index":70}}],"key":"ByXat9lt9duIJLDmSeH0V+tRq1s=","exportNames":["*"],"imports":1}},{"name":"../../../mountRegistry","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":71},"end":{"line":4,"column":55,"index":126}}],"key":"ZDu7aL2iuT3Od7iyX13y9sY9XZQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useMountReactions = useMountReactions;\n  var _react = require(_dependencyMap[0], \"react\");\n  function shouldUpdateDetector(relation, gesture) {\n    if (relation === undefined) {\n      return false;\n    }\n    for (const tag of (0, require(_dependencyMap[1], \"../../utils\").transformIntoHandlerTags)(relation)) {\n      if (tag === gesture.handlerTag) {\n        return true;\n      }\n    }\n    return false;\n  }\n  function useMountReactions(updateDetector, state) {\n    (0, _react.useEffect)(() => {\n      return require(_dependencyMap[2], \"../../../mountRegistry\").MountRegistry.addMountListener(gesture => {\n        // At this point the ref in the gesture config should be updated, so we can check if one of the gestures\n        // set in a relation with the gesture got mounted. If so, we need to update the detector to propagate\n        // the changes to the native side.\n        for (const attachedGesture of state.attachedGestures) {\n          const blocksHandlers = attachedGesture.config.blocksHandlers;\n          const requireToFail = attachedGesture.config.requireToFail;\n          const simultaneousWith = attachedGesture.config.simultaneousWith;\n          if (shouldUpdateDetector(blocksHandlers, gesture) || shouldUpdateDetector(requireToFail, gesture) || shouldUpdateDetector(simultaneousWith, gesture)) {\n            updateDetector();\n\n            // We can safely return here, if any other gestures should be updated, they will be by the above call\n            return;\n          }\n        }\n      });\n    }, [updateDetector, state]);\n  }\n});","lineCount":40,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"useMountReactions"],[7,27,1,13],[7,30,1,13,"useMountReactions"],[7,47,1,13],[8,2,5,0],[8,6,5,0,"_react"],[8,12,5,0],[8,15,5,0,"require"],[8,22,5,0],[8,23,5,0,"_dependencyMap"],[8,37,5,0],[9,2,6,0],[9,11,6,9,"shouldUpdateDetector"],[9,31,6,29,"shouldUpdateDetector"],[9,32,6,30,"relation"],[9,40,6,38],[9,42,6,40,"gesture"],[9,49,6,47],[9,51,6,49],[10,4,7,2],[10,8,7,6,"relation"],[10,16,7,14],[10,21,7,19,"undefined"],[10,30,7,28],[10,32,7,30],[11,6,8,4],[11,13,8,11],[11,18,8,16],[12,4,9,2],[13,4,10,2],[13,9,10,7],[13,15,10,13,"tag"],[13,18,10,16],[13,22,10,20],[13,26,10,20,"transformIntoHandlerTags"],[13,52,10,20],[13,53,10,20,"transformIntoHandlerTags"],[13,92,10,44],[13,94,10,45,"relation"],[13,102,10,53],[13,103,10,54],[13,105,10,56],[14,6,11,4],[14,10,11,8,"tag"],[14,13,11,11],[14,18,11,16,"gesture"],[14,25,11,23],[14,26,11,24,"handlerTag"],[14,36,11,34],[14,38,11,36],[15,8,12,6],[15,15,12,13],[15,19,12,17],[16,6,13,4],[17,4,14,2],[18,4,15,2],[18,11,15,9],[18,16,15,14],[19,2,16,0],[20,2,17,7],[20,11,17,16,"useMountReactions"],[20,28,17,33,"useMountReactions"],[20,29,17,34,"updateDetector"],[20,43,17,48],[20,45,17,50,"state"],[20,50,17,55],[20,52,17,57],[21,4,18,2],[21,8,18,2,"useEffect"],[21,24,18,11],[21,26,18,12],[21,32,18,18],[22,6,19,4],[22,13,19,11,"MountRegistry"],[22,39,19,11],[22,40,19,11,"MountRegistry"],[22,79,19,24],[22,80,19,25,"addMountListener"],[22,96,19,41],[22,97,19,42,"gesture"],[22,104,19,49],[22,108,19,53],[23,8,20,6],[24,8,21,6],[25,8,22,6],[26,8,23,6],[26,13,23,11],[26,19,23,17,"attachedGesture"],[26,34,23,32],[26,38,23,36,"state"],[26,43,23,41],[26,44,23,42,"attachedGestures"],[26,60,23,58],[26,62,23,60],[27,10,24,8],[27,16,24,14,"blocksHandlers"],[27,30,24,28],[27,33,24,31,"attachedGesture"],[27,48,24,46],[27,49,24,47,"config"],[27,55,24,53],[27,56,24,54,"blocksHandlers"],[27,70,24,68],[28,10,25,8],[28,16,25,14,"requireToFail"],[28,29,25,27],[28,32,25,30,"attachedGesture"],[28,47,25,45],[28,48,25,46,"config"],[28,54,25,52],[28,55,25,53,"requireToFail"],[28,68,25,66],[29,10,26,8],[29,16,26,14,"simultaneousWith"],[29,32,26,30],[29,35,26,33,"attachedGesture"],[29,50,26,48],[29,51,26,49,"config"],[29,57,26,55],[29,58,26,56,"simultaneousWith"],[29,74,26,72],[30,10,27,8],[30,14,27,12,"shouldUpdateDetector"],[30,34,27,32],[30,35,27,33,"blocksHandlers"],[30,49,27,47],[30,51,27,49,"gesture"],[30,58,27,56],[30,59,27,57],[30,63,27,61,"shouldUpdateDetector"],[30,83,27,81],[30,84,27,82,"requireToFail"],[30,97,27,95],[30,99,27,97,"gesture"],[30,106,27,104],[30,107,27,105],[30,111,27,109,"shouldUpdateDetector"],[30,131,27,129],[30,132,27,130,"simultaneousWith"],[30,148,27,146],[30,150,27,148,"gesture"],[30,157,27,155],[30,158,27,156],[30,160,27,158],[31,12,28,10,"updateDetector"],[31,26,28,24],[31,27,28,25],[31,28,28,26],[33,12,30,10],[34,12,31,10],[35,10,32,8],[36,8,33,6],[37,6,34,4],[37,7,34,5],[37,8,34,6],[38,4,35,2],[38,5,35,3],[38,7,35,5],[38,8,35,6,"updateDetector"],[38,22,35,20],[38,24,35,22,"state"],[38,29,35,27],[38,30,35,28],[38,31,35,29],[39,2,36,0],[40,0,36,1],[40,3]],"functionMap":{"names":["<global>","shouldUpdateDetector","useMountReactions","useEffect$argument_0","MountRegistry.addMountListener$argument_0"],"mappings":"AAA;ACK;CDU;OEC;YCC;0CCC;KDe;GDC;CFC"}},"type":"js/module"}]}