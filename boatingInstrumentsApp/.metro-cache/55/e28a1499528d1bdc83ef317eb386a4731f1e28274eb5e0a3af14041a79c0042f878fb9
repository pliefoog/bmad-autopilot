{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"fGo7mEc/tw/OblLqGBCp3J3h+jY=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./NavigationBuilderContext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":47},"end":{"line":4,"column":73,"index":120}}],"key":"vvb+tbs8cGp9hlTxgL5PZCjRz5E=","exportNames":["*"],"imports":1}},{"name":"./NavigationStateContext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":121},"end":{"line":5,"column":69,"index":190}}],"key":"vPXNy6i2DuFIp7nHtHgSOvNmS+U=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireWildcard = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireWildcard\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useOptionsGetters = useOptionsGetters;\n  var React = _interopRequireWildcard(require(_dependencyMap[1], \"react\"));\n  function useOptionsGetters(_ref) {\n    var key = _ref.key,\n      options = _ref.options,\n      navigation = _ref.navigation;\n    var optionsRef = React.useRef(options);\n    var optionsGettersFromChildRef = React.useRef({});\n    var _React$useContext = React.useContext(require(_dependencyMap[2], \"./NavigationBuilderContext.js\").NavigationBuilderContext),\n      onOptionsChange = _React$useContext.onOptionsChange;\n    var _React$useContext2 = React.useContext(require(_dependencyMap[3], \"./NavigationStateContext.js\").NavigationStateContext),\n      parentAddOptionsGetter = _React$useContext2.addOptionsGetter;\n    var optionsChangeListener = React.useCallback(() => {\n      var isFocused = navigation?.isFocused() ?? true;\n      var hasChildren = Object.keys(optionsGettersFromChildRef.current).length;\n      if (isFocused && !hasChildren) {\n        onOptionsChange(optionsRef.current ?? {});\n      }\n    }, [navigation, onOptionsChange]);\n    React.useEffect(() => {\n      optionsRef.current = options;\n      optionsChangeListener();\n      return navigation?.addListener('focus', optionsChangeListener);\n    }, [navigation, options, optionsChangeListener]);\n    var getOptionsFromListener = React.useCallback(() => {\n      for (var _key in optionsGettersFromChildRef.current) {\n        if (_key in optionsGettersFromChildRef.current) {\n          var result = optionsGettersFromChildRef.current[_key]?.();\n\n          // null means unfocused route\n          if (result !== null) {\n            return result;\n          }\n        }\n      }\n      return null;\n    }, []);\n    var getCurrentOptions = React.useCallback(() => {\n      var isFocused = navigation?.isFocused() ?? true;\n      if (!isFocused) {\n        return null;\n      }\n      var optionsFromListener = getOptionsFromListener();\n      if (optionsFromListener !== null) {\n        return optionsFromListener;\n      }\n      return optionsRef.current;\n    }, [navigation, getOptionsFromListener]);\n    React.useEffect(() => {\n      return parentAddOptionsGetter?.(key, getCurrentOptions);\n    }, [getCurrentOptions, parentAddOptionsGetter, key]);\n    var addOptionsGetter = React.useCallback((key, getter) => {\n      optionsGettersFromChildRef.current[key] = getter;\n      optionsChangeListener();\n      return () => {\n        // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n        delete optionsGettersFromChildRef.current[key];\n        optionsChangeListener();\n      };\n    }, [optionsChangeListener]);\n    return {\n      addOptionsGetter,\n      getCurrentOptions\n    };\n  }\n});","lineCount":73,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_interopRequireWildcard"],[4,29,1,13],[4,32,1,13,"require"],[4,39,1,13],[4,40,1,13,"_dependencyMap"],[4,54,1,13],[4,108,1,13,"default"],[4,115,1,13],[5,2,1,13,"Object"],[5,8,1,13],[5,9,1,13,"defineProperty"],[5,23,1,13],[5,24,1,13,"exports"],[5,31,1,13],[6,4,1,13,"value"],[6,9,1,13],[7,2,1,13],[8,2,1,13,"exports"],[8,9,1,13],[8,10,1,13,"useOptionsGetters"],[8,27,1,13],[8,30,1,13,"useOptionsGetters"],[8,47,1,13],[9,2,3,0],[9,6,3,0,"React"],[9,11,3,0],[9,14,3,0,"_interopRequireWildcard"],[9,37,3,0],[9,38,3,0,"require"],[9,45,3,0],[9,46,3,0,"_dependencyMap"],[9,60,3,0],[10,2,6,7],[10,11,6,16,"useOptionsGetters"],[10,28,6,33,"useOptionsGetters"],[10,29,6,33,"_ref"],[10,33,6,33],[10,35,10,3],[11,4,10,3],[11,8,7,2,"key"],[11,11,7,5],[11,14,7,5,"_ref"],[11,18,7,5],[11,19,7,2,"key"],[11,22,7,5],[12,6,8,2,"options"],[12,13,8,9],[12,16,8,9,"_ref"],[12,20,8,9],[12,21,8,2,"options"],[12,28,8,9],[13,6,9,2,"navigation"],[13,16,9,12],[13,19,9,12,"_ref"],[13,23,9,12],[13,24,9,2,"navigation"],[13,34,9,12],[14,4,11,2],[14,8,11,8,"optionsRef"],[14,18,11,18],[14,21,11,21,"React"],[14,26,11,26],[14,27,11,27,"useRef"],[14,33,11,33],[14,34,11,34,"options"],[14,41,11,41],[14,42,11,42],[15,4,12,2],[15,8,12,8,"optionsGettersFromChildRef"],[15,34,12,34],[15,37,12,37,"React"],[15,42,12,42],[15,43,12,43,"useRef"],[15,49,12,49],[15,50,12,50],[15,51,12,51],[15,52,12,52],[15,53,12,53],[16,4,13,2],[16,8,13,2,"_React$useContext"],[16,25,13,2],[16,28,15,6,"React"],[16,33,15,11],[16,34,15,12,"useContext"],[16,44,15,22],[16,45,15,23,"NavigationBuilderContext"],[16,71,15,23],[16,72,15,23,"NavigationBuilderContext"],[16,129,15,47],[16,130,15,48],[17,6,14,4,"onOptionsChange"],[17,21,14,19],[17,24,14,19,"_React$useContext"],[17,41,14,19],[17,42,14,4,"onOptionsChange"],[17,57,14,19],[18,4,16,2],[18,8,16,2,"_React$useContext2"],[18,26,16,2],[18,29,18,6,"React"],[18,34,18,11],[18,35,18,12,"useContext"],[18,45,18,22],[18,46,18,23,"NavigationStateContext"],[18,72,18,23],[18,73,18,23,"NavigationStateContext"],[18,126,18,45],[18,127,18,46],[19,6,17,22,"parentAddOptionsGetter"],[19,28,17,44],[19,31,17,44,"_React$useContext2"],[19,49,17,44],[19,50,17,4,"addOptionsGetter"],[19,66,17,20],[20,4,19,2],[20,8,19,8,"optionsChangeListener"],[20,29,19,29],[20,32,19,32,"React"],[20,37,19,37],[20,38,19,38,"useCallback"],[20,49,19,49],[20,50,19,50],[20,56,19,56],[21,6,20,4],[21,10,20,10,"isFocused"],[21,19,20,19],[21,22,20,22,"navigation"],[21,32,20,32],[21,34,20,34,"isFocused"],[21,43,20,43],[21,44,20,44],[21,45,20,45],[21,49,20,49],[21,53,20,53],[22,6,21,4],[22,10,21,10,"hasChildren"],[22,21,21,21],[22,24,21,24,"Object"],[22,30,21,30],[22,31,21,31,"keys"],[22,35,21,35],[22,36,21,36,"optionsGettersFromChildRef"],[22,62,21,62],[22,63,21,63,"current"],[22,70,21,70],[22,71,21,71],[22,72,21,72,"length"],[22,78,21,78],[23,6,22,4],[23,10,22,8,"isFocused"],[23,19,22,17],[23,23,22,21],[23,24,22,22,"hasChildren"],[23,35,22,33],[23,37,22,35],[24,8,23,6,"onOptionsChange"],[24,23,23,21],[24,24,23,22,"optionsRef"],[24,34,23,32],[24,35,23,33,"current"],[24,42,23,40],[24,46,23,44],[24,47,23,45],[24,48,23,46],[24,49,23,47],[25,6,24,4],[26,4,25,2],[26,5,25,3],[26,7,25,5],[26,8,25,6,"navigation"],[26,18,25,16],[26,20,25,18,"onOptionsChange"],[26,35,25,33],[26,36,25,34],[26,37,25,35],[27,4,26,2,"React"],[27,9,26,7],[27,10,26,8,"useEffect"],[27,19,26,17],[27,20,26,18],[27,26,26,24],[28,6,27,4,"optionsRef"],[28,16,27,14],[28,17,27,15,"current"],[28,24,27,22],[28,27,27,25,"options"],[28,34,27,32],[29,6,28,4,"optionsChangeListener"],[29,27,28,25],[29,28,28,26],[29,29,28,27],[30,6,29,4],[30,13,29,11,"navigation"],[30,23,29,21],[30,25,29,23,"addListener"],[30,36,29,34],[30,37,29,35],[30,44,29,42],[30,46,29,44,"optionsChangeListener"],[30,67,29,65],[30,68,29,66],[31,4,30,2],[31,5,30,3],[31,7,30,5],[31,8,30,6,"navigation"],[31,18,30,16],[31,20,30,18,"options"],[31,27,30,25],[31,29,30,27,"optionsChangeListener"],[31,50,30,48],[31,51,30,49],[31,52,30,50],[32,4,31,2],[32,8,31,8,"getOptionsFromListener"],[32,30,31,30],[32,33,31,33,"React"],[32,38,31,38],[32,39,31,39,"useCallback"],[32,50,31,50],[32,51,31,51],[32,57,31,57],[33,6,32,4],[33,11,32,9],[33,15,32,15,"key"],[33,19,32,18],[33,23,32,22,"optionsGettersFromChildRef"],[33,49,32,48],[33,50,32,49,"current"],[33,57,32,56],[33,59,32,58],[34,8,33,6],[34,12,33,10,"key"],[34,16,33,13],[34,20,33,17,"optionsGettersFromChildRef"],[34,46,33,43],[34,47,33,44,"current"],[34,54,33,51],[34,56,33,53],[35,10,34,8],[35,14,34,14,"result"],[35,20,34,20],[35,23,34,23,"optionsGettersFromChildRef"],[35,49,34,49],[35,50,34,50,"current"],[35,57,34,57],[35,58,34,58,"key"],[35,62,34,61],[35,63,34,62],[35,66,34,65],[35,67,34,66],[37,10,36,8],[38,10,37,8],[38,14,37,12,"result"],[38,20,37,18],[38,25,37,23],[38,29,37,27],[38,31,37,29],[39,12,38,10],[39,19,38,17,"result"],[39,25,38,23],[40,10,39,8],[41,8,40,6],[42,6,41,4],[43,6,42,4],[43,13,42,11],[43,17,42,15],[44,4,43,2],[44,5,43,3],[44,7,43,5],[44,9,43,7],[44,10,43,8],[45,4,44,2],[45,8,44,8,"getCurrentOptions"],[45,25,44,25],[45,28,44,28,"React"],[45,33,44,33],[45,34,44,34,"useCallback"],[45,45,44,45],[45,46,44,46],[45,52,44,52],[46,6,45,4],[46,10,45,10,"isFocused"],[46,19,45,19],[46,22,45,22,"navigation"],[46,32,45,32],[46,34,45,34,"isFocused"],[46,43,45,43],[46,44,45,44],[46,45,45,45],[46,49,45,49],[46,53,45,53],[47,6,46,4],[47,10,46,8],[47,11,46,9,"isFocused"],[47,20,46,18],[47,22,46,20],[48,8,47,6],[48,15,47,13],[48,19,47,17],[49,6,48,4],[50,6,49,4],[50,10,49,10,"optionsFromListener"],[50,29,49,29],[50,32,49,32,"getOptionsFromListener"],[50,54,49,54],[50,55,49,55],[50,56,49,56],[51,6,50,4],[51,10,50,8,"optionsFromListener"],[51,29,50,27],[51,34,50,32],[51,38,50,36],[51,40,50,38],[52,8,51,6],[52,15,51,13,"optionsFromListener"],[52,34,51,32],[53,6,52,4],[54,6,53,4],[54,13,53,11,"optionsRef"],[54,23,53,21],[54,24,53,22,"current"],[54,31,53,29],[55,4,54,2],[55,5,54,3],[55,7,54,5],[55,8,54,6,"navigation"],[55,18,54,16],[55,20,54,18,"getOptionsFromListener"],[55,42,54,40],[55,43,54,41],[55,44,54,42],[56,4,55,2,"React"],[56,9,55,7],[56,10,55,8,"useEffect"],[56,19,55,17],[56,20,55,18],[56,26,55,24],[57,6,56,4],[57,13,56,11,"parentAddOptionsGetter"],[57,35,56,33],[57,38,56,36,"key"],[57,41,56,39],[57,43,56,41,"getCurrentOptions"],[57,60,56,58],[57,61,56,59],[58,4,57,2],[58,5,57,3],[58,7,57,5],[58,8,57,6,"getCurrentOptions"],[58,25,57,23],[58,27,57,25,"parentAddOptionsGetter"],[58,49,57,47],[58,51,57,49,"key"],[58,54,57,52],[58,55,57,53],[58,56,57,54],[59,4,58,2],[59,8,58,8,"addOptionsGetter"],[59,24,58,24],[59,27,58,27,"React"],[59,32,58,32],[59,33,58,33,"useCallback"],[59,44,58,44],[59,45,58,45],[59,46,58,46,"key"],[59,49,58,49],[59,51,58,51,"getter"],[59,57,58,57],[59,62,58,62],[60,6,59,4,"optionsGettersFromChildRef"],[60,32,59,30],[60,33,59,31,"current"],[60,40,59,38],[60,41,59,39,"key"],[60,44,59,42],[60,45,59,43],[60,48,59,46,"getter"],[60,54,59,52],[61,6,60,4,"optionsChangeListener"],[61,27,60,25],[61,28,60,26],[61,29,60,27],[62,6,61,4],[62,13,61,11],[62,19,61,17],[63,8,62,6],[64,8,63,6],[64,15,63,13,"optionsGettersFromChildRef"],[64,41,63,39],[64,42,63,40,"current"],[64,49,63,47],[64,50,63,48,"key"],[64,53,63,51],[64,54,63,52],[65,8,64,6,"optionsChangeListener"],[65,29,64,27],[65,30,64,28],[65,31,64,29],[66,6,65,4],[66,7,65,5],[67,4,66,2],[67,5,66,3],[67,7,66,5],[67,8,66,6,"optionsChangeListener"],[67,29,66,27],[67,30,66,28],[67,31,66,29],[68,4,67,2],[68,11,67,9],[69,6,68,4,"addOptionsGetter"],[69,22,68,20],[70,6,69,4,"getCurrentOptions"],[71,4,70,2],[71,5,70,3],[72,2,71,0],[73,0,71,1],[73,3]],"functionMap":{"names":["<global>","useOptionsGetters","optionsChangeListener","React.useEffect$argument_0","getOptionsFromListener","getCurrentOptions","addOptionsGetter","<anonymous>"],"mappings":"AAA;OCK;kDCa;GDM;kBEC;GFI;mDGC;GHY;8CIC;GJU;kBEC;GFE;6CKC;WCG;KDI;GLC;CDK"}},"type":"js/module"}]}