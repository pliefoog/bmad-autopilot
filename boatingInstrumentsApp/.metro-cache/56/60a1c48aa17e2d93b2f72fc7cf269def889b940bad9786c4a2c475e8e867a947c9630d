{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"fGo7mEc/tw/OblLqGBCp3J3h+jY=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\").default;\n  var _interopRequireWildcard = require(_dependencyMap[1], \"@babel/runtime/helpers/interopRequireWildcard\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.withLoading = exports.useLoading = exports.default = exports.LoadingProvider = void 0;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[2], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _slicedToArray2 = _interopRequireDefault(require(_dependencyMap[3], \"@babel/runtime/helpers/slicedToArray\"));\n  var _react = _interopRequireWildcard(require(_dependencyMap[4], \"react\"));\n  var _jsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  var _jsxFileName = \"/Volumes/SSD_I/Dev/JSDev/bmad-autopilot/boatingInstrumentsApp/src/services/loading/LoadingContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  var LoadingContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  var LoadingProvider = _ref => {\n    _s();\n    var children = _ref.children;\n    var _useState = (0, _react.useState)({}),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      activeKeys = _useState2[0],\n      setActiveKeys = _useState2[1];\n    var startLoading = (0, _react.useCallback)(function () {\n      var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'global';\n      setActiveKeys(prev => ({\n        ...prev,\n        [key]: (prev[key] || 0) + 1\n      }));\n    }, []);\n    var stopLoading = (0, _react.useCallback)(function () {\n      var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'global';\n      setActiveKeys(prev => {\n        var count = (prev[key] || 0) - 1;\n        var next = {\n          ...prev\n        };\n        if (count <= 0) {\n          delete next[key];\n        } else {\n          next[key] = count;\n        }\n        return next;\n      });\n    }, []);\n    var isLoading = (0, _react.useCallback)(key => {\n      if (!key) {\n        return Object.keys(activeKeys).length > 0;\n      }\n      return !!activeKeys[key];\n    }, [activeKeys]);\n    var anyLoading = (0, _react.useMemo)(() => Object.keys(activeKeys).length > 0, [activeKeys]);\n    var value = (0, _react.useMemo)(() => ({\n      startLoading,\n      stopLoading,\n      isLoading,\n      anyLoading\n    }), [startLoading, stopLoading, isLoading, anyLoading]);\n    return /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(LoadingContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 10\n    }, this);\n  };\n  exports.LoadingProvider = LoadingProvider;\n  _s(LoadingProvider, \"n8FdD4MeHzXLC+EzVxmS3+1+p3k=\");\n  _c = LoadingProvider;\n  var useLoading = () => {\n    _s2();\n    var ctx = (0, _react.useContext)(LoadingContext);\n    if (!ctx) {\n      throw new Error('useLoading must be used within a LoadingProvider');\n    }\n    return ctx;\n  };\n\n  /**\n   * Helper to wrap an async function and automatically start/stop loading for the given key\n   */\n  exports.useLoading = useLoading;\n  _s2(useLoading, \"/dMy7t63NXD4eYACoT93CePwGrg=\");\n  var withLoading = exports.withLoading = /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator2.default)(function* (fn, helpers) {\n      var k = helpers.key || 'global';\n      helpers.start(k);\n      try {\n        return yield fn();\n      } finally {\n        helpers.stop(k);\n      }\n    });\n    return function withLoading(_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var _default = exports.default = LoadingContext;\n  var _c;\n  $RefreshReg$(_c, \"LoadingProvider\");\n});","lineCount":101,"map":[[10,2,1,0],[10,6,1,0,"_react"],[10,12,1,0],[10,15,1,0,"_interopRequireWildcard"],[10,38,1,0],[10,39,1,0,"require"],[10,46,1,0],[10,47,1,0,"_dependencyMap"],[10,61,1,0],[11,2,1,89],[11,6,1,89,"_jsxDevRuntime"],[11,20,1,89],[11,23,1,89,"require"],[11,30,1,89],[11,31,1,89,"_dependencyMap"],[11,45,1,89],[12,2,1,89],[12,6,1,89,"_jsxFileName"],[12,18,1,89],[13,4,1,89,"_s"],[13,6,1,89],[13,9,1,89,"$RefreshSig$"],[13,21,1,89],[14,4,1,89,"_s2"],[14,7,1,89],[14,10,1,89,"$RefreshSig$"],[14,22,1,89],[15,2,12,0],[15,6,12,6,"LoadingContext"],[15,20,12,20],[15,36,12,23],[15,40,12,23,"createContext"],[15,60,12,36],[15,62,12,70,"undefined"],[15,71,12,79],[15,72,12,80],[16,2,14,7],[16,6,14,13,"LoadingProvider"],[16,21,14,69],[16,24,14,72,"_ref"],[16,28,14,72],[16,32,14,90],[17,4,14,90,"_s"],[17,6,14,90],[18,4,14,90],[18,8,14,75,"children"],[18,16,14,83],[18,19,14,83,"_ref"],[18,23,14,83],[18,24,14,75,"children"],[18,32,14,83],[19,4,15,2],[19,8,15,2,"_useState"],[19,17,15,2],[19,20,15,38],[19,24,15,38,"useState"],[19,39,15,46],[19,41,15,75],[19,42,15,76],[19,43,15,77],[19,44,15,78],[20,6,15,78,"_useState2"],[20,16,15,78],[20,23,15,78,"_slicedToArray2"],[20,38,15,78],[20,39,15,78,"default"],[20,46,15,78],[20,48,15,78,"_useState"],[20,57,15,78],[21,6,15,9,"activeKeys"],[21,16,15,19],[21,19,15,19,"_useState2"],[21,29,15,19],[22,6,15,21,"setActiveKeys"],[22,19,15,34],[22,22,15,34,"_useState2"],[22,32,15,34],[23,4,17,2],[23,8,17,8,"startLoading"],[23,20,17,20],[23,23,17,23],[23,27,17,23,"useCallback"],[23,45,17,34],[23,47,17,35],[23,59,17,67],[24,6,17,67],[24,10,17,36,"key"],[24,13,17,51],[24,16,17,51,"arguments"],[24,25,17,51],[24,26,17,51,"length"],[24,32,17,51],[24,40,17,51,"arguments"],[24,49,17,51],[24,57,17,51,"undefined"],[24,66,17,51],[24,69,17,51,"arguments"],[24,78,17,51],[24,84,17,54],[24,92,17,62],[25,6,18,4,"setActiveKeys"],[25,19,18,17],[25,20,18,19,"prev"],[25,24,18,23],[25,29,18,29],[26,8,18,31],[26,11,18,34,"prev"],[26,15,18,38],[27,8,18,40],[27,9,18,41,"key"],[27,12,18,44],[27,15,18,47],[27,16,18,48,"prev"],[27,20,18,52],[27,21,18,53,"key"],[27,24,18,56],[27,25,18,57],[27,29,18,61],[27,30,18,62],[27,34,18,66],[28,6,18,68],[28,7,18,69],[28,8,18,70],[28,9,18,71],[29,4,19,2],[29,5,19,3],[29,7,19,5],[29,9,19,7],[29,10,19,8],[30,4,21,2],[30,8,21,8,"stopLoading"],[30,19,21,19],[30,22,21,22],[30,26,21,22,"useCallback"],[30,44,21,33],[30,46,21,34],[30,58,21,66],[31,6,21,66],[31,10,21,35,"key"],[31,13,21,50],[31,16,21,50,"arguments"],[31,25,21,50],[31,26,21,50,"length"],[31,32,21,50],[31,40,21,50,"arguments"],[31,49,21,50],[31,57,21,50,"undefined"],[31,66,21,50],[31,69,21,50,"arguments"],[31,78,21,50],[31,84,21,53],[31,92,21,61],[32,6,22,4,"setActiveKeys"],[32,19,22,17],[32,20,22,19,"prev"],[32,24,22,23],[32,28,22,28],[33,8,23,6],[33,12,23,12,"count"],[33,17,23,17],[33,20,23,20],[33,21,23,21,"prev"],[33,25,23,25],[33,26,23,26,"key"],[33,29,23,29],[33,30,23,30],[33,34,23,34],[33,35,23,35],[33,39,23,39],[33,40,23,40],[34,8,24,6],[34,12,24,12,"next"],[34,16,24,16],[34,19,24,19],[35,10,24,21],[35,13,24,24,"prev"],[36,8,24,29],[36,9,24,30],[37,8,25,6],[37,12,25,10,"count"],[37,17,25,15],[37,21,25,19],[37,22,25,20],[37,24,25,22],[38,10,26,8],[38,17,26,15,"next"],[38,21,26,19],[38,22,26,20,"key"],[38,25,26,23],[38,26,26,24],[39,8,27,6],[39,9,27,7],[39,15,27,13],[40,10,28,8,"next"],[40,14,28,12],[40,15,28,13,"key"],[40,18,28,16],[40,19,28,17],[40,22,28,20,"count"],[40,27,28,25],[41,8,29,6],[42,8,30,6],[42,15,30,13,"next"],[42,19,30,17],[43,6,31,4],[43,7,31,5],[43,8,31,6],[44,4,32,2],[44,5,32,3],[44,7,32,5],[44,9,32,7],[44,10,32,8],[45,4,34,2],[45,8,34,8,"isLoading"],[45,17,34,17],[45,20,34,20],[45,24,34,20,"useCallback"],[45,42,34,31],[45,44,35,5,"key"],[45,47,35,21],[45,51,35,26],[46,6,36,6],[46,10,36,10],[46,11,36,11,"key"],[46,14,36,14],[46,16,36,16],[47,8,37,8],[47,15,37,15,"Object"],[47,21,37,21],[47,22,37,22,"keys"],[47,26,37,26],[47,27,37,27,"activeKeys"],[47,37,37,37],[47,38,37,38],[47,39,37,39,"length"],[47,45,37,45],[47,48,37,48],[47,49,37,49],[48,6,38,6],[49,6,39,6],[49,13,39,13],[49,14,39,14],[49,15,39,15,"activeKeys"],[49,25,39,25],[49,26,39,26,"key"],[49,29,39,29],[49,30,39,30],[50,4,40,4],[50,5,40,5],[50,7,41,4],[50,8,41,5,"activeKeys"],[50,18,41,15],[50,19,42,2],[50,20,42,3],[51,4,44,2],[51,8,44,8,"anyLoading"],[51,18,44,18],[51,21,44,21],[51,25,44,21,"useMemo"],[51,39,44,28],[51,41,44,29],[51,47,44,35,"Object"],[51,53,44,41],[51,54,44,42,"keys"],[51,58,44,46],[51,59,44,47,"activeKeys"],[51,69,44,57],[51,70,44,58],[51,71,44,59,"length"],[51,77,44,65],[51,80,44,68],[51,81,44,69],[51,83,44,71],[51,84,44,72,"activeKeys"],[51,94,44,82],[51,95,44,83],[51,96,44,84],[52,4,46,2],[52,8,46,8,"value"],[52,13,46,13],[52,16,46,16],[52,20,46,16,"useMemo"],[52,34,46,23],[52,36,47,4],[52,43,47,11],[53,6,47,13,"startLoading"],[53,18,47,25],[54,6,47,27,"stopLoading"],[54,17,47,38],[55,6,47,40,"isLoading"],[55,15,47,49],[56,6,47,51,"anyLoading"],[57,4,47,62],[57,5,47,63],[57,6,47,64],[57,8,48,4],[57,9,48,5,"startLoading"],[57,21,48,17],[57,23,48,19,"stopLoading"],[57,34,48,30],[57,36,48,32,"isLoading"],[57,45,48,41],[57,47,48,43,"anyLoading"],[57,57,48,53],[57,58,49,2],[57,59,49,3],[58,4,51,2],[58,24,51,9],[58,28,51,9,"_jsxDevRuntime"],[58,42,51,9],[58,43,51,9,"jsxDEV"],[58,49,51,9],[58,51,51,10,"LoadingContext"],[58,65,51,24],[58,66,51,25,"Provider"],[58,74,51,33],[59,6,51,34,"value"],[59,11,51,39],[59,13,51,41,"value"],[59,18,51,47],[60,6,51,47,"children"],[60,14,51,47],[60,16,51,49,"children"],[61,4,51,57],[62,6,51,57,"fileName"],[62,14,51,57],[62,16,51,57,"_jsxFileName"],[62,28,51,57],[63,6,51,57,"lineNumber"],[63,16,51,57],[64,6,51,57,"columnNumber"],[64,18,51,57],[65,4,51,57],[65,11,51,83],[65,12,51,84],[66,2,52,0],[66,3,52,1],[67,2,52,2,"exports"],[67,9,52,2],[67,10,52,2,"LoadingProvider"],[67,25,52,2],[67,28,52,2,"LoadingProvider"],[67,43,52,2],[68,2,52,2,"_s"],[68,4,52,2],[68,5,14,13,"LoadingProvider"],[68,20,14,69],[69,2,14,69,"_c"],[69,4,14,69],[69,7,14,13,"LoadingProvider"],[69,22,14,69],[70,2,54,7],[70,6,54,13,"useLoading"],[70,16,54,23],[70,19,54,26,"useLoading"],[70,20,54,26],[70,25,54,53],[71,4,54,53,"_s2"],[71,7,54,53],[72,4,55,2],[72,8,55,8,"ctx"],[72,11,55,11],[72,14,55,14],[72,18,55,14,"useContext"],[72,35,55,24],[72,37,55,25,"LoadingContext"],[72,51,55,39],[72,52,55,40],[73,4,56,2],[73,8,56,6],[73,9,56,7,"ctx"],[73,12,56,10],[73,14,56,12],[74,6,57,4],[74,12,57,10],[74,16,57,14,"Error"],[74,21,57,19],[74,22,57,20],[74,72,57,70],[74,73,57,71],[75,4,58,2],[76,4,59,2],[76,11,59,9,"ctx"],[76,14,59,12],[77,2,60,0],[77,3,60,1],[79,2,62,0],[80,0,63,0],[81,0,64,0],[82,2,62,0,"exports"],[82,9,62,0],[82,10,62,0,"useLoading"],[82,20,62,0],[82,23,62,0,"useLoading"],[82,33,62,0],[83,2,62,0,"_s2"],[83,5,62,0],[83,6,54,13,"useLoading"],[83,16,54,23],[84,2,65,7],[84,6,65,13,"withLoading"],[84,17,65,24],[84,20,65,24,"exports"],[84,27,65,24],[84,28,65,24,"withLoading"],[84,39,65,24],[85,4,65,24],[85,8,65,24,"_ref2"],[85,13,65,24],[85,20,65,24,"_asyncToGenerator2"],[85,38,65,24],[85,39,65,24,"default"],[85,46,65,24],[85,48,65,27],[85,59,66,2,"fn"],[85,61,66,22],[85,63,67,2,"helpers"],[85,70,67,96],[85,72,68,17],[86,6,69,2],[86,10,69,8,"k"],[86,11,69,9],[86,14,69,12,"helpers"],[86,21,69,19],[86,22,69,20,"key"],[86,25,69,23],[86,29,69,27],[86,37,69,35],[87,6,70,2,"helpers"],[87,13,70,9],[87,14,70,10,"start"],[87,19,70,15],[87,20,70,16,"k"],[87,21,70,17],[87,22,70,18],[88,6,71,2],[88,10,71,6],[89,8,72,4],[89,21,72,17,"fn"],[89,23,72,19],[89,24,72,20],[89,25,72,21],[90,6,73,2],[90,7,73,3],[90,16,73,12],[91,8,74,4,"helpers"],[91,15,74,11],[91,16,74,12,"stop"],[91,20,74,16],[91,21,74,17,"k"],[91,22,74,18],[91,23,74,19],[92,6,75,2],[93,4,76,0],[93,5,76,1],[94,4,76,1],[94,20,65,13,"withLoading"],[94,31,65,24,"withLoading"],[94,32,65,24,"_x"],[94,34,65,24],[94,36,65,24,"_x2"],[94,39,65,24],[95,6,65,24],[95,13,65,24,"_ref2"],[95,18,65,24],[95,19,65,24,"apply"],[95,24,65,24],[95,31,65,24,"arguments"],[95,40,65,24],[96,4,65,24],[97,2,65,24],[97,5,76,1],[98,2,76,2],[98,6,76,2,"_default"],[98,14,76,2],[98,17,76,2,"exports"],[98,24,76,2],[98,25,76,2,"default"],[98,32,76,2],[98,35,78,15,"LoadingContext"],[98,49,78,29],[99,2,78,29],[99,6,78,29,"_c"],[99,8,78,29],[100,2,78,29,"$RefreshReg$"],[100,14,78,29],[100,15,78,29,"_c"],[100,17,78,29],[101,0,78,29],[101,3]],"functionMap":{"names":["<global>","LoadingProvider","startLoading","setActiveKeys$argument_0","stopLoading","isLoading","useMemo$argument_0","useLoading","withLoading"],"mappings":"AAA;wECa;mCCG;kBCC,oDD;GDC;kCGE;kBDC;KCS;GHC;IIG;KJK;6BKI,wCL;IKG,4DL;CDK;0BOE;CPM;2BQK;CRW"}},"type":"js/module"}]}