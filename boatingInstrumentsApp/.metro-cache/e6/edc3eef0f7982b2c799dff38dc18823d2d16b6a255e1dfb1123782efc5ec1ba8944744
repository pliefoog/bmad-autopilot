{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.formatApparentWindAngle = formatApparentWindAngle;\n  exports.isValidWindAngle = isValidWindAngle;\n  exports.normalizeApparentWindAngle = normalizeApparentWindAngle;\n  exports.normalizeHeading = normalizeHeading;\n  exports.normalizeTrueWindAngle = normalizeTrueWindAngle;\n  /**\n   * Marine angle utilities for wind and navigation calculations\n   */\n\n  /**\n   * Normalizes an apparent wind angle from NMEA 0-359° format to standard ±180° range\n   *\n   * NMEA MWV Convention:\n   * - 0° = dead ahead (bow)\n   * - 90° = starboard beam\n   * - 180° = dead astern (stern)\n   * - 270° = port beam\n   *\n   * Maritime Display Convention:\n   * - 0° = dead ahead\n   * - +90° STB = starboard beam\n   * - ±180° = dead astern\n   * - -90° PRT = port beam\n   *\n   * @param angle - NMEA wind angle 0-359° (or any range, will be normalized)\n   * @returns Normalized angle: +0° to +180° STB, -1° to -180° PRT\n   */\n  function normalizeApparentWindAngle(angle) {\n    if (angle === undefined || angle === null || !isFinite(angle)) {\n      return null;\n    }\n\n    // Normalize to 0-360 range first (handle any input range)\n    let normalized = angle % 360;\n    if (normalized < 0) {\n      normalized += 360;\n    }\n\n    // Convert NMEA 0-359° to maritime ±180° convention:\n    // 0-180° stays positive (starboard side)\n    // 181-359° becomes negative (port side)\n    if (normalized > 180) {\n      return normalized - 360; // 181°→-179°, 270°→-90°, 359°→-1°\n    }\n    return normalized; // 0°→0°, 90°→90°, 180°→180°\n  }\n\n  /**\n   * Normalizes a true wind angle to 0-360° range\n   * TWA (True Wind Angle) is typically expressed as 0-360° relative to north\n   *\n   * @param angle - Raw angle in degrees\n   * @returns Normalized angle in range 0° to 360°\n   */\n  function normalizeTrueWindAngle(angle) {\n    if (angle === undefined || angle === null || !isFinite(angle)) {\n      return null;\n    }\n\n    // Normalize to 0-360 range\n    let normalized = angle % 360;\n    if (normalized < 0) {\n      normalized += 360;\n    }\n    return normalized;\n  }\n\n  /**\n   * Normalizes a compass heading to 0-360° range\n   *\n   * @param heading - Raw heading in degrees\n   * @returns Normalized heading in range 0° to 360°\n   */\n  function normalizeHeading(heading) {\n    if (heading === undefined || heading === null || !isFinite(heading)) {\n      return null;\n    }\n\n    // Normalize to 0-360 range\n    let normalized = heading % 360;\n    if (normalized < 0) {\n      normalized += 360;\n    }\n    return normalized;\n  }\n\n  /**\n   * Formats an apparent wind angle for display with port/starboard indication\n   *\n   * @param angle - Normalized AWA in ±180° range\n   * @returns Formatted string like \"45° STB\" or \"30° PORT\"\n   */\n  function formatApparentWindAngle(angle) {\n    if (angle === null || !isFinite(angle)) {\n      return '--';\n    }\n    const absAngle = Math.abs(angle);\n    const side = angle >= 0 ? 'STB' : 'PORT';\n    return `${absAngle.toFixed(0)}° ${side}`;\n  }\n\n  /**\n   * Validates that a wind angle is within reasonable bounds\n   *\n   * @param angle - Wind angle to validate\n   * @param type - Type of wind angle ('AWA' | 'TWA')\n   * @returns true if angle is valid, false otherwise\n   */\n  function isValidWindAngle(angle, type = 'AWA') {\n    if (!isFinite(angle)) {\n      return false;\n    }\n    if (type === 'AWA') {\n      // AWA should be in ±180° range\n      return angle >= -180 && angle <= 180;\n    } else {\n      // TWA should be in 0-360° range\n      return angle >= 0 && angle <= 360;\n    }\n  }\n});","lineCount":125,"map":[[10,2,1,0],[11,0,2,0],[12,0,3,0],[14,2,5,0],[15,0,6,0],[16,0,7,0],[17,0,8,0],[18,0,9,0],[19,0,10,0],[20,0,11,0],[21,0,12,0],[22,0,13,0],[23,0,14,0],[24,0,15,0],[25,0,16,0],[26,0,17,0],[27,0,18,0],[28,0,19,0],[29,0,20,0],[30,0,21,0],[31,0,22,0],[32,2,23,7],[32,11,23,16,"normalizeApparentWindAngle"],[32,37,23,42,"normalizeApparentWindAngle"],[32,38,23,43,"angle"],[32,43,23,75],[32,45,23,92],[33,4,24,2],[33,8,24,6,"angle"],[33,13,24,11],[33,18,24,16,"undefined"],[33,27,24,25],[33,31,24,29,"angle"],[33,36,24,34],[33,41,24,39],[33,45,24,43],[33,49,24,47],[33,50,24,48,"isFinite"],[33,58,24,56],[33,59,24,57,"angle"],[33,64,24,62],[33,65,24,63],[33,67,24,65],[34,6,25,4],[34,13,25,11],[34,17,25,15],[35,4,26,2],[37,4,28,2],[38,4,29,2],[38,8,29,6,"normalized"],[38,18,29,16],[38,21,29,19,"angle"],[38,26,29,24],[38,29,29,27],[38,32,29,30],[39,4,30,2],[39,8,30,6,"normalized"],[39,18,30,16],[39,21,30,19],[39,22,30,20],[39,24,30,22],[40,6,31,4,"normalized"],[40,16,31,14],[40,20,31,18],[40,23,31,21],[41,4,32,2],[43,4,34,2],[44,4,35,2],[45,4,36,2],[46,4,37,2],[46,8,37,6,"normalized"],[46,18,37,16],[46,21,37,19],[46,24,37,22],[46,26,37,24],[47,6,38,4],[47,13,38,11,"normalized"],[47,23,38,21],[47,26,38,24],[47,29,38,27],[47,30,38,28],[47,31,38,29],[48,4,39,2],[49,4,41,2],[49,11,41,9,"normalized"],[49,21,41,19],[49,22,41,20],[49,23,41,21],[50,2,42,0],[52,2,44,0],[53,0,45,0],[54,0,46,0],[55,0,47,0],[56,0,48,0],[57,0,49,0],[58,0,50,0],[59,2,51,7],[59,11,51,16,"normalizeTrueWindAngle"],[59,33,51,38,"normalizeTrueWindAngle"],[59,34,51,39,"angle"],[59,39,51,71],[59,41,51,88],[60,4,52,2],[60,8,52,6,"angle"],[60,13,52,11],[60,18,52,16,"undefined"],[60,27,52,25],[60,31,52,29,"angle"],[60,36,52,34],[60,41,52,39],[60,45,52,43],[60,49,52,47],[60,50,52,48,"isFinite"],[60,58,52,56],[60,59,52,57,"angle"],[60,64,52,62],[60,65,52,63],[60,67,52,65],[61,6,53,4],[61,13,53,11],[61,17,53,15],[62,4,54,2],[64,4,56,2],[65,4,57,2],[65,8,57,6,"normalized"],[65,18,57,16],[65,21,57,19,"angle"],[65,26,57,24],[65,29,57,27],[65,32,57,30],[66,4,58,2],[66,8,58,6,"normalized"],[66,18,58,16],[66,21,58,19],[66,22,58,20],[66,24,58,22],[67,6,59,4,"normalized"],[67,16,59,14],[67,20,59,18],[67,23,59,21],[68,4,60,2],[69,4,62,2],[69,11,62,9,"normalized"],[69,21,62,19],[70,2,63,0],[72,2,65,0],[73,0,66,0],[74,0,67,0],[75,0,68,0],[76,0,69,0],[77,0,70,0],[78,2,71,7],[78,11,71,16,"normalizeHeading"],[78,27,71,32,"normalizeHeading"],[78,28,71,33,"heading"],[78,35,71,67],[78,37,71,84],[79,4,72,2],[79,8,72,6,"heading"],[79,15,72,13],[79,20,72,18,"undefined"],[79,29,72,27],[79,33,72,31,"heading"],[79,40,72,38],[79,45,72,43],[79,49,72,47],[79,53,72,51],[79,54,72,52,"isFinite"],[79,62,72,60],[79,63,72,61,"heading"],[79,70,72,68],[79,71,72,69],[79,73,72,71],[80,6,73,4],[80,13,73,11],[80,17,73,15],[81,4,74,2],[83,4,76,2],[84,4,77,2],[84,8,77,6,"normalized"],[84,18,77,16],[84,21,77,19,"heading"],[84,28,77,26],[84,31,77,29],[84,34,77,32],[85,4,78,2],[85,8,78,6,"normalized"],[85,18,78,16],[85,21,78,19],[85,22,78,20],[85,24,78,22],[86,6,79,4,"normalized"],[86,16,79,14],[86,20,79,18],[86,23,79,21],[87,4,80,2],[88,4,82,2],[88,11,82,9,"normalized"],[88,21,82,19],[89,2,83,0],[91,2,85,0],[92,0,86,0],[93,0,87,0],[94,0,88,0],[95,0,89,0],[96,0,90,0],[97,2,91,7],[97,11,91,16,"formatApparentWindAngle"],[97,34,91,39,"formatApparentWindAngle"],[97,35,91,40,"angle"],[97,40,91,60],[97,42,91,70],[98,4,92,2],[98,8,92,6,"angle"],[98,13,92,11],[98,18,92,16],[98,22,92,20],[98,26,92,24],[98,27,92,25,"isFinite"],[98,35,92,33],[98,36,92,34,"angle"],[98,41,92,39],[98,42,92,40],[98,44,92,42],[99,6,93,4],[99,13,93,11],[99,17,93,15],[100,4,94,2],[101,4,96,2],[101,10,96,8,"absAngle"],[101,18,96,16],[101,21,96,19,"Math"],[101,25,96,23],[101,26,96,24,"abs"],[101,29,96,27],[101,30,96,28,"angle"],[101,35,96,33],[101,36,96,34],[102,4,97,2],[102,10,97,8,"side"],[102,14,97,12],[102,17,97,15,"angle"],[102,22,97,20],[102,26,97,24],[102,27,97,25],[102,30,97,28],[102,35,97,33],[102,38,97,36],[102,44,97,42],[103,4,99,2],[103,11,99,9],[103,14,99,12,"absAngle"],[103,22,99,20],[103,23,99,21,"toFixed"],[103,30,99,28],[103,31,99,29],[103,32,99,30],[103,33,99,31],[103,38,99,36,"side"],[103,42,99,40],[103,44,99,42],[104,2,100,0],[106,2,102,0],[107,0,103,0],[108,0,104,0],[109,0,105,0],[110,0,106,0],[111,0,107,0],[112,0,108,0],[113,2,109,7],[113,11,109,16,"isValidWindAngle"],[113,27,109,32,"isValidWindAngle"],[113,28,109,33,"angle"],[113,33,109,46],[113,35,109,48,"type"],[113,39,109,67],[113,42,109,70],[113,47,109,75],[113,49,109,86],[114,4,110,2],[114,8,110,6],[114,9,110,7,"isFinite"],[114,17,110,15],[114,18,110,16,"angle"],[114,23,110,21],[114,24,110,22],[114,26,110,24],[115,6,111,4],[115,13,111,11],[115,18,111,16],[116,4,112,2],[117,4,114,2],[117,8,114,6,"type"],[117,12,114,10],[117,17,114,15],[117,22,114,20],[117,24,114,22],[118,6,115,4],[119,6,116,4],[119,13,116,11,"angle"],[119,18,116,16],[119,22,116,20],[119,23,116,21],[119,26,116,24],[119,30,116,28,"angle"],[119,35,116,33],[119,39,116,37],[119,42,116,40],[120,4,117,2],[120,5,117,3],[120,11,117,9],[121,6,118,4],[122,6,119,4],[122,13,119,11,"angle"],[122,18,119,16],[122,22,119,20],[122,23,119,21],[122,27,119,25,"angle"],[122,32,119,30],[122,36,119,34],[122,39,119,37],[123,4,120,2],[124,2,121,0],[125,0,121,1],[125,3]],"functionMap":{"names":["<global>","normalizeApparentWindAngle","normalizeTrueWindAngle","normalizeHeading","formatApparentWindAngle","isValidWindAngle"],"mappings":"AAA;OCsB;CDmB;OES;CFY;OGQ;CHY;OIQ;CJS;OKS;CLY"}},"type":"js/module"}]}