{"dependencies":[{"name":"../config/dragConfig","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":238},"end":{"line":9,"column":51,"index":289}},{"start":{"line":9,"column":0,"index":238},"end":{"line":9,"column":51,"index":289}}],"key":"P53iWuZVqIvCVou4YdlcCf8uUgE=","exportNames":["*"],"imports":2}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.calculateHoverIndex = calculateHoverIndex;\n  exports.calculateTargetPage = calculateTargetPage;\n  exports.calculateWidgetPosition = calculateWidgetPosition;\n  exports.isDragSignificant = isDragSignificant;\n  /**\n   * Drag-and-Drop Helper Functions\n   *\n   * Utility functions for calculating drag positions, hover indices,\n   * and managing drag state during widget reordering.\n   */\n\n  /**\n   * Calculate which grid cell is being hovered over during drag\n   *\n   * @param absoluteX - Absolute X coordinate on screen\n   * @param absoluteY - Absolute Y coordinate on screen\n   * @param gridState - Current responsive grid configuration\n   * @param pageIndex - Current page index\n   * @returns Grid index (0-based) or -1 if outside grid\n   */\n  function calculateHoverIndex(absoluteX, absoluteY, gridState, pageIndex) {\n    var layout = gridState.layout;\n    var cellWidth = layout.cellWidth,\n      cellHeight = layout.cellHeight,\n      containerWidth = layout.containerWidth,\n      containerHeight = layout.containerHeight,\n      cols = layout.cols,\n      rows = layout.rows;\n\n    // absoluteX and absoluteY are screen coordinates (not scroll-adjusted)\n    // They're always relative to the visible viewport, regardless of which page is showing\n    var relativeX = absoluteX;\n    var relativeY = absoluteY;\n\n    // Check if outside grid bounds\n    if (relativeX < 0 || relativeX > containerWidth || relativeY < 0 || relativeY > containerHeight) {\n      return -1;\n    }\n\n    // Calculate grid cell\n    var col = Math.floor(relativeX / cellWidth);\n    var row = Math.floor(relativeY / cellHeight);\n\n    // Validate column/row bounds\n    if (col < 0 || col >= cols || row < 0 || row >= rows) {\n      return -1;\n    }\n\n    // Convert to linear index within this page\n    var indexInPage = row * cols + col;\n\n    // Calculate widgets per page\n    var widgetsPerPage = cols * rows;\n\n    // Convert to global widget array index by adding page offset\n    return pageIndex * widgetsPerPage + indexInPage;\n  }\n\n  /**\n   * Calculate which page is being hovered based on edge zones\n   *\n   * @param absoluteX - Absolute X coordinate on screen\n   * @param currentPage - Current page index\n   * @param totalPages - Total number of pages\n   * @param scrollViewWidth - Width of scroll view\n   * @returns Target page index or current page if not in edge zone\n   */\n  function calculateTargetPage(absoluteX, currentPage, totalPages, scrollViewWidth) {\n    var edgeZoneWidth = scrollViewWidth * (require(_dependencyMap[0], \"../config/dragConfig\").DRAG_CONFIG.EDGE_ZONE_WIDTH_PERCENT / 100);\n\n    // Check left edge (previous page)\n    if (absoluteX < edgeZoneWidth && currentPage > 0) {\n      return currentPage - 1;\n    }\n\n    // Check right edge (next page)\n    if (absoluteX > scrollViewWidth - edgeZoneWidth && currentPage < totalPages - 1) {\n      return currentPage + 1;\n    }\n    return currentPage;\n  }\n\n  /**\n   * Check if drag movement exceeds minimum threshold\n   * Prevents accidental reordering from tiny movements\n   *\n   * @param translationX - Horizontal translation\n   * @param translationY - Vertical translation\n   * @returns true if movement exceeds threshold\n   */\n  function isDragSignificant(translationX, translationY) {\n    var distance = Math.sqrt(translationX ** 2 + translationY ** 2);\n    return distance >= require(_dependencyMap[0], \"../config/dragConfig\").DRAG_CONFIG.MIN_DRAG_DISTANCE;\n  }\n\n  /**\n   * Calculate absolute widget position from page layout\n   *\n   * @param widgetIndex - Widget index within page\n   * @param gridState - Current responsive grid configuration\n   * @param pageIndex - Page index\n   * @returns Absolute x, y coordinates\n   */\n  function calculateWidgetPosition(widgetIndex, gridState, pageIndex) {\n    var layout = gridState.layout,\n      cols = gridState.cols;\n    var cellWidth = layout.cellWidth,\n      cellHeight = layout.cellHeight,\n      containerWidth = layout.containerWidth;\n    var row = Math.floor(widgetIndex / cols);\n    var col = widgetIndex % cols;\n    return {\n      x: pageIndex * containerWidth + col * cellWidth,\n      y: row * cellHeight\n    };\n  }\n});","lineCount":121,"map":[[9,2,1,0],[10,0,2,0],[11,0,3,0],[12,0,4,0],[13,0,5,0],[14,0,6,0],[16,2,11,0],[17,0,12,0],[18,0,13,0],[19,0,14,0],[20,0,15,0],[21,0,16,0],[22,0,17,0],[23,0,18,0],[24,0,19,0],[25,2,20,7],[25,11,20,16,"calculateHoverIndex"],[25,30,20,35,"calculateHoverIndex"],[25,31,21,2,"absoluteX"],[25,40,21,19],[25,42,22,2,"absoluteY"],[25,51,22,19],[25,53,23,2,"gridState"],[25,62,23,32],[25,64,24,2,"pageIndex"],[25,73,24,19],[25,75,25,10],[26,4,26,2],[26,8,26,10,"layout"],[26,14,26,16],[26,17,26,21,"gridState"],[26,26,26,30],[26,27,26,10,"layout"],[26,33,26,16],[27,4,27,2],[27,8,27,10,"cellWidth"],[27,17,27,19],[27,20,27,81,"layout"],[27,26,27,87],[27,27,27,10,"cellWidth"],[27,36,27,19],[28,6,27,21,"cellHeight"],[28,16,27,31],[28,19,27,81,"layout"],[28,25,27,87],[28,26,27,21,"cellHeight"],[28,36,27,31],[29,6,27,33,"containerWidth"],[29,20,27,47],[29,23,27,81,"layout"],[29,29,27,87],[29,30,27,33,"containerWidth"],[29,44,27,47],[30,6,27,49,"containerHeight"],[30,21,27,64],[30,24,27,81,"layout"],[30,30,27,87],[30,31,27,49,"containerHeight"],[30,46,27,64],[31,6,27,66,"cols"],[31,10,27,70],[31,13,27,81,"layout"],[31,19,27,87],[31,20,27,66,"cols"],[31,24,27,70],[32,6,27,72,"rows"],[32,10,27,76],[32,13,27,81,"layout"],[32,19,27,87],[32,20,27,72,"rows"],[32,24,27,76],[34,4,29,2],[35,4,30,2],[36,4,31,2],[36,8,31,8,"relativeX"],[36,17,31,17],[36,20,31,20,"absoluteX"],[36,29,31,29],[37,4,32,2],[37,8,32,8,"relativeY"],[37,17,32,17],[37,20,32,20,"absoluteY"],[37,29,32,29],[39,4,34,2],[40,4,35,2],[40,8,35,6,"relativeX"],[40,17,35,15],[40,20,35,18],[40,21,35,19],[40,25,35,23,"relativeX"],[40,34,35,32],[40,37,35,35,"containerWidth"],[40,51,35,49],[40,55,35,53,"relativeY"],[40,64,35,62],[40,67,35,65],[40,68,35,66],[40,72,35,70,"relativeY"],[40,81,35,79],[40,84,35,82,"containerHeight"],[40,99,35,97],[40,101,35,99],[41,6,36,4],[41,13,36,11],[41,14,36,12],[41,15,36,13],[42,4,37,2],[44,4,39,2],[45,4,40,2],[45,8,40,8,"col"],[45,11,40,11],[45,14,40,14,"Math"],[45,18,40,18],[45,19,40,19,"floor"],[45,24,40,24],[45,25,40,25,"relativeX"],[45,34,40,34],[45,37,40,37,"cellWidth"],[45,46,40,46],[45,47,40,47],[46,4,41,2],[46,8,41,8,"row"],[46,11,41,11],[46,14,41,14,"Math"],[46,18,41,18],[46,19,41,19,"floor"],[46,24,41,24],[46,25,41,25,"relativeY"],[46,34,41,34],[46,37,41,37,"cellHeight"],[46,47,41,47],[46,48,41,48],[48,4,43,2],[49,4,44,2],[49,8,44,6,"col"],[49,11,44,9],[49,14,44,12],[49,15,44,13],[49,19,44,17,"col"],[49,22,44,20],[49,26,44,24,"cols"],[49,30,44,28],[49,34,44,32,"row"],[49,37,44,35],[49,40,44,38],[49,41,44,39],[49,45,44,43,"row"],[49,48,44,46],[49,52,44,50,"rows"],[49,56,44,54],[49,58,44,56],[50,6,45,4],[50,13,45,11],[50,14,45,12],[50,15,45,13],[51,4,46,2],[53,4,48,2],[54,4,49,2],[54,8,49,8,"indexInPage"],[54,19,49,19],[54,22,49,22,"row"],[54,25,49,25],[54,28,49,28,"cols"],[54,32,49,32],[54,35,49,35,"col"],[54,38,49,38],[56,4,51,2],[57,4,52,2],[57,8,52,8,"widgetsPerPage"],[57,22,52,22],[57,25,52,25,"cols"],[57,29,52,29],[57,32,52,32,"rows"],[57,36,52,36],[59,4,54,2],[60,4,55,2],[60,11,55,9,"pageIndex"],[60,20,55,18],[60,23,55,21,"widgetsPerPage"],[60,37,55,35],[60,40,55,38,"indexInPage"],[60,51,55,49],[61,2,56,0],[63,2,58,0],[64,0,59,0],[65,0,60,0],[66,0,61,0],[67,0,62,0],[68,0,63,0],[69,0,64,0],[70,0,65,0],[71,0,66,0],[72,2,67,7],[72,11,67,16,"calculateTargetPage"],[72,30,67,35,"calculateTargetPage"],[72,31,68,2,"absoluteX"],[72,40,68,19],[72,42,69,2,"currentPage"],[72,53,69,21],[72,55,70,2,"totalPages"],[72,65,70,20],[72,67,71,2,"scrollViewWidth"],[72,82,71,25],[72,84,72,10],[73,4,73,2],[73,8,73,8,"edgeZoneWidth"],[73,21,73,21],[73,24,73,24,"scrollViewWidth"],[73,39,73,39],[73,43,73,43,"DRAG_CONFIG"],[73,69,73,43],[73,70,73,43,"DRAG_CONFIG"],[73,105,73,54],[73,106,73,55,"EDGE_ZONE_WIDTH_PERCENT"],[73,129,73,78],[73,132,73,81],[73,135,73,84],[73,136,73,85],[75,4,75,2],[76,4,76,2],[76,8,76,6,"absoluteX"],[76,17,76,15],[76,20,76,18,"edgeZoneWidth"],[76,33,76,31],[76,37,76,35,"currentPage"],[76,48,76,46],[76,51,76,49],[76,52,76,50],[76,54,76,52],[77,6,77,4],[77,13,77,11,"currentPage"],[77,24,77,22],[77,27,77,25],[77,28,77,26],[78,4,78,2],[80,4,80,2],[81,4,81,2],[81,8,81,6,"absoluteX"],[81,17,81,15],[81,20,81,18,"scrollViewWidth"],[81,35,81,33],[81,38,81,36,"edgeZoneWidth"],[81,51,81,49],[81,55,81,53,"currentPage"],[81,66,81,64],[81,69,81,67,"totalPages"],[81,79,81,77],[81,82,81,80],[81,83,81,81],[81,85,81,83],[82,6,82,4],[82,13,82,11,"currentPage"],[82,24,82,22],[82,27,82,25],[82,28,82,26],[83,4,83,2],[84,4,85,2],[84,11,85,9,"currentPage"],[84,22,85,20],[85,2,86,0],[87,2,88,0],[88,0,89,0],[89,0,90,0],[90,0,91,0],[91,0,92,0],[92,0,93,0],[93,0,94,0],[94,0,95,0],[95,2,96,7],[95,11,96,16,"isDragSignificant"],[95,28,96,33,"isDragSignificant"],[95,29,96,34,"translationX"],[95,41,96,54],[95,43,96,56,"translationY"],[95,55,96,76],[95,57,96,87],[96,4,97,2],[96,8,97,8,"distance"],[96,16,97,16],[96,19,97,19,"Math"],[96,23,97,23],[96,24,97,24,"sqrt"],[96,28,97,28],[96,29,97,29,"translationX"],[96,41,97,41],[96,45,97,45],[96,46,97,46],[96,49,97,49,"translationY"],[96,61,97,61],[96,65,97,65],[96,66,97,66],[96,67,97,67],[97,4,98,2],[97,11,98,9,"distance"],[97,19,98,17],[97,23,98,21,"DRAG_CONFIG"],[97,49,98,21],[97,50,98,21,"DRAG_CONFIG"],[97,85,98,32],[97,86,98,33,"MIN_DRAG_DISTANCE"],[97,103,98,50],[98,2,99,0],[100,2,101,0],[101,0,102,0],[102,0,103,0],[103,0,104,0],[104,0,105,0],[105,0,106,0],[106,0,107,0],[107,0,108,0],[108,2,109,7],[108,11,109,16,"calculateWidgetPosition"],[108,34,109,39,"calculateWidgetPosition"],[108,35,110,2,"widgetIndex"],[108,46,110,21],[108,48,111,2,"gridState"],[108,57,111,32],[108,59,112,2,"pageIndex"],[108,68,112,19],[108,70,113,28],[109,4,114,2],[109,8,114,10,"layout"],[109,14,114,16],[109,17,114,27,"gridState"],[109,26,114,36],[109,27,114,10,"layout"],[109,33,114,16],[110,6,114,18,"cols"],[110,10,114,22],[110,13,114,27,"gridState"],[110,22,114,36],[110,23,114,18,"cols"],[110,27,114,22],[111,4,115,2],[111,8,115,10,"cellWidth"],[111,17,115,19],[111,20,115,52,"layout"],[111,26,115,58],[111,27,115,10,"cellWidth"],[111,36,115,19],[112,6,115,21,"cellHeight"],[112,16,115,31],[112,19,115,52,"layout"],[112,25,115,58],[112,26,115,21,"cellHeight"],[112,36,115,31],[113,6,115,33,"containerWidth"],[113,20,115,47],[113,23,115,52,"layout"],[113,29,115,58],[113,30,115,33,"containerWidth"],[113,44,115,47],[114,4,117,2],[114,8,117,8,"row"],[114,11,117,11],[114,14,117,14,"Math"],[114,18,117,18],[114,19,117,19,"floor"],[114,24,117,24],[114,25,117,25,"widgetIndex"],[114,36,117,36],[114,39,117,39,"cols"],[114,43,117,43],[114,44,117,44],[115,4,118,2],[115,8,118,8,"col"],[115,11,118,11],[115,14,118,14,"widgetIndex"],[115,25,118,25],[115,28,118,28,"cols"],[115,32,118,32],[116,4,120,2],[116,11,120,9],[117,6,121,4,"x"],[117,7,121,5],[117,9,121,7,"pageIndex"],[117,18,121,16],[117,21,121,19,"containerWidth"],[117,35,121,33],[117,38,121,36,"col"],[117,41,121,39],[117,44,121,42,"cellWidth"],[117,53,121,51],[118,6,122,4,"y"],[118,7,122,5],[118,9,122,7,"row"],[118,12,122,10],[118,15,122,13,"cellHeight"],[119,4,123,2],[119,5,123,3],[120,2,124,0],[121,0,124,1],[121,3]],"functionMap":{"names":["<global>","calculateHoverIndex","calculateTargetPage","isDragSignificant","calculateWidgetPosition"],"mappings":"AAA;OCmB;CDoC;OEW;CFmB;OGU;CHG;OIU;CJe"}},"type":"js/module"}]}