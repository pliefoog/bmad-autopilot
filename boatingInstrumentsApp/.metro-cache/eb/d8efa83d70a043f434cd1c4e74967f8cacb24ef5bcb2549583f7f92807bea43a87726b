{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"fGo7mEc/tw/OblLqGBCp3J3h+jY=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"fnQVLibs90KHiJ7y48fLgPWzDS0=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./isRecordEqual.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":47},"end":{"line":4,"column":51,"index":98}}],"key":"E5lU3h554k94C0V5puhR219BWnU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\").default;\n  var _interopRequireWildcard = require(_dependencyMap[1], \"@babel/runtime/helpers/interopRequireWildcard\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.CHILD_STATE = void 0;\n  exports.useRouteCache = useRouteCache;\n  var _objectWithoutProperties2 = _interopRequireDefault(require(_dependencyMap[2], \"@babel/runtime/helpers/objectWithoutProperties\"));\n  var React = _interopRequireWildcard(require(_dependencyMap[3], \"react\"));\n  var _excluded = [\"state\"];\n  /**\n   * Utilities such as `getFocusedRouteNameFromRoute` need to access state.\n   * So we need a way to suppress the warning for those use cases.\n   * This is fine since they are internal utilities and this is not public API.\n   */\n  var CHILD_STATE = exports.CHILD_STATE = Symbol('CHILD_STATE');\n\n  /**\n   * Hook to cache route props for each screen in the navigator.\n   * This lets add warnings and modifications to the route object but keep references between renders.\n   */\n  function useRouteCache(routes) {\n    // Cache object which holds route objects for each screen\n    var cache = React.useMemo(() => ({\n      current: new Map()\n    }), []);\n    cache.current = routes.reduce((acc, route) => {\n      var previous = cache.current.get(route.key);\n      var state = route.state,\n        routeWithoutState = (0, _objectWithoutProperties2.default)(route, _excluded);\n      var proxy;\n      if (previous && (0, require(_dependencyMap[4], \"./isRecordEqual.js\").isRecordEqual)(previous, routeWithoutState)) {\n        // If a cached route object already exists, reuse it\n        proxy = previous;\n      } else {\n        proxy = routeWithoutState;\n      }\n      if (process.env.NODE_ENV !== 'production') {\n        // FIXME: since the state is updated with mutation, the route object cannot be frozen\n        // As a workaround, loop through the object and make the properties readonly\n        for (var key in proxy) {\n          // @ts-expect-error: this is fine since we are looping through the object\n          var value = proxy[key];\n          Object.defineProperty(proxy, key, {\n            enumerable: true,\n            configurable: true,\n            writable: false,\n            value\n          });\n        }\n      }\n      Object.defineProperty(proxy, CHILD_STATE, {\n        enumerable: false,\n        configurable: true,\n        value: state\n      });\n      acc.set(route.key, proxy);\n      return acc;\n    }, new Map());\n    return Array.from(cache.current.values());\n  }\n});","lineCount":65,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_interopRequireDefault"],[4,28,1,13],[4,31,1,13,"require"],[4,38,1,13],[4,39,1,13,"_dependencyMap"],[4,53,1,13],[4,106,1,13,"default"],[4,113,1,13],[5,2,1,13],[5,6,1,13,"_interopRequireWildcard"],[5,29,1,13],[5,32,1,13,"require"],[5,39,1,13],[5,40,1,13,"_dependencyMap"],[5,54,1,13],[5,108,1,13,"default"],[5,115,1,13],[6,2,1,13,"Object"],[6,8,1,13],[6,9,1,13,"defineProperty"],[6,23,1,13],[6,24,1,13,"exports"],[6,31,1,13],[7,4,1,13,"value"],[7,9,1,13],[8,2,1,13],[9,2,1,13,"exports"],[9,9,1,13],[9,10,1,13,"CHILD_STATE"],[9,21,1,13],[10,2,1,13,"exports"],[10,9,1,13],[10,10,1,13,"useRouteCache"],[10,23,1,13],[10,26,1,13,"useRouteCache"],[10,39,1,13],[11,2,1,13],[11,6,1,13,"_objectWithoutProperties2"],[11,31,1,13],[11,34,1,13,"_interopRequireDefault"],[11,56,1,13],[11,57,1,13,"require"],[11,64,1,13],[11,65,1,13,"_dependencyMap"],[11,79,1,13],[12,2,3,0],[12,6,3,0,"React"],[12,11,3,0],[12,14,3,0,"_interopRequireWildcard"],[12,37,3,0],[12,38,3,0,"require"],[12,45,3,0],[12,46,3,0,"_dependencyMap"],[12,60,3,0],[13,2,3,31],[13,6,3,31,"_excluded"],[13,15,3,31],[14,2,5,0],[15,0,6,0],[16,0,7,0],[17,0,8,0],[18,0,9,0],[19,2,10,7],[19,6,10,13,"CHILD_STATE"],[19,17,10,24],[19,20,10,24,"exports"],[19,27,10,24],[19,28,10,24,"CHILD_STATE"],[19,39,10,24],[19,42,10,27,"Symbol"],[19,48,10,33],[19,49,10,34],[19,62,10,47],[19,63,10,48],[21,2,12,0],[22,0,13,0],[23,0,14,0],[24,0,15,0],[25,2,16,7],[25,11,16,16,"useRouteCache"],[25,24,16,29,"useRouteCache"],[25,25,16,30,"routes"],[25,31,16,36],[25,33,16,38],[26,4,17,2],[27,4,18,2],[27,8,18,8,"cache"],[27,13,18,13],[27,16,18,16,"React"],[27,21,18,21],[27,22,18,22,"useMemo"],[27,29,18,29],[27,30,18,30],[27,37,18,37],[28,6,19,4,"current"],[28,13,19,11],[28,15,19,13],[28,19,19,17,"Map"],[28,22,19,20],[28,23,19,21],[29,4,20,2],[29,5,20,3],[29,6,20,4],[29,8,20,6],[29,10,20,8],[29,11,20,9],[30,4,21,2,"cache"],[30,9,21,7],[30,10,21,8,"current"],[30,17,21,15],[30,20,21,18,"routes"],[30,26,21,24],[30,27,21,25,"reduce"],[30,33,21,31],[30,34,21,32],[30,35,21,33,"acc"],[30,38,21,36],[30,40,21,38,"route"],[30,45,21,43],[30,50,21,48],[31,6,22,4],[31,10,22,10,"previous"],[31,18,22,18],[31,21,22,21,"cache"],[31,26,22,26],[31,27,22,27,"current"],[31,34,22,34],[31,35,22,35,"get"],[31,38,22,38],[31,39,22,39,"route"],[31,44,22,44],[31,45,22,45,"key"],[31,48,22,48],[31,49,22,49],[32,6,23,4],[32,10,24,6,"state"],[32,15,24,11],[32,18,26,8,"route"],[32,23,26,13],[32,24,24,6,"state"],[32,29,24,11],[33,8,25,9,"routeWithoutState"],[33,25,25,26],[33,32,25,26,"_objectWithoutProperties2"],[33,57,25,26],[33,58,25,26,"default"],[33,65,25,26],[33,67,26,8,"route"],[33,72,26,13],[33,74,26,13,"_excluded"],[33,83,26,13],[34,6,27,4],[34,10,27,8,"proxy"],[34,15,27,13],[35,6,28,4],[35,10,28,8,"previous"],[35,18,28,16],[35,22,28,20],[35,26,28,20,"isRecordEqual"],[35,52,28,20],[35,53,28,20,"isRecordEqual"],[35,88,28,33],[35,90,28,34,"previous"],[35,98,28,42],[35,100,28,44,"routeWithoutState"],[35,117,28,61],[35,118,28,62],[35,120,28,64],[36,8,29,6],[37,8,30,6,"proxy"],[37,13,30,11],[37,16,30,14,"previous"],[37,24,30,22],[38,6,31,4],[38,7,31,5],[38,13,31,11],[39,8,32,6,"proxy"],[39,13,32,11],[39,16,32,14,"routeWithoutState"],[39,33,32,31],[40,6,33,4],[41,6,34,4],[41,10,34,8,"process"],[41,17,34,15],[41,18,34,16,"env"],[41,21,34,19],[41,22,34,20,"NODE_ENV"],[41,30,34,28],[41,35,34,33],[41,47,34,45],[41,49,34,47],[42,8,35,6],[43,8,36,6],[44,8,37,6],[44,13,37,11],[44,17,37,17,"key"],[44,20,37,20],[44,24,37,24,"proxy"],[44,29,37,29],[44,31,37,31],[45,10,38,8],[46,10,39,8],[46,14,39,14,"value"],[46,19,39,19],[46,22,39,22,"proxy"],[46,27,39,27],[46,28,39,28,"key"],[46,31,39,31],[46,32,39,32],[47,10,40,8,"Object"],[47,16,40,14],[47,17,40,15,"defineProperty"],[47,31,40,29],[47,32,40,30,"proxy"],[47,37,40,35],[47,39,40,37,"key"],[47,42,40,40],[47,44,40,42],[48,12,41,10,"enumerable"],[48,22,41,20],[48,24,41,22],[48,28,41,26],[49,12,42,10,"configurable"],[49,24,42,22],[49,26,42,24],[49,30,42,28],[50,12,43,10,"writable"],[50,20,43,18],[50,22,43,20],[50,27,43,25],[51,12,44,10,"value"],[52,10,45,8],[52,11,45,9],[52,12,45,10],[53,8,46,6],[54,6,47,4],[55,6,48,4,"Object"],[55,12,48,10],[55,13,48,11,"defineProperty"],[55,27,48,25],[55,28,48,26,"proxy"],[55,33,48,31],[55,35,48,33,"CHILD_STATE"],[55,46,48,44],[55,48,48,46],[56,8,49,6,"enumerable"],[56,18,49,16],[56,20,49,18],[56,25,49,23],[57,8,50,6,"configurable"],[57,20,50,18],[57,22,50,20],[57,26,50,24],[58,8,51,6,"value"],[58,13,51,11],[58,15,51,13,"state"],[59,6,52,4],[59,7,52,5],[59,8,52,6],[60,6,53,4,"acc"],[60,9,53,7],[60,10,53,8,"set"],[60,13,53,11],[60,14,53,12,"route"],[60,19,53,17],[60,20,53,18,"key"],[60,23,53,21],[60,25,53,23,"proxy"],[60,30,53,28],[60,31,53,29],[61,6,54,4],[61,13,54,11,"acc"],[61,16,54,14],[62,4,55,2],[62,5,55,3],[62,7,55,5],[62,11,55,9,"Map"],[62,14,55,12],[62,15,55,13],[62,16,55,14],[62,17,55,15],[63,4,56,2],[63,11,56,9,"Array"],[63,16,56,14],[63,17,56,15,"from"],[63,21,56,19],[63,22,56,20,"cache"],[63,27,56,25],[63,28,56,26,"current"],[63,35,56,33],[63,36,56,34,"values"],[63,42,56,40],[63,43,56,41],[63,44,56,42],[63,45,56,43],[64,2,57,0],[65,0,57,1],[65,3]],"functionMap":{"names":["<global>","useRouteCache","React.useMemo$argument_0","routes.reduce$argument_0"],"mappings":"AAA;OCe;8BCE;IDE;gCEC;GFkC;CDE"}},"type":"js/module"}]}