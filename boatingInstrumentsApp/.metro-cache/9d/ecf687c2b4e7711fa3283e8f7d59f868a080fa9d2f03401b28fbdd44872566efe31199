{"dependencies":[{"name":"../../global-state/router-store","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":23,"index":287},"end":{"line":6,"column":65,"index":329}},{"start":{"line":6,"column":23,"index":287},"end":{"line":6,"column":65,"index":329}}],"key":"34G8cf9eMVuL1UIt4w1T43KGPlk=","exportNames":["*"],"imports":2}},{"name":"../href","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":15,"index":403},"end":{"line":8,"column":33,"index":421}},{"start":{"line":8,"column":15,"index":403},"end":{"line":8,"column":33,"index":421}}],"key":"JFYDN89CjCE9uy6rzcI/l/zLru8=","exportNames":["*"],"imports":2}},{"name":"../../global-state/routing","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":18,"index":349},"end":{"line":7,"column":55,"index":386}},{"start":{"line":7,"column":18,"index":349},"end":{"line":7,"column":55,"index":386}},{"start":{"line":7,"column":18,"index":349},"end":{"line":7,"column":55,"index":386}}],"key":"/KYD16J3C+S2+TKpFA4/GL5ghgM=","exportNames":["*"],"imports":3}},{"name":"../../navigationParams","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":27,"index":450},"end":{"line":9,"column":60,"index":483}},{"start":{"line":9,"column":27,"index":450},"end":{"line":9,"column":60,"index":483}},{"start":{"line":9,"column":27,"index":450},"end":{"line":9,"column":60,"index":483}},{"start":{"line":9,"column":27,"index":450},"end":{"line":9,"column":60,"index":483}}],"key":"XAh+4Y1ikoKrpGxORep8MZ3uXwI=","exportNames":["*"],"imports":4}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getTabPathFromRootStateByHref = getTabPathFromRootStateByHref;\n  exports.getPreloadedRouteFromRootStateByHref = getPreloadedRouteFromRootStateByHref;\n  exports.deepEqual = deepEqual;\n  function getTabPathFromRootStateByHref(href, rootState) {\n    var hrefState = require(_dependencyMap[0], \"../../global-state/router-store\").store.getStateForHref((0, require(_dependencyMap[1], \"../href\").resolveHref)(href));\n    var state = rootState;\n    if (!hrefState || !state) {\n      return [];\n    }\n    // Replicating the logic from `linkTo`\n    var _ref = (0, require(_dependencyMap[2], \"../../global-state/routing\").findDivergentState)(hrefState, state, true),\n      navigationRoutes = _ref.navigationRoutes;\n    if (!navigationRoutes.length) {\n      return [];\n    }\n    var tabPath = [];\n    navigationRoutes.forEach((route, i, arr) => {\n      if (route.state?.type === 'tab') {\n        var tabState = route.state;\n        var oldTabKey = tabState.routes[tabState.index].key;\n        // The next route will be either stack inside a tab or a new tab key\n        if (!arr[i + 1]) {\n          throw new Error(`New tab route is missing for ${route.key}. This is likely an internal Expo Router bug.`);\n        }\n        var newTabKey = arr[i + 1].key;\n        tabPath.push({\n          oldTabKey,\n          newTabKey\n        });\n      }\n    });\n    return tabPath;\n  }\n  function getPreloadedRouteFromRootStateByHref(href, rootState) {\n    var hrefState = require(_dependencyMap[0], \"../../global-state/router-store\").store.getStateForHref((0, require(_dependencyMap[1], \"../href\").resolveHref)(href));\n    var state = rootState;\n    if (!hrefState || !state) {\n      return undefined;\n    }\n    // Replicating the logic from `linkTo`\n    var _ref2 = (0, require(_dependencyMap[2], \"../../global-state/routing\").findDivergentState)(hrefState, state, true),\n      navigationState = _ref2.navigationState,\n      actionStateRoute = _ref2.actionStateRoute;\n    if (!navigationState || !actionStateRoute) {\n      return undefined;\n    }\n    if (navigationState.type === 'stack') {\n      var stackState = navigationState;\n      var payload = (0, require(_dependencyMap[2], \"../../global-state/routing\").getPayloadFromStateRoute)(actionStateRoute);\n      var preloadedRoute = stackState.preloadedRoutes.find(route => route.name === actionStateRoute.name && deepEqual((0, require(_dependencyMap[3], \"../../navigationParams\").removeInternalExpoRouterParams)(route.params), (0, require(_dependencyMap[3], \"../../navigationParams\").removeInternalExpoRouterParams)(payload.params)));\n      var activeRoute = stackState.routes[stackState.index];\n      // When the active route is the same as the preloaded route,\n      // then we should not navigate. It aligns with base link behavior.\n      if (activeRoute.name === preloadedRoute?.name && deepEqual(\n      // using ?? {}, because from our perspective undefined === {}, as both mean no params\n      (0, require(_dependencyMap[3], \"../../navigationParams\").removeInternalExpoRouterParams)(activeRoute.params ?? {}), (0, require(_dependencyMap[3], \"../../navigationParams\").removeInternalExpoRouterParams)(payload.params ?? {}))) {\n        return undefined;\n      }\n      return preloadedRoute;\n    }\n    return undefined;\n  }\n  function deepEqual(a, b) {\n    if (a === b) {\n      return true;\n    }\n    if (a == null || b == null) {\n      return false;\n    }\n    if (typeof a !== 'object' || typeof b !== 'object') {\n      return false;\n    }\n    var keys = Object.keys(a);\n    return keys.length === Object.keys(b).length && keys.every(key => deepEqual(a[key], b[key]));\n  }\n});","lineCount":82,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"getTabPathFromRootStateByHref"],[7,39,3,37],[7,42,3,40,"getTabPathFromRootStateByHref"],[7,71,3,69],[8,2,4,0,"exports"],[8,9,4,7],[8,10,4,8,"getPreloadedRouteFromRootStateByHref"],[8,46,4,44],[8,49,4,47,"getPreloadedRouteFromRootStateByHref"],[8,85,4,83],[9,2,5,0,"exports"],[9,9,5,7],[9,10,5,8,"deepEqual"],[9,19,5,17],[9,22,5,20,"deepEqual"],[9,31,5,29],[10,2,10,0],[10,11,10,9,"getTabPathFromRootStateByHref"],[10,40,10,38,"getTabPathFromRootStateByHref"],[10,41,10,39,"href"],[10,45,10,43],[10,47,10,45,"rootState"],[10,56,10,54],[10,58,10,56],[11,4,11,4],[11,8,11,10,"hrefState"],[11,17,11,19],[11,20,11,22,"require"],[11,27,11,22],[11,28,11,22,"_dependencyMap"],[11,42,11,22],[11,82,11,37,"store"],[11,87,11,42],[11,88,11,43,"getStateForHref"],[11,103,11,58],[11,104,11,59],[11,105,11,60],[11,106,11,61],[11,108,11,63,"require"],[11,115,11,63],[11,116,11,63,"_dependencyMap"],[11,130,11,63],[11,146,11,70,"resolveHref"],[11,157,11,81],[11,159,11,83,"href"],[11,163,11,87],[11,164,11,88],[11,165,11,89],[12,4,12,4],[12,8,12,10,"state"],[12,13,12,15],[12,16,12,18,"rootState"],[12,25,12,27],[13,4,13,4],[13,8,13,8],[13,9,13,9,"hrefState"],[13,18,13,18],[13,22,13,22],[13,23,13,23,"state"],[13,28,13,28],[13,30,13,30],[14,6,14,8],[14,13,14,15],[14,15,14,17],[15,4,15,4],[16,4,16,4],[17,4,17,4],[17,8,17,4,"_ref"],[17,12,17,4],[17,15,17,33],[17,16,17,34],[17,17,17,35],[17,19,17,37,"require"],[17,26,17,37],[17,27,17,37,"_dependencyMap"],[17,41,17,37],[17,76,17,47,"findDivergentState"],[17,94,17,65],[17,96,17,67,"hrefState"],[17,105,17,76],[17,107,17,78,"state"],[17,112,17,83],[17,114,17,85],[17,118,17,89],[17,119,17,90],[18,6,17,12,"navigationRoutes"],[18,22,17,28],[18,25,17,28,"_ref"],[18,29,17,28],[18,30,17,12,"navigationRoutes"],[18,46,17,28],[19,4,18,4],[19,8,18,8],[19,9,18,9,"navigationRoutes"],[19,25,18,25],[19,26,18,26,"length"],[19,32,18,32],[19,34,18,34],[20,6,19,8],[20,13,19,15],[20,15,19,17],[21,4,20,4],[22,4,21,4],[22,8,21,10,"tabPath"],[22,15,21,17],[22,18,21,20],[22,20,21,22],[23,4,22,4,"navigationRoutes"],[23,20,22,20],[23,21,22,21,"forEach"],[23,28,22,28],[23,29,22,29],[23,30,22,30,"route"],[23,35,22,35],[23,37,22,37,"i"],[23,38,22,38],[23,40,22,40,"arr"],[23,43,22,43],[23,48,22,48],[24,6,23,8],[24,10,23,12,"route"],[24,15,23,17],[24,16,23,18,"state"],[24,21,23,23],[24,23,23,25,"type"],[24,27,23,29],[24,32,23,34],[24,37,23,39],[24,39,23,41],[25,8,24,12],[25,12,24,18,"tabState"],[25,20,24,26],[25,23,24,29,"route"],[25,28,24,34],[25,29,24,35,"state"],[25,34,24,40],[26,8,25,12],[26,12,25,18,"oldTabKey"],[26,21,25,27],[26,24,25,30,"tabState"],[26,32,25,38],[26,33,25,39,"routes"],[26,39,25,45],[26,40,25,46,"tabState"],[26,48,25,54],[26,49,25,55,"index"],[26,54,25,60],[26,55,25,61],[26,56,25,62,"key"],[26,59,25,65],[27,8,26,12],[28,8,27,12],[28,12,27,16],[28,13,27,17,"arr"],[28,16,27,20],[28,17,27,21,"i"],[28,18,27,22],[28,21,27,25],[28,22,27,26],[28,23,27,27],[28,25,27,29],[29,10,28,16],[29,16,28,22],[29,20,28,26,"Error"],[29,25,28,31],[29,26,28,32],[29,58,28,64,"route"],[29,63,28,69],[29,64,28,70,"key"],[29,67,28,73],[29,114,28,120],[29,115,28,121],[30,8,29,12],[31,8,30,12],[31,12,30,18,"newTabKey"],[31,21,30,27],[31,24,30,30,"arr"],[31,27,30,33],[31,28,30,34,"i"],[31,29,30,35],[31,32,30,38],[31,33,30,39],[31,34,30,40],[31,35,30,41,"key"],[31,38,30,44],[32,8,31,12,"tabPath"],[32,15,31,19],[32,16,31,20,"push"],[32,20,31,24],[32,21,31,25],[33,10,31,27,"oldTabKey"],[33,19,31,36],[34,10,31,38,"newTabKey"],[35,8,31,48],[35,9,31,49],[35,10,31,50],[36,6,32,8],[37,4,33,4],[37,5,33,5],[37,6,33,6],[38,4,34,4],[38,11,34,11,"tabPath"],[38,18,34,18],[39,2,35,0],[40,2,36,0],[40,11,36,9,"getPreloadedRouteFromRootStateByHref"],[40,47,36,45,"getPreloadedRouteFromRootStateByHref"],[40,48,36,46,"href"],[40,52,36,50],[40,54,36,52,"rootState"],[40,63,36,61],[40,65,36,63],[41,4,37,4],[41,8,37,10,"hrefState"],[41,17,37,19],[41,20,37,22,"require"],[41,27,37,22],[41,28,37,22,"_dependencyMap"],[41,42,37,22],[41,82,37,37,"store"],[41,87,37,42],[41,88,37,43,"getStateForHref"],[41,103,37,58],[41,104,37,59],[41,105,37,60],[41,106,37,61],[41,108,37,63,"require"],[41,115,37,63],[41,116,37,63,"_dependencyMap"],[41,130,37,63],[41,146,37,70,"resolveHref"],[41,157,37,81],[41,159,37,83,"href"],[41,163,37,87],[41,164,37,88],[41,165,37,89],[42,4,38,4],[42,8,38,10,"state"],[42,13,38,15],[42,16,38,18,"rootState"],[42,25,38,27],[43,4,39,4],[43,8,39,8],[43,9,39,9,"hrefState"],[43,18,39,18],[43,22,39,22],[43,23,39,23,"state"],[43,28,39,28],[43,30,39,30],[44,6,40,8],[44,13,40,15,"undefined"],[44,22,40,24],[45,4,41,4],[46,4,42,4],[47,4,43,4],[47,8,43,4,"_ref2"],[47,13,43,4],[47,16,43,50],[47,17,43,51],[47,18,43,52],[47,20,43,54,"require"],[47,27,43,54],[47,28,43,54,"_dependencyMap"],[47,42,43,54],[47,77,43,64,"findDivergentState"],[47,95,43,82],[47,97,43,84,"hrefState"],[47,106,43,93],[47,108,43,95,"state"],[47,113,43,100],[47,115,43,102],[47,119,43,106],[47,120,43,107],[48,6,43,12,"navigationState"],[48,21,43,27],[48,24,43,27,"_ref2"],[48,29,43,27],[48,30,43,12,"navigationState"],[48,45,43,27],[49,6,43,29,"actionStateRoute"],[49,22,43,45],[49,25,43,45,"_ref2"],[49,30,43,45],[49,31,43,29,"actionStateRoute"],[49,47,43,45],[50,4,44,4],[50,8,44,8],[50,9,44,9,"navigationState"],[50,24,44,24],[50,28,44,28],[50,29,44,29,"actionStateRoute"],[50,45,44,45],[50,47,44,47],[51,6,45,8],[51,13,45,15,"undefined"],[51,22,45,24],[52,4,46,4],[53,4,47,4],[53,8,47,8,"navigationState"],[53,23,47,23],[53,24,47,24,"type"],[53,28,47,28],[53,33,47,33],[53,40,47,40],[53,42,47,42],[54,6,48,8],[54,10,48,14,"stackState"],[54,20,48,24],[54,23,48,27,"navigationState"],[54,38,48,42],[55,6,49,8],[55,10,49,14,"payload"],[55,17,49,21],[55,20,49,24],[55,21,49,25],[55,22,49,26],[55,24,49,28,"require"],[55,31,49,28],[55,32,49,28,"_dependencyMap"],[55,46,49,28],[55,81,49,38,"getPayloadFromStateRoute"],[55,105,49,62],[55,107,49,64,"actionStateRoute"],[55,123,49,80],[55,124,49,81],[56,6,50,8],[56,10,50,14,"preloadedRoute"],[56,24,50,28],[56,27,50,31,"stackState"],[56,37,50,41],[56,38,50,42,"preloadedRoutes"],[56,53,50,57],[56,54,50,58,"find"],[56,58,50,62],[56,59,50,64,"route"],[56,64,50,69],[56,68,50,74,"route"],[56,73,50,79],[56,74,50,80,"name"],[56,78,50,84],[56,83,50,89,"actionStateRoute"],[56,99,50,105],[56,100,50,106,"name"],[56,104,50,110],[56,108,51,12,"deepEqual"],[56,117,51,21],[56,118,51,22],[56,119,51,23],[56,120,51,24],[56,122,51,26,"require"],[56,129,51,26],[56,130,51,26,"_dependencyMap"],[56,144,51,26],[56,175,51,45,"removeInternalExpoRouterParams"],[56,205,51,75],[56,207,51,77,"route"],[56,212,51,82],[56,213,51,83,"params"],[56,219,51,89],[56,220,51,90],[56,222,51,92],[56,223,51,93],[56,224,51,94],[56,226,51,96,"require"],[56,233,51,96],[56,234,51,96,"_dependencyMap"],[56,248,51,96],[56,279,51,115,"removeInternalExpoRouterParams"],[56,309,51,145],[56,311,51,147,"payload"],[56,318,51,154],[56,319,51,155,"params"],[56,325,51,161],[56,326,51,162],[56,327,51,163],[56,328,51,164],[57,6,52,8],[57,10,52,14,"activeRoute"],[57,21,52,25],[57,24,52,28,"stackState"],[57,34,52,38],[57,35,52,39,"routes"],[57,41,52,45],[57,42,52,46,"stackState"],[57,52,52,56],[57,53,52,57,"index"],[57,58,52,62],[57,59,52,63],[58,6,53,8],[59,6,54,8],[60,6,55,8],[60,10,55,12,"activeRoute"],[60,21,55,23],[60,22,55,24,"name"],[60,26,55,28],[60,31,55,33,"preloadedRoute"],[60,45,55,47],[60,47,55,49,"name"],[60,51,55,53],[60,55,56,12,"deepEqual"],[60,64,56,21],[61,6,57,12],[62,6,58,12],[62,7,58,13],[62,8,58,14],[62,10,58,16,"require"],[62,17,58,16],[62,18,58,16,"_dependencyMap"],[62,32,58,16],[62,63,58,35,"removeInternalExpoRouterParams"],[62,93,58,65],[62,95,58,67,"activeRoute"],[62,106,58,78],[62,107,58,79,"params"],[62,113,58,85],[62,117,58,89],[62,118,58,90],[62,119,58,91],[62,120,58,92],[62,122,58,94],[62,123,58,95],[62,124,58,96],[62,126,58,98,"require"],[62,133,58,98],[62,134,58,98,"_dependencyMap"],[62,148,58,98],[62,179,58,117,"removeInternalExpoRouterParams"],[62,209,58,147],[62,211,58,149,"payload"],[62,218,58,156],[62,219,58,157,"params"],[62,225,58,163],[62,229,58,167],[62,230,58,168],[62,231,58,169],[62,232,58,170],[62,233,58,171],[62,235,58,173],[63,8,59,12],[63,15,59,19,"undefined"],[63,24,59,28],[64,6,60,8],[65,6,61,8],[65,13,61,15,"preloadedRoute"],[65,27,61,29],[66,4,62,4],[67,4,63,4],[67,11,63,11,"undefined"],[67,20,63,20],[68,2,64,0],[69,2,65,0],[69,11,65,9,"deepEqual"],[69,20,65,18,"deepEqual"],[69,21,65,19,"a"],[69,22,65,20],[69,24,65,22,"b"],[69,25,65,23],[69,27,65,25],[70,4,66,4],[70,8,66,8,"a"],[70,9,66,9],[70,14,66,14,"b"],[70,15,66,15],[70,17,66,17],[71,6,67,8],[71,13,67,15],[71,17,67,19],[72,4,68,4],[73,4,69,4],[73,8,69,8,"a"],[73,9,69,9],[73,13,69,13],[73,17,69,17],[73,21,69,21,"b"],[73,22,69,22],[73,26,69,26],[73,30,69,30],[73,32,69,32],[74,6,70,8],[74,13,70,15],[74,18,70,20],[75,4,71,4],[76,4,72,4],[76,8,72,8],[76,15,72,15,"a"],[76,16,72,16],[76,21,72,21],[76,29,72,29],[76,33,72,33],[76,40,72,40,"b"],[76,41,72,41],[76,46,72,46],[76,54,72,54],[76,56,72,56],[77,6,73,8],[77,13,73,15],[77,18,73,20],[78,4,74,4],[79,4,75,4],[79,8,75,10,"keys"],[79,12,75,14],[79,15,75,17,"Object"],[79,21,75,23],[79,22,75,24,"keys"],[79,26,75,28],[79,27,75,29,"a"],[79,28,75,30],[79,29,75,31],[80,4,76,4],[80,11,76,11,"keys"],[80,15,76,15],[80,16,76,16,"length"],[80,22,76,22],[80,27,76,27,"Object"],[80,33,76,33],[80,34,76,34,"keys"],[80,38,76,38],[80,39,76,39,"b"],[80,40,76,40],[80,41,76,41],[80,42,76,42,"length"],[80,48,76,48],[80,52,76,52,"keys"],[80,56,76,56],[80,57,76,57,"every"],[80,62,76,62],[80,63,76,64,"key"],[80,66,76,67],[80,70,76,72,"deepEqual"],[80,79,76,81],[80,80,76,82,"a"],[80,81,76,83],[80,82,76,84,"key"],[80,85,76,87],[80,86,76,88],[80,88,76,90,"b"],[80,89,76,91],[80,90,76,92,"key"],[80,93,76,95],[80,94,76,96],[80,95,76,97],[80,96,76,98],[81,2,77,0],[82,0,77,1],[82,3]],"functionMap":{"names":["<global>","getTabPathFromRootStateByHref","navigationRoutes.forEach$argument_0","getPreloadedRouteFromRootStateByHref","stackState.preloadedRoutes.find$argument_0","deepEqual","keys.every$argument_0"],"mappings":"AAA;ACS;6BCY;KDW;CDE;AGC;+DCc;mKDC;CHa;AKC;+DCW,kCD;CLC"}},"type":"js/module"}]}